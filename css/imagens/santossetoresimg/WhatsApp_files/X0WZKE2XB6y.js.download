;/*FB_PKG_DELIM*/

__d("Hpke",["$InternalEnum","regeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";var g=new Uint8Array([0]);a=new TextEncoder();var h=a.encode("psk_id_hash"),i=a.encode("info_hash"),j=a.encode("secret"),k=a.encode("key"),l=a.encode("base_nonce"),m=a.encode("exp"),n=a.encode("HPKE"),o=a.encode("sec");c=b("$InternalEnum")({KemX25519HkdfSha256Id:32});d=b("$InternalEnum")({KdfHkdfSha256Id:1});e=b("$InternalEnum")({AeadAes128GcmId:1,AeadChaCha20Poly1305Id:3});a=function(){function a(a,b,c){this.kem=a,this.kdf=b,this.aead=c}var c=a.prototype;c.setupBaseS=function(a,c){var d,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:f.next=2;return b("regeneratorRuntime").awrap(this.kem.encap(a));case 2:d=f.sent;f.next=5;return b("regeneratorRuntime").awrap(this.keySchedule(d.sharedSecret,c));case 5:e=f.sent;return f.abrupt("return",{enc:d.enc,ctx:e});case 7:case"end":return f.stop()}},null,this)};c.setupBaseR=function(a,c,d){var e,f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:g.next=2;return b("regeneratorRuntime").awrap(this.kem.decap(a,c));case 2:e=g.sent;g.next=5;return b("regeneratorRuntime").awrap(this.keySchedule(e,d));case 5:f=g.sent;return g.abrupt("return",f);case 7:case"end":return g.stop()}},null,this)};c.keySchedule=function(a,c){var d,e,f,n,o,r,t,u;return b("regeneratorRuntime").async(function(v){while(1)switch(v.prev=v.next){case 0:d=s(this.kem.kem_id,this.kdf.kdf_id,this.aead.aead_id);v.next=3;return b("regeneratorRuntime").awrap(this.kdf.labeledExtract(new Uint8Array(0),h,new Uint8Array(0),d));case 3:e=v.sent;v.next=6;return b("regeneratorRuntime").awrap(this.kdf.labeledExtract(new Uint8Array(0),i,c,d));case 6:f=v.sent;n=q(g,e,f);v.next=10;return b("regeneratorRuntime").awrap(this.kdf.labeledExtract(a,j,new Uint8Array(0),d));case 10:o=v.sent;v.next=13;return b("regeneratorRuntime").awrap(this.kdf.labeledExpand(o,k,n,this.aead.nK,d));case 13:r=v.sent;v.next=16;return b("regeneratorRuntime").awrap(this.kdf.labeledExpand(o,l,n,this.aead.nN,d));case 16:t=v.sent;v.next=19;return b("regeneratorRuntime").awrap(this.kdf.labeledExpand(o,m,n,this.kdf.nH,d));case 19:u=v.sent;return v.abrupt("return",new p(r,t,p.defaultSeq(this.aead.nN),u,this.aead,this.kdf,d));case 21:case"end":return v.stop()}},null,this)};c.sealSingleShot=function(a,c,d,e){var f,g;return b("regeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:h.next=2;return b("regeneratorRuntime").awrap(this.setupBaseS(a,c));case 2:f=h.sent;h.next=5;return b("regeneratorRuntime").awrap(f.ctx.seal(d,e));case 5:g=h.sent;return h.abrupt("return",{ct:g,enc:f.enc});case 7:case"end":return h.stop()}},null,this)};c.openSingleShot=function(a,c,d,e,f){var g,h;return b("regeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:i.next=2;return b("regeneratorRuntime").awrap(this.setupBaseR(a,c,d));case 2:g=i.sent;h=g.open(e,f);return i.abrupt("return",h);case 5:case"end":return i.stop()}},null,this)};return a}();var p=function(){function a(a,b,c,d,e,f,g){this.key=a,this.base_nonce=b,this.seq=c,this.exporter_secret=d,this.aead=e,this.kdf=f,this.suite_id=g}a.defaultSeq=function(a){return new Uint8Array(a).fill(0)};var c=a.prototype;c.seal=function(a,c){var d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(this.aead.seal(this.key,this.computeNonce(),a,c));case 2:d=e.sent;this.incrementSeq();return e.abrupt("return",d);case 5:case"end":return e.stop()}},null,this)};c.open=function(a,c){var d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(this.aead.open(this.key,this.computeNonce(),a,c));case 2:d=e.sent;this.incrementSeq();return e.abrupt("return",d);case 5:case"end":return e.stop()}},null,this)};c.computeNonce=function(){return t(this.base_nonce,this.seq)};c.incrementSeq=function(){var a=!1;for(var b=this.seq.byteLength-1;b>=0&&!a;b--)this.seq[b]!==255?(this.seq[b]+=1,a=!0):this.seq[b]=0};c.setSeq=function(a){this.seq=a};c["export"]=function(a,c){var d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(this.kdf.labeledExpand(this.exporter_secret,o,a,c,this.suite_id));case 2:d=e.sent;return e.abrupt("return",d);case 4:case"end":return e.stop()}},null,this)};return a}();function q(){var a=0;for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];c.forEach(function(b){return a+=b.byteLength});var e=new Uint8Array(a),f=0;c.forEach(function(a){e.set(a,f),f+=a.byteLength});return e}function r(a,b){var c=new Uint8Array(b);a=a;for(var d=0;d<b&&a;d++)c[b-(d+1)]=a%256,a>>=8;return c}function s(a,b,c){a=q(n,r(a,2),r(b,2),r(c,2));return a}function t(a,b){if(a.byteLength!==b.byteLength){var c=new Error("Xor: different length inputs");c.stack;throw c}c=new Uint8Array(a.byteLength);for(var d=0;d<a.byteLength;d++)c[d]=a[d]^b[d];return c}f.KemID=c;f.KdfID=d;f.AeadID=e;f.Hpke=a;f.HpkeCtx=p;f.concat=q;f.i2osp=r;f.hpkeSuiteId=s;f.xor=t}),66);
__d("AeadAes128Gcm",["Hpke","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h=window.crypto||window.msCrypto;a=function(){function a(a){a===void 0&&(a=h.subtle),this.aead_id=d("Hpke").AeadID.AeadAes128GcmId,this.nK=16,this.nN=12,this.nT=16,this.internalCryptoProvider=null,this.internalCryptoProvider=a}var c=a.prototype;c.seal=function(a,c,d,e){var f,g,h;return b("regeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:i.next=2;return b("regeneratorRuntime").awrap(this.internalCryptoProvider.importKey("raw",a,{name:"AES-GCM"},!0,["encrypt"]));case 2:f=i.sent;g={name:"AES-GCM",iv:c,additionalData:d};i.next=6;return b("regeneratorRuntime").awrap(this.internalCryptoProvider.encrypt(g,f,e));case 6:h=i.sent;return i.abrupt("return",new Uint8Array(h));case 8:case"end":return i.stop()}},null,this)};c.open=function(a,c,d,e){var f,g,h;return b("regeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:i.next=2;return b("regeneratorRuntime").awrap(this.internalCryptoProvider.importKey("raw",a,{name:"AES-GCM"},!0,["decrypt"]));case 2:f=i.sent;g={name:"AES-GCM",iv:c,additionalData:d};i.next=6;return b("regeneratorRuntime").awrap(this.internalCryptoProvider.decrypt(g,f,e));case 6:h=i.sent;return i.abrupt("return",new Uint8Array(h));case 8:case"end":return i.stop()}},null,this)};return a}();g.AeadAes128Gcm=a}),98);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("stablelib-int-1.0.1",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){Object.defineProperty(g,"__esModule",{value:!0});function a(a,b){var c=a>>>16&65535;a=a&65535;var d=b>>>16&65535;b=b&65535;return a*b+(c*b+a*d<<16>>>0)|0}g.mul=Math.imul||a;function b(a,b){return a+b|0}g.add=b;function c(a,b){return a-b|0}g.sub=c;function d(a,b){return a<<b|a>>>32-b}g.rotl=d;function e(a,b){return a<<32-b|a>>>b}g.rotr=e;function f(a){return typeof a==="number"&&isFinite(a)&&Math.floor(a)===a}g.isInteger=Number.isInteger||f;g.MAX_SAFE_INTEGER=9007199254740991;g.isSafeInteger=function(a){return g.isInteger(a)&&a>=-g.MAX_SAFE_INTEGER&&a<=g.MAX_SAFE_INTEGER}}var j=!1;function k(){j||(j=!0,i());return h.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("stablelib-binary-1.0.1",["stablelib-int-1.0.1"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("stablelib-int-1.0.1")),h={},i={exports:h};function j(){Object.defineProperty(h,"__esModule",{value:!0});var a=g();function b(a,b){b===void 0&&(b=0);return(a[b+0]<<8|a[b+1])<<16>>16}h.readInt16BE=b;function c(a,b){b===void 0&&(b=0);return(a[b+0]<<8|a[b+1])>>>0}h.readUint16BE=c;function d(a,b){b===void 0&&(b=0);return(a[b+1]<<8|a[b])<<16>>16}h.readInt16LE=d;function e(a,b){b===void 0&&(b=0);return(a[b+1]<<8|a[b])>>>0}h.readUint16LE=e;function f(a,b,c){b===void 0&&(b=new Uint8Array(2));c===void 0&&(c=0);b[c+0]=a>>>8;b[c+1]=a>>>0;return b}h.writeUint16BE=f;h.writeInt16BE=f;function i(a,b,c){b===void 0&&(b=new Uint8Array(2));c===void 0&&(c=0);b[c+0]=a>>>0;b[c+1]=a>>>8;return b}h.writeUint16LE=i;h.writeInt16LE=i;function j(a,b){b===void 0&&(b=0);return a[b]<<24|a[b+1]<<16|a[b+2]<<8|a[b+3]}h.readInt32BE=j;function k(a,b){b===void 0&&(b=0);return(a[b]<<24|a[b+1]<<16|a[b+2]<<8|a[b+3])>>>0}h.readUint32BE=k;function l(a,b){b===void 0&&(b=0);return a[b+3]<<24|a[b+2]<<16|a[b+1]<<8|a[b]}h.readInt32LE=l;function m(a,b){b===void 0&&(b=0);return(a[b+3]<<24|a[b+2]<<16|a[b+1]<<8|a[b])>>>0}h.readUint32LE=m;function n(a,b,c){b===void 0&&(b=new Uint8Array(4));c===void 0&&(c=0);b[c+0]=a>>>24;b[c+1]=a>>>16;b[c+2]=a>>>8;b[c+3]=a>>>0;return b}h.writeUint32BE=n;h.writeInt32BE=n;function o(a,b,c){b===void 0&&(b=new Uint8Array(4));c===void 0&&(c=0);b[c+0]=a>>>0;b[c+1]=a>>>8;b[c+2]=a>>>16;b[c+3]=a>>>24;return b}h.writeUint32LE=o;h.writeInt32LE=o;function p(a,b){b===void 0&&(b=0);var c=j(a,b);a=j(a,b+4);return c*4294967296+a-(a>>31)*4294967296}h.readInt64BE=p;function q(a,b){b===void 0&&(b=0);var c=k(a,b);a=k(a,b+4);return c*4294967296+a}h.readUint64BE=q;function r(a,b){b===void 0&&(b=0);var c=l(a,b);a=l(a,b+4);return a*4294967296+c-(c>>31)*4294967296}h.readInt64LE=r;function s(a,b){b===void 0&&(b=0);var c=m(a,b);a=m(a,b+4);return a*4294967296+c}h.readUint64LE=s;function t(a,b,c){b===void 0&&(b=new Uint8Array(8));c===void 0&&(c=0);n(a/4294967296>>>0,b,c);n(a>>>0,b,c+4);return b}h.writeUint64BE=t;h.writeInt64BE=t;function u(a,b,c){b===void 0&&(b=new Uint8Array(8));c===void 0&&(c=0);o(a>>>0,b,c);o(a/4294967296>>>0,b,c+4);return b}h.writeUint64LE=u;h.writeInt64LE=u;function v(a,b,c){c===void 0&&(c=0);if(a%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(a/8>b.length-c)throw new Error("readUintBE: array is too short for the given bitLength");var d=0,e=1;for(a=a/8+c-1;a>=c;a--)d+=b[a]*e,e*=256;return d}h.readUintBE=v;function w(a,b,c){c===void 0&&(c=0);if(a%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(a/8>b.length-c)throw new Error("readUintLE: array is too short for the given bitLength");var d=0,e=1;for(var f=c;f<c+a/8;f++)d+=b[f]*e,e*=256;return d}h.readUintLE=w;function x(b,c,d,e){d===void 0&&(d=new Uint8Array(b/8));e===void 0&&(e=0);if(b%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!a.isSafeInteger(c))throw new Error("writeUintBE value must be an integer");var f=1;for(b=b/8+e-1;b>=e;b--)d[b]=c/f&255,f*=256;return d}h.writeUintBE=x;function y(b,c,d,e){d===void 0&&(d=new Uint8Array(b/8));e===void 0&&(e=0);if(b%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!a.isSafeInteger(c))throw new Error("writeUintLE value must be an integer");var f=1;for(var g=e;g<e+b/8;g++)d[g]=c/f&255,f*=256;return d}h.writeUintLE=y;function z(a,b){b===void 0&&(b=0);a=new DataView(a.buffer,a.byteOffset,a.byteLength);return a.getFloat32(b)}h.readFloat32BE=z;function A(a,b){b===void 0&&(b=0);a=new DataView(a.buffer,a.byteOffset,a.byteLength);return a.getFloat32(b,!0)}h.readFloat32LE=A;function B(a,b){b===void 0&&(b=0);a=new DataView(a.buffer,a.byteOffset,a.byteLength);return a.getFloat64(b)}h.readFloat64BE=B;function C(a,b){b===void 0&&(b=0);a=new DataView(a.buffer,a.byteOffset,a.byteLength);return a.getFloat64(b,!0)}h.readFloat64LE=C;function D(a,b,c){b===void 0&&(b=new Uint8Array(4));c===void 0&&(c=0);var d=new DataView(b.buffer,b.byteOffset,b.byteLength);d.setFloat32(c,a);return b}h.writeFloat32BE=D;function E(a,b,c){b===void 0&&(b=new Uint8Array(4));c===void 0&&(c=0);var d=new DataView(b.buffer,b.byteOffset,b.byteLength);d.setFloat32(c,a,!0);return b}h.writeFloat32LE=E;function F(a,b,c){b===void 0&&(b=new Uint8Array(8));c===void 0&&(c=0);var d=new DataView(b.buffer,b.byteOffset,b.byteLength);d.setFloat64(c,a);return b}h.writeFloat64BE=F;function G(a,b,c){b===void 0&&(b=new Uint8Array(8));c===void 0&&(c=0);var d=new DataView(b.buffer,b.byteOffset,b.byteLength);d.setFloat64(c,a,!0);return b}h.writeFloat64LE=G}var k=!1;function l(){k||(k=!0,j());return i.exports}function c(a){switch(a){case void 0:return l()}}e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("stablelib-wipe-1.0.1",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){Object.defineProperty(g,"__esModule",{value:!0});function a(a){for(var b=0;b<a.length;b++)a[b]=0;return a}g.wipe=a}var j=!1;function k(){j||(j=!0,i());return h.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("stablelib-chacha-1.0.1",["stablelib-binary-1.0.1","stablelib-wipe-1.0.1"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("stablelib-binary-1.0.1")),h=a(b("stablelib-wipe-1.0.1")),i={},j={exports:i};function k(){Object.defineProperty(i,"__esModule",{value:!0});var a=g(),b=h(),c=20;function d(b,d,e){var f=1634760805,g=857760878,h=2036477234,i=1797285236,j=e[3]<<24|e[2]<<16|e[1]<<8|e[0],k=e[7]<<24|e[6]<<16|e[5]<<8|e[4],l=e[11]<<24|e[10]<<16|e[9]<<8|e[8],m=e[15]<<24|e[14]<<16|e[13]<<8|e[12],n=e[19]<<24|e[18]<<16|e[17]<<8|e[16],o=e[23]<<24|e[22]<<16|e[21]<<8|e[20],p=e[27]<<24|e[26]<<16|e[25]<<8|e[24];e=e[31]<<24|e[30]<<16|e[29]<<8|e[28];var q=d[3]<<24|d[2]<<16|d[1]<<8|d[0],r=d[7]<<24|d[6]<<16|d[5]<<8|d[4],s=d[11]<<24|d[10]<<16|d[9]<<8|d[8];d=d[15]<<24|d[14]<<16|d[13]<<8|d[12];var t=f,u=g,v=h,w=i,x=j,y=k,z=l,A=m,B=n,C=o,D=p,E=e,F=q,G=r,H=s,I=d;for(var J=0;J<c;J+=2)t=t+x|0,F^=t,F=F>>>32-16|F<<16,B=B+F|0,x^=B,x=x>>>32-12|x<<12,u=u+y|0,G^=u,G=G>>>32-16|G<<16,C=C+G|0,y^=C,y=y>>>32-12|y<<12,v=v+z|0,H^=v,H=H>>>32-16|H<<16,D=D+H|0,z^=D,z=z>>>32-12|z<<12,w=w+A|0,I^=w,I=I>>>32-16|I<<16,E=E+I|0,A^=E,A=A>>>32-12|A<<12,v=v+z|0,H^=v,H=H>>>32-8|H<<8,D=D+H|0,z^=D,z=z>>>32-7|z<<7,w=w+A|0,I^=w,I=I>>>32-8|I<<8,E=E+I|0,A^=E,A=A>>>32-7|A<<7,u=u+y|0,G^=u,G=G>>>32-8|G<<8,C=C+G|0,y^=C,y=y>>>32-7|y<<7,t=t+x|0,F^=t,F=F>>>32-8|F<<8,B=B+F|0,x^=B,x=x>>>32-7|x<<7,t=t+y|0,I^=t,I=I>>>32-16|I<<16,D=D+I|0,y^=D,y=y>>>32-12|y<<12,u=u+z|0,F^=u,F=F>>>32-16|F<<16,E=E+F|0,z^=E,z=z>>>32-12|z<<12,v=v+A|0,G^=v,G=G>>>32-16|G<<16,B=B+G|0,A^=B,A=A>>>32-12|A<<12,w=w+x|0,H^=w,H=H>>>32-16|H<<16,C=C+H|0,x^=C,x=x>>>32-12|x<<12,v=v+A|0,G^=v,G=G>>>32-8|G<<8,B=B+G|0,A^=B,A=A>>>32-7|A<<7,w=w+x|0,H^=w,H=H>>>32-8|H<<8,C=C+H|0,x^=C,x=x>>>32-7|x<<7,u=u+z|0,F^=u,F=F>>>32-8|F<<8,E=E+F|0,z^=E,z=z>>>32-7|z<<7,t=t+y|0,I^=t,I=I>>>32-8|I<<8,D=D+I|0,y^=D,y=y>>>32-7|y<<7;a.writeUint32LE(t+f|0,b,0);a.writeUint32LE(u+g|0,b,4);a.writeUint32LE(v+h|0,b,8);a.writeUint32LE(w+i|0,b,12);a.writeUint32LE(x+j|0,b,16);a.writeUint32LE(y+k|0,b,20);a.writeUint32LE(z+l|0,b,24);a.writeUint32LE(A+m|0,b,28);a.writeUint32LE(B+n|0,b,32);a.writeUint32LE(C+o|0,b,36);a.writeUint32LE(D+p|0,b,40);a.writeUint32LE(E+e|0,b,44);a.writeUint32LE(F+q|0,b,48);a.writeUint32LE(G+r|0,b,52);a.writeUint32LE(H+s|0,b,56);a.writeUint32LE(I+d|0,b,60)}function e(a,c,e,f,g){g===void 0&&(g=0);if(a.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(f.length<e.length)throw new Error("ChaCha: destination is shorter than source");var h,i;if(g===0){if(c.length!==8&&c.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");h=new Uint8Array(16);i=h.length-c.length;h.set(c,i)}else{if(c.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");h=c;i=g}c=new Uint8Array(64);for(var k=0;k<e.length;k+=64){d(c,h,a);for(var l=k;l<k+64&&l<e.length;l++)f[l]=e[l]^c[l-k];j(h,0,i)}b.wipe(c);g===0&&b.wipe(h);return f}i.streamXOR=e;function f(a,c,d,f){f===void 0&&(f=0);b.wipe(d);return e(a,c,d,d,f)}i.stream=f;function j(a,b,c){var d=1;while(c--)d=d+(a[b]&255)|0,a[b]=d&255,d>>>=8,b++;if(d>0)throw new Error("ChaCha: counter overflow")}}var l=!1;function m(){l||(l=!0,k());return j.exports}function c(a){switch(a){case void 0:return m()}}e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("stablelib-constant-time-1.0.1",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){Object.defineProperty(g,"__esModule",{value:!0});function a(a,b,c){return~(a-1)&b|a-1&c}g.select=a;function b(a,b){return(a|0)-(b|0)-1>>>31&1}g.lessOrEqual=b;function c(a,b){if(a.length!==b.length)return 0;var c=0;for(var d=0;d<a.length;d++)c|=a[d]^b[d];return 1&c-1>>>8}g.compare=c;function d(a,b){return a.length===0||b.length===0?!1:c(a,b)!==0}g.equal=d}var j=!1;function k(){j||(j=!0,i());return h.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("stablelib-poly1305-1.0.1",["stablelib-constant-time-1.0.1","stablelib-wipe-1.0.1"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("stablelib-constant-time-1.0.1")),h=a(b("stablelib-wipe-1.0.1")),i={},j={exports:i};function k(){Object.defineProperty(i,"__esModule",{value:!0});var a=g(),b=h();i.DIGEST_LENGTH=16;var c=function(){function a(a){this.digestLength=i.DIGEST_LENGTH;this._buffer=new Uint8Array(16);this._r=new Uint16Array(10);this._h=new Uint16Array(10);this._pad=new Uint16Array(8);this._leftover=0;this._fin=0;this._finished=!1;var b=a[0]|a[1]<<8;this._r[0]=b&8191;var c=a[2]|a[3]<<8;this._r[1]=(b>>>13|c<<3)&8191;b=a[4]|a[5]<<8;this._r[2]=(c>>>10|b<<6)&7939;c=a[6]|a[7]<<8;this._r[3]=(b>>>7|c<<9)&8191;b=a[8]|a[9]<<8;this._r[4]=(c>>>4|b<<12)&255;this._r[5]=b>>>1&8190;c=a[10]|a[11]<<8;this._r[6]=(b>>>14|c<<2)&8191;b=a[12]|a[13]<<8;this._r[7]=(c>>>11|b<<5)&8065;c=a[14]|a[15]<<8;this._r[8]=(b>>>8|c<<8)&8191;this._r[9]=c>>>5&127;this._pad[0]=a[16]|a[17]<<8;this._pad[1]=a[18]|a[19]<<8;this._pad[2]=a[20]|a[21]<<8;this._pad[3]=a[22]|a[23]<<8;this._pad[4]=a[24]|a[25]<<8;this._pad[5]=a[26]|a[27]<<8;this._pad[6]=a[28]|a[29]<<8;this._pad[7]=a[30]|a[31]<<8}a.prototype._blocks=function(a,b,c){var d=this._fin?0:1<<11,e=this._h[0],f=this._h[1],g=this._h[2],h=this._h[3],i=this._h[4],j=this._h[5],k=this._h[6],l=this._h[7],m=this._h[8],n=this._h[9],o=this._r[0],p=this._r[1],q=this._r[2],r=this._r[3],s=this._r[4],t=this._r[5],u=this._r[6],v=this._r[7],w=this._r[8],x=this._r[9];while(c>=16){var y=a[b+0]|a[b+1]<<8;e+=y&8191;var z=a[b+2]|a[b+3]<<8;f+=(y>>>13|z<<3)&8191;y=a[b+4]|a[b+5]<<8;g+=(z>>>10|y<<6)&8191;z=a[b+6]|a[b+7]<<8;h+=(y>>>7|z<<9)&8191;y=a[b+8]|a[b+9]<<8;i+=(z>>>4|y<<12)&8191;j+=y>>>1&8191;z=a[b+10]|a[b+11]<<8;k+=(y>>>14|z<<2)&8191;y=a[b+12]|a[b+13]<<8;l+=(z>>>11|y<<5)&8191;z=a[b+14]|a[b+15]<<8;m+=(y>>>8|z<<8)&8191;n+=z>>>5|d;y=0;z=y;z+=e*o;z+=f*(5*x);z+=g*(5*w);z+=h*(5*v);z+=i*(5*u);y=z>>>13;z&=8191;z+=j*(5*t);z+=k*(5*s);z+=l*(5*r);z+=m*(5*q);z+=n*(5*p);y+=z>>>13;z&=8191;var A=y;A+=e*p;A+=f*o;A+=g*(5*x);A+=h*(5*w);A+=i*(5*v);y=A>>>13;A&=8191;A+=j*(5*u);A+=k*(5*t);A+=l*(5*s);A+=m*(5*r);A+=n*(5*q);y+=A>>>13;A&=8191;var B=y;B+=e*q;B+=f*p;B+=g*o;B+=h*(5*x);B+=i*(5*w);y=B>>>13;B&=8191;B+=j*(5*v);B+=k*(5*u);B+=l*(5*t);B+=m*(5*s);B+=n*(5*r);y+=B>>>13;B&=8191;var C=y;C+=e*r;C+=f*q;C+=g*p;C+=h*o;C+=i*(5*x);y=C>>>13;C&=8191;C+=j*(5*w);C+=k*(5*v);C+=l*(5*u);C+=m*(5*t);C+=n*(5*s);y+=C>>>13;C&=8191;var D=y;D+=e*s;D+=f*r;D+=g*q;D+=h*p;D+=i*o;y=D>>>13;D&=8191;D+=j*(5*x);D+=k*(5*w);D+=l*(5*v);D+=m*(5*u);D+=n*(5*t);y+=D>>>13;D&=8191;var E=y;E+=e*t;E+=f*s;E+=g*r;E+=h*q;E+=i*p;y=E>>>13;E&=8191;E+=j*o;E+=k*(5*x);E+=l*(5*w);E+=m*(5*v);E+=n*(5*u);y+=E>>>13;E&=8191;var F=y;F+=e*u;F+=f*t;F+=g*s;F+=h*r;F+=i*q;y=F>>>13;F&=8191;F+=j*p;F+=k*o;F+=l*(5*x);F+=m*(5*w);F+=n*(5*v);y+=F>>>13;F&=8191;var G=y;G+=e*v;G+=f*u;G+=g*t;G+=h*s;G+=i*r;y=G>>>13;G&=8191;G+=j*q;G+=k*p;G+=l*o;G+=m*(5*x);G+=n*(5*w);y+=G>>>13;G&=8191;var H=y;H+=e*w;H+=f*v;H+=g*u;H+=h*t;H+=i*s;y=H>>>13;H&=8191;H+=j*r;H+=k*q;H+=l*p;H+=m*o;H+=n*(5*x);y+=H>>>13;H&=8191;var I=y;I+=e*x;I+=f*w;I+=g*v;I+=h*u;I+=i*t;y=I>>>13;I&=8191;I+=j*s;I+=k*r;I+=l*q;I+=m*p;I+=n*o;y+=I>>>13;I&=8191;y=(y<<2)+y|0;y=y+z|0;z=y&8191;y=y>>>13;A+=y;e=z;f=A;g=B;h=C;i=D;j=E;k=F;l=G;m=H;n=I;b+=16;c-=16}this._h[0]=e;this._h[1]=f;this._h[2]=g;this._h[3]=h;this._h[4]=i;this._h[5]=j;this._h[6]=k;this._h[7]=l;this._h[8]=m;this._h[9]=n};a.prototype.finish=function(a,b){b===void 0&&(b=0);var c=new Uint16Array(10),d,e;if(this._leftover){e=this._leftover;this._buffer[e++]=1;for(;e<16;e++)this._buffer[e]=0;this._fin=1;this._blocks(this._buffer,0,16)}d=this._h[1]>>>13;this._h[1]&=8191;for(e=2;e<10;e++)this._h[e]+=d,d=this._h[e]>>>13,this._h[e]&=8191;this._h[0]+=d*5;d=this._h[0]>>>13;this._h[0]&=8191;this._h[1]+=d;d=this._h[1]>>>13;this._h[1]&=8191;this._h[2]+=d;c[0]=this._h[0]+5;d=c[0]>>>13;c[0]&=8191;for(e=1;e<10;e++)c[e]=this._h[e]+d,d=c[e]>>>13,c[e]&=8191;c[9]-=1<<13;d=(d^1)-1;for(e=0;e<10;e++)c[e]&=d;d=~d;for(e=0;e<10;e++)this._h[e]=this._h[e]&d|c[e];this._h[0]=(this._h[0]|this._h[1]<<13)&65535;this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535;this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535;this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535;this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535;this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535;this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535;this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535;c=this._h[0]+this._pad[0];this._h[0]=c&65535;for(e=1;e<8;e++)c=(this._h[e]+this._pad[e]|0)+(c>>>16)|0,this._h[e]=c&65535;a[b+0]=this._h[0]>>>0;a[b+1]=this._h[0]>>>8;a[b+2]=this._h[1]>>>0;a[b+3]=this._h[1]>>>8;a[b+4]=this._h[2]>>>0;a[b+5]=this._h[2]>>>8;a[b+6]=this._h[3]>>>0;a[b+7]=this._h[3]>>>8;a[b+8]=this._h[4]>>>0;a[b+9]=this._h[4]>>>8;a[b+10]=this._h[5]>>>0;a[b+11]=this._h[5]>>>8;a[b+12]=this._h[6]>>>0;a[b+13]=this._h[6]>>>8;a[b+14]=this._h[7]>>>0;a[b+15]=this._h[7]>>>8;this._finished=!0;return this};a.prototype.update=function(a){var b=0,c=a.length,d;if(this._leftover){d=16-this._leftover;d>c&&(d=c);for(var e=0;e<d;e++)this._buffer[this._leftover+e]=a[b+e];c-=d;b+=d;this._leftover+=d;if(this._leftover<16)return this;this._blocks(this._buffer,0,16);this._leftover=0}c>=16&&(d=c-c%16,this._blocks(a,b,d),b+=d,c-=d);if(c){for(var e=0;e<c;e++)this._buffer[this._leftover+e]=a[b+e];this._leftover+=c}return this};a.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var a=new Uint8Array(16);this.finish(a);return a};a.prototype.clean=function(){b.wipe(this._buffer);b.wipe(this._r);b.wipe(this._h);b.wipe(this._pad);this._leftover=0;this._fin=0;this._finished=!0;return this};return a}();i.Poly1305=c;function d(a,b){a=new c(a);a.update(b);b=a.digest();a.clean();return b}i.oneTimeAuth=d;function e(b,c){return b.length!==i.DIGEST_LENGTH||c.length!==i.DIGEST_LENGTH?!1:a.equal(b,c)}i.equal=e}var l=!1;function m(){l||(l=!0,k());return j.exports}function c(a){switch(a){case void 0:return m()}}e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("stablelib-chacha20poly1305-1.0.1",["stablelib-chacha-1.0.1","stablelib-poly1305-1.0.1","stablelib-wipe-1.0.1","stablelib-binary-1.0.1","stablelib-constant-time-1.0.1"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("stablelib-chacha-1.0.1")),h=a(b("stablelib-poly1305-1.0.1")),i=a(b("stablelib-wipe-1.0.1")),j=a(b("stablelib-binary-1.0.1")),k=a(b("stablelib-constant-time-1.0.1")),l={},m={exports:l};function n(){Object.defineProperty(l,"__esModule",{value:!0});var a=g(),b=h(),c=i(),d=j(),e=k();l.KEY_LENGTH=32;l.NONCE_LENGTH=12;l.TAG_LENGTH=16;var f=new Uint8Array(16),m=function(){function g(a){this.nonceLength=l.NONCE_LENGTH;this.tagLength=l.TAG_LENGTH;if(a.length!==l.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(a)}g.prototype.seal=function(b,d,e,f){if(b.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var g=new Uint8Array(16);g.set(b,g.length-b.length);b=new Uint8Array(32);a.stream(this._key,g,b,4);var h=d.length+this.tagLength;if(f){if(f.length!==h)throw new Error("ChaCha20Poly1305: incorrect destination length");f=f}else f=new Uint8Array(h);a.streamXOR(this._key,g,d,f,4);this._authenticate(f.subarray(f.length-this.tagLength,f.length),b,f.subarray(0,f.length-this.tagLength),e);c.wipe(g);return f};g.prototype.open=function(b,d,f,g){if(b.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(d.length<this.tagLength)return null;var h=new Uint8Array(16);h.set(b,h.length-b.length);b=new Uint8Array(32);a.stream(this._key,h,b,4);var i=new Uint8Array(this.tagLength);this._authenticate(i,b,d.subarray(0,d.length-this.tagLength),f);if(!e.equal(i,d.subarray(d.length-this.tagLength,d.length)))return null;b=d.length-this.tagLength;if(g){if(g.length!==b)throw new Error("ChaCha20Poly1305: incorrect destination length");f=g}else f=new Uint8Array(b);a.streamXOR(this._key,h,d.subarray(0,d.length-this.tagLength),f,4);c.wipe(h);return f};g.prototype.clean=function(){c.wipe(this._key);return this};g.prototype._authenticate=function(a,e,g,h){e=new b.Poly1305(e);h&&(e.update(h),h.length%16>0&&e.update(f.subarray(h.length%16)));e.update(g);g.length%16>0&&e.update(f.subarray(g.length%16));var i=new Uint8Array(8);h&&d.writeUint64LE(h.length,i);e.update(i);d.writeUint64LE(g.length,i);e.update(i);h=e.digest();for(g=0;g<h.length;g++)a[g]=h[g];e.clean();c.wipe(h);c.wipe(i)};return g}();l.ChaCha20Poly1305=m}var o=!1;function p(){o||(o=!0,n());return m.exports}function c(a){switch(a){case void 0:return p()}}e.exports=c}),null);
__d("AeadChaPoly",["Hpke","stablelib-chacha20poly1305-1.0.1"],(function(a,b,c,d,e,f,g){"use strict";var h=c("stablelib-chacha20poly1305-1.0.1")();a=function(){function a(){this.aead_id=d("Hpke").AeadID.AeadChaCha20Poly1305Id,this.nK=32,this.nN=12,this.nT=16}var b=a.prototype;b.seal=function(a,b,c,d){a=new h.ChaCha20Poly1305(a);a=a.seal(b,d,c);return a};b.open=function(a,b,c,d){a=new h.ChaCha20Poly1305(a);a=a.open(b,d,c);return a};return a}();g.AeadChaPoly=a}),98);
__d("QuicIntCodec",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";var h=63,i=255,j=64,k=128,l=192,m=64,n=16384,o=1073741824,p=2147483647;function q(a){if(a<m)return 1;if(a<n)return 2;if(a<o)return 4;if(a>p)throw c("FBLogger")("quic_codec").mustfixThrow("Number too large to encode");return 8}function r(a,b){var d=a[b],e=d>>6;e=1<<e;d&=h;if(e===8&&(d>0||a[b+1]>0||a[b+2]>0||a[b+3]>0))throw c("FBLogger")("quic_codec").mustfixThrow("Number is too large to decode");for(var f=1;f<e;f++)d=d<<8|a[b+f];return[d,b+e]}function s(a,b,c){a=a;var d=q(a);for(var e=d-1;e>0;e--)b[c+e]=a&i,a>>=8;e=d===8?l:d===4?k:d===2?j:0;b[c]=e|a&h;return c+d}function a(a){a=r(a,0);var b=a[0];a[1];return b}function b(a){var b=q(a);b=new Uint8Array(b);s(a,b,0);return b}g.getByteLength=q;g.decodeQuicIntWithExistingBuffer=r;g.encodeWithExistingBuffer=s;g.decode=a;g.encode=b}),98);
__d("HttpRequestBinaryEncode",["QuicIntCodec","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=new URL(a.url);return{host:a.host,path:a.pathname+a.search,scheme:a.protocol.replace(":","")}}function i(a,b){var c,e=0,f=[],g=b.encode(a.method),i=g.byteLength;e+=(c=d("QuicIntCodec")).getByteLength(i)+i;f.push(g);i=h(a);g=i.host;a=i.path;i=i.scheme;i=b.encode(i);var j=i.byteLength;e+=c.getByteLength(j)+j;f.push(i);j=b.encode(g);i=j.byteLength;e+=c.getByteLength(i)+i;f.push(j);g=b.encode(a);i=g.byteLength;e+=c.getByteLength(i)+i;f.push(g);return{length:e,steps:f}}function j(a,b,c){var e=0,f=[],g=new Map(a.headers);c&&!g.has("Host")&&g.set("Host",new URL(a.url).host);for(c=g,a=Array.isArray(c),g=0,c=a?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(a){if(g>=c.length)break;h=c[g++]}else{g=c.next();if(g.done)break;h=g.value}h=h;var i=h[0];h=h[1];i=b.encode(i);var j=i.byteLength;e+=d("QuicIntCodec").getByteLength(j)+j;f.push(i);j=b.encode(h);i=j.byteLength;e+=d("QuicIntCodec").getByteLength(j.byteLength)+i;f.push(j)}return{length:e,steps:[e].concat(f)}}function k(a,c){var e,f,g,h,k,l,m,n,o,p,q;return b("regeneratorRuntime").async(function(r){while(1)switch(r.prev=r.next){case 0:e=new TextEncoder();f=0;g=[];g.push(0);f++;h=i(a,e),k=h.length,l=h.steps;f+=k;g.push.apply(g,l);m=j(a,e,c),n=m.length,o=m.steps;f+=d("QuicIntCodec").getByteLength(n)+n;g.push.apply(g,o);r.t0=Uint8Array;r.next=14;return b("regeneratorRuntime").awrap(a.arrayBuffer());case 14:r.t1=r.sent;p=new r.t0(r.t1);q=p.byteLength;f+=d("QuicIntCodec").getByteLength(q)+q;g.push(p);g.push(0);f++;return r.abrupt("return",{length:f,steps:g});case 22:case"end":return r.stop()}},null,this)}function a(a,c){var e,f,g,h,i,j,l,m,n,o;return b("regeneratorRuntime").async(function(p){while(1)switch(p.prev=p.next){case 0:c===void 0&&(c=!1);p.next=3;return b("regeneratorRuntime").awrap(k(a,c));case 3:e=p.sent,f=e.length,g=e.steps,h=new Uint8Array(f),i=0,(j=g,l=Array.isArray(j),m=0,j=l?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]());case 9:if(!l){p.next=15;break}if(!(m>=j.length)){p.next=12;break}return p.abrupt("break",23);case 12:n=j[m++];p.next=19;break;case 15:m=j.next();if(!m.done){p.next=18;break}return p.abrupt("break",23);case 18:n=m.value;case 19:o=n,typeof o==="number"?i=d("QuicIntCodec").encodeWithExistingBuffer(o,h,i):(i=d("QuicIntCodec").encodeWithExistingBuffer(o.length,h,i),h.set(o,i),i+=o.length);case 21:p.next=9;break;case 23:return p.abrupt("return",h);case 24:case"end":return p.stop()}},null,this)}g.binaryEncodeRequest=a}),98);
__d("HttpResponseBinaryDecode",["FBLogger","QuicIntCodec"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,e){e=e;var f=new Headers(),g=d("QuicIntCodec").decodeQuicIntWithExistingBuffer(a,e),h=g[0];g=g[1];h=g+h;e=g;while(e<h){g=d("QuicIntCodec").decodeQuicIntWithExistingBuffer(a,e);var i=g[0];g=g[1];var j=b.decode(a.slice(g,g+i));e=g+i;g=d("QuicIntCodec").decodeQuicIntWithExistingBuffer(a,e);i=g[0];g=g[1];var k=b.decode(a.slice(g,g+i));e=g+i;f.append(j,k)}if(h!==e)throw c("FBLogger")("http_binary").mustfixThrow("Decode response with header length mismatch");return{headers:f,offset:e}}function a(a){var b=a[0];if(b!==1)throw c("FBLogger")("http_binary").mustfixThrow("Framing indicator must be 1, but got %s instead",b);b=1;var e=new TextDecoder(),f=d("QuicIntCodec").decodeQuicIntWithExistingBuffer(a,b),g=f[0];f=f[1];b=f;f=b>=a.byteLength?{offset:b,headers:new Headers()}:h(a,e,b);b=f.offset;e=b>=a.byteLength?[0,b]:d("QuicIntCodec").decodeQuicIntWithExistingBuffer(a,b);var i=e[0];e=e[1];b=e;e=i<1?void 0:a.slice(b,b+i);return new Response(e,{headers:f.headers,status:g})}g.binaryDecodeResponse=a}),98);
__d("KdfHkdfSha256",["Hpke","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h=window.crypto||window.msCrypto;a=new TextEncoder();var i=a.encode("HPKE-v1");c=function(){function a(a){a===void 0&&(a=h.subtle),this.kdf_id=d("Hpke").KdfID.KdfHkdfSha256Id,this.nH=32,this.internalCryptoProvider=null,this.internalCryptoProvider=a}var c=a.prototype;c.hmac=function(a,c){var d,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:f.next=2;return b("regeneratorRuntime").awrap(this.internalCryptoProvider.importKey("raw",a.byteLength===0?new Uint8Array(32):a,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]));case 2:d=f.sent;f.next=5;return b("regeneratorRuntime").awrap(this.internalCryptoProvider.sign("HMAC",d,c));case 5:e=f.sent;return f.abrupt("return",new Uint8Array(e));case 7:case"end":return f.stop()}},null,this)};c.extract=function(a,c){var d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(this.hmac(a,c));case 2:d=e.sent;return e.abrupt("return",d);case 4:case"end":return e.stop()}},null,this)};c.expand=function(a,c,d){var e,f,g,h,i,j,k,l;return b("regeneratorRuntime").async(function(m){while(1)switch(m.prev=m.next){case 0:e=new Uint8Array(d);f=new Uint8Array(0);g=new Uint8Array(c);h=new Uint8Array(1);if(!(d>255*32)){m.next=8;break}i=new Error("KDF expand: entropy limit reached");i.stack;throw i;case 8:j=new Uint8Array(32+g.length+1),(k=1,l=0);case 10:if(!(l<e.length)){m.next=22;break}h[0]=k;j.set(f,0);j.set(g,f.length);j.set(h,f.length+g.length);m.next=17;return b("regeneratorRuntime").awrap(this.hmac(a,j.slice(0,f.length+g.length+1)));case 17:f=m.sent,e.length-l>=f.length?(e.set(f,l),l+=f.length):(e.set(f.slice(0,e.length-l),l),l+=e.length-l);case 19:k++;m.next=10;break;case 22:return m.abrupt("return",e);case 23:case"end":return m.stop()}},null,this)};c.labeledExtract=function(a,c,e,f){var g,h;return b("regeneratorRuntime").async(function(j){while(1)switch(j.prev=j.next){case 0:g=d("Hpke").concat(i,f,c,e);j.next=3;return b("regeneratorRuntime").awrap(this.extract(a,g));case 3:h=j.sent;return j.abrupt("return",h);case 5:case"end":return j.stop()}},null,this)};c.labeledExpand=function(a,c,e,f,g){var h;return b("regeneratorRuntime").async(function(j){while(1)switch(j.prev=j.next){case 0:h=d("Hpke").concat(new Uint8Array([0,f]),i,g,c,e);j.next=3;return b("regeneratorRuntime").awrap(this.expand(a,h,f));case 3:return j.abrupt("return",j.sent);case 4:case"end":return j.stop()}},null,this)};return a}();g.KdfHkdfSha256=c}),98);
__d("x25519FromNacl",[],(function(a,b,c,d,e,f){"use strict";var g=function(a){var b,c=new Float64Array(16);if(a)for(b=0;b<a.length;b++)c[b]=a[b];return c},h=new Uint8Array(32);h[0]=9;g();g([1]);var i=g([56129,1]);g([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]);a=g([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]);g([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]);g([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]);g([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function j(a){var b,c;for(c=0;c<16;c++)a[c]+=65536,b=Math.floor(a[c]/65536),a[(c+1)*(c<15?1:0)]+=b-1+37*(b-1)*(c===15?1:0),a[c]-=b*65536}function k(a,b,c){var d;c=~(c-1);for(var e=0;e<16;e++)d=c&(a[e]^b[e]),a[e]^=d,b[e]^=d}function l(a,b){var c,d,e=g(),f=g();for(c=0;c<16;c++)f[c]=b[c];j(f);j(f);j(f);for(b=0;b<2;b++){e[0]=f[0]-65517;for(c=1;c<15;c++)e[c]=f[c]-65535-(e[c-1]>>16&1),e[c-1]&=65535;e[15]=f[15]-32767-(e[14]>>16&1);d=e[15]>>16&1;e[14]&=65535;k(f,e,1-d)}for(c=0;c<16;c++)a[2*c]=f[c]&255,a[2*c+1]=f[c]>>8}function m(a,b){var c;for(c=0;c<16;c++)a[c]=b[2*c]+(b[2*c+1]<<8);a[15]&=32767}function n(a,b,c){var d;for(d=0;d<16;d++)a[d]=b[d]+c[d]|0}function o(a,b,c){var d;for(d=0;d<16;d++)a[d]=b[d]-c[d]|0}function p(a,b,c){var d,e,f=new Float64Array(31);for(d=0;d<31;d++)f[d]=0;for(d=0;d<16;d++)for(e=0;e<16;e++)f[d+e]+=b[d]*c[e];for(d=0;d<15;d++)f[d]+=38*f[d+16];for(d=0;d<16;d++)a[d]=f[d];j(a);j(a)}function q(a,b){p(a,b,b)}function r(a,b){var c=g(),d;for(d=0;d<16;d++)c[d]=b[d];for(d=253;d>=0;d--)q(c,c),d!==2&&d!==4&&p(c,c,b);for(d=0;d<16;d++)a[d]=c[d]}function s(a,b,c){var d=new Uint8Array(32),e=new Float64Array(80),f,h=g(),j=g(),s=g(),t=g(),u=g(),v=g();for(f=0;f<31;f++)d[f]=b[f];d[31]=b[31]&127|64;d[0]&=248;m(e,c);for(f=0;f<16;f++)j[f]=e[f],t[f]=h[f]=s[f]=0;h[0]=t[0]=1;for(f=254;f>=0;--f)b=d[f>>>3]>>>(f&7)&1,k(h,j,b),k(s,t,b),n(u,h,s),o(h,h,s),n(s,j,t),o(j,j,t),q(t,u),q(v,h),p(h,s,h),p(s,j,u),n(u,h,s),o(h,h,s),q(j,h),o(s,t,v),p(h,s,i),n(h,h,t),p(s,s,h),p(h,t,v),p(t,j,e),q(j,u),k(h,j,b),k(s,t,b);for(f=0;f<16;f++)e[f+16]=h[f],e[f+32]=s[f],e[f+48]=j[f],e[f+64]=t[f];c=e.subarray(32);b=e.subarray(16);r(c,c);p(b,b,c);l(a,b);return 0}function t(a,b){return s(a,b,h)}function u(a,b,c){c(b,32);return t(a,b)}var v=32,w=32,x=32,y=32;function z(){for(var a=0;a<arguments.length;a++)if(!(arguments[a]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function A(a){for(var b=0;b<a.length;b++)a[b]=0}b=function(){function a(){this.randombytesFn=function(){throw new Error("no CSPRNG")};var a=typeof self!=="undefined"?self.crypto||self.msCrypto:null;if(a&&a.getRandomValues){var b=65536;this.randombytesFn=function(c,d){var e,f=new Uint8Array(d);for(e=0;e<d;e+=b)a.getRandomValues(f.subarray(e,e+Math.min(d-e,b)));for(e=0;e<d;e++)c[e]=f[e];A(f)}}else a&&a.randomBytes&&(this.randombytesFn=function(b,c){var d,e=a.randomBytes(c);for(d=0;d<c;d++)b[d]=e[d];A(e)})}var b=a.prototype;b.scalarMult=function(a,b){z(a,b);if(a.length!==w)throw new Error("bad n size");if(b.length!==v)throw new Error("bad p size");var c=new Uint8Array(v);s(c,a,b);return c};b.scalarMultBase=function(a){z(a);if(a.length!==w)throw new Error("bad n size");var b=new Uint8Array(v);t(b,a);return b};b.boxKeyPair=function(){var a=new Uint8Array(x),b=new Uint8Array(y);u(a,b,this.randombytesFn);return{publicKey:a,secretKey:b}};b.boxKeyPairFromSecretKey=function(a){z(a);if(a.length!==y)throw new Error("bad secret key size");var b=new Uint8Array(x);t(b,a);return{publicKey:b,secretKey:new Uint8Array(a)}};b.setPRNG=function(a){this.randombytesFn=a};return a}();f["default"]=b}),66);
__d("KemX25519HkdfSha256",["Hpke","KdfHkdfSha256","regeneratorRuntime","x25519FromNacl"],(function(a,b,c,d,e,f,g){"use strict";var h=new(c("x25519FromNacl"))();a=new TextEncoder();var i=a.encode("eae_prk"),j=a.encode("shared_secret"),k=a.encode("KEM");e=function(){function a(a){a===void 0&&(a=new(d("KdfHkdfSha256").KdfHkdfSha256)()),this.kem_id=d("Hpke").KemID.KemX25519HkdfSha256Id,this.nSecret=32,this.nEnc=32,this.kdf=a}var c=a.prototype;c.createKeyPair=function(){var a;return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(h.boxKeyPair());case 2:a=c.sent;return c.abrupt("return",{pk:a.publicKey,sk:a.secretKey});case 4:case"end":return c.stop()}},null,this)};c.pk=function(a){var c;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(h.boxKeyPairFromSecretKey(a));case 2:c=d.sent;return d.abrupt("return",c.publicKey);case 4:case"end":return d.stop()}},null,this)};c.encap=function(a){var c,e,f,g,l,m;return b("regeneratorRuntime").async(function(n){while(1)switch(n.prev=n.next){case 0:n.next=2;return b("regeneratorRuntime").awrap(this.createKeyPair());case 2:c=n.sent;e=h.scalarMult(c.sk,a);f=d("Hpke").concat(c.pk,a);g=d("Hpke").concat(k,d("Hpke").i2osp(this.kem_id,2));n.next=8;return b("regeneratorRuntime").awrap(this.kdf.labeledExtract(new Uint8Array(0),i,e,g));case 8:l=n.sent;n.next=11;return b("regeneratorRuntime").awrap(this.kdf.labeledExpand(l,j,f,this.nSecret,g));case 11:m=n.sent;return n.abrupt("return",{sharedSecret:m,enc:c.pk});case 13:case"end":return n.stop()}},null,this)};c.decap=function(a,c){var e,f,g,l,m,n;return b("regeneratorRuntime").async(function(o){while(1)switch(o.prev=o.next){case 0:e=h.scalarMult(c,a);f=h.scalarMultBase(c);g=d("Hpke").concat(a,f);l=d("Hpke").concat(k,d("Hpke").i2osp(this.kem_id,2));o.next=6;return b("regeneratorRuntime").awrap(this.kdf.labeledExtract(new Uint8Array(0),i,e,l));case 6:m=o.sent;o.next=9;return b("regeneratorRuntime").awrap(this.kdf.labeledExpand(m,j,g,this.nSecret,l));case 9:n=o.sent;return o.abrupt("return",n);case 11:case"end":return o.stop()}},null,this)};return a}();g.KemX25519HkdfSha256=e}),98);
__d("LexicalCode",["cr:2902"],(function(a,b,c,d,e,f){e.exports=b("cr:2902")}),null);
/**
 * License: https://www.facebook.com/legal/license/Kodz9DKXiLb/
 */
__d("prism-c",[],(function(a,b,c,d,e,f){Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,"function":/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),Prism.languages.insertBefore("c","string",{"char":{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],"char":Prism.languages.c["char"],comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}}),Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete Prism.languages.c["boolean"]}),null);
/**
 * License: https://www.facebook.com/legal/license/Kodz9DKXiLb/
 */
__d("prism-clike",[],(function(a,b,c,d,e,f){Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,"boolean":/\b(?:false|true)\b/,"function":/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}}),null);
/**
 * License: https://www.facebook.com/legal/license/Kodz9DKXiLb/
 */
__d("prism-cpp",[],(function(a,b,c,d,e,f){!function(a){var b=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,c="\\b(?!<keyword>)\\w+(?:\\s*\\.\\s*\\w+)*\\b".replace(/<keyword>/g,function(){return b.source});a.languages.cpp=a.languages.extend("c",{"class-name":[{pattern:RegExp("(\\b(?:class|concept|enum|struct|typename)\\s+)(?!<keyword>)\\w+".replace(/<keyword>/g,function(){return b.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:b,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,"boolean":/\b(?:false|true)\b/}),a.languages.insertBefore("cpp","string",{module:{pattern:RegExp('(\\b(?:import|module)\\s+)(?:"(?:\\\\(?:\r\n|[^])|[^"\\\\\r\n])*"|<[^<>\r\n]*>|'+"<mod-name>(?:\\s*:\\s*<mod-name>)?|:\\s*<mod-name>".replace(/<mod-name>/g,function(){return c})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),a.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{"function":/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:a.languages.cpp}}}}),a.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),a.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:a.languages.extend("cpp",{})}}),a.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},a.languages.cpp["base-clause"])}(Prism)}),null);
/**
 * License: https://www.facebook.com/legal/license/Kodz9DKXiLb/
 */
__d("prism-css",[],(function(a,b,c,d,e,f){!function(a){var b=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;a.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:[^;{\\s\"']|\\s+(?!\\s)|"+b.source+")*?(?:;|(?=\\s*\\{))"),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+b.source+"|(?:[^\\\\\r\n()\"']|\\\\[^])*)\\)","i"),greedy:!0,inside:{"function":/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+b.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+b.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:b,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,"function":{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},a.languages.css.atrule.inside.rest=a.languages.css;b=a.languages.markup;b&&(b.tag.addInlined("style","css"),b.tag.addAttribute("style","css"))}(Prism)}),null);
/**
 * License: https://www.facebook.com/legal/license/Kodz9DKXiLb/
 */
__d("prism-java",[],(function(a,b,c,d,e,f){!function(a){var b=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,c="(?:[a-z]\\w*\\s*\\.\\s*)*(?:[A-Z]\\w*\\s*\\.\\s*)*",d={pattern:RegExp("(^|[^\\w.])"+c+"[A-Z](?:[\\d_A-Z]*[a-z]\\w*)?\\b"),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};a.languages.java=a.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[d,{pattern:RegExp("(^|[^\\w.])"+c+"[A-Z]\\w*(?=\\s+\\w+\\s*[;,=()]|\\s*(?:\\[[\\s,]*\\]\\s*)?::\\s*new\\b)"),lookbehind:!0,inside:d.inside},{pattern:RegExp("(\\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\\s+)"+c+"[A-Z]\\w*\\b"),lookbehind:!0,inside:d.inside}],keyword:b,"function":[a.languages.clike["function"],{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),a.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},"char":{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),a.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":d,keyword:b,punctuation:/[<>(),.:]/,operator:/[?&|]/}},"import":[{pattern:RegExp("(\\bimport\\s+)"+c+"(?:[A-Z]\\w*|\\*)(?=\\s*;)"),lookbehind:!0,inside:{namespace:d.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp("(\\bimport\\s+static\\s+)"+c+"(?:\\w+|\\*)(?=\\s*;)"),lookbehind:!0,alias:"static",inside:{namespace:d.inside.namespace,"static":/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp("(\\b(?:exports|import(?:\\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\\s+)(?!<keyword>)[a-z]\\w*(?:\\.[a-z]\\w*)*\\.?".replace(/<keyword>/g,function(){return b.source})),lookbehind:!0,inside:{punctuation:/\./}}})}(Prism)}),null);
/**
 * License: https://www.facebook.com/legal/license/Kodz9DKXiLb/
 */
__d("prism-javascript",[],(function(a,b,c,d,e,f){Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],"function":/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp("(^|[^\\w$])(?:NaN|Infinity|0[bB][01]+(?:_[01]+)*n?|0[oO][0-7]+(?:_[0-7]+)*n?|0[xX][\\dA-Fa-f]+(?:_[\\dA-Fa-f]+)*n?|\\d+(?:_\\d+)*n|(?:\\d+(?:_\\d+)*(?:\\.(?:\\d+(?:_\\d+)*)?)?|\\.\\d+(?:_\\d+)*)(?:[Ee][+-]?\\d+(?:_\\d+)*)?)(?![\\w$])"),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp("((?:^|[^$\\w\\xA0-\\uFFFF.\"'\\])\\s]|\\b(?:return|yield))\\s*)/(?:(?:\\[(?:[^\\]\\\\\r\n]|\\\\.)*\\]|\\\\.|[^/\\\\\\[\r\n])+/[dgimyus]{0,7}|(?:\\[(?:[^[\\]\\\\\r\n]|\\\\.|\\[(?:[^[\\]\\\\\r\n]|\\\\.|\\[(?:[^[\\]\\\\\r\n]|\\\\.)*\\])*\\])*\\]|\\\\.|[^/\\\\\\[\r\n])+/[dgimyus]{0,7}v[dgimyus]{0,7})(?=(?:\\s|/\\*(?:[^*]|\\*(?!/))*\\*/)*(?:$|[\r\n,.;:})\\]]|//))"),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute("on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)","javascript")),Prism.languages.js=Prism.languages.javascript}),null);
/**
 * License: https://www.facebook.com/legal/license/Kodz9DKXiLb/
 */
__d("prism-markdown",[],(function(a,b,c,d,e,f){!function(a){function b(a){return a=a.replace(/<inner>/g,function(){return"(?:\\\\.|[^\\\\\n\r]|(?:\n|\r\n?)(?![\r\n]))"}),RegExp("((?:^|[^\\\\])(?:\\\\{2})*)(?:"+a+")")}var c="(?:\\\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\\\|\r\n`])+",d="\\|?__(?:\\|__)+\\|?(?:(?:\n|\r\n?)|(?![^]))".replace(/__/g,function(){return c}),e="\\|?[ \t]*:?-{3,}:?[ \t]*(?:\\|[ \t]*:?-{3,}:?[ \t]*)+\\|?(?:\n|\r\n?)";a.languages.markdown=a.languages.extend("markup",{}),a.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:a.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+d+e+"(?:"+d+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+d+e+")(?:"+d+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(c),inside:a.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+d+")"+e+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+d+"$"),inside:{"table-header":{pattern:RegExp(c),alias:"important",inside:a.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:b("\\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\\b|\\*\\*(?:(?!\\*)<inner>|\\*(?:(?!\\*)<inner>)+\\*)+\\*\\*"),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:b("\\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\\b|\\*(?:(?!\\*)<inner>|\\*\\*(?:(?!\\*)<inner>)+\\*\\*)+\\*"),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:b("(~~?)(?:(?!~)<inner>)+\\2"),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:b('!?\\[(?:(?!\\])<inner>)+\\](?:\\([^\\s)]+(?:[\t ]+"(?:\\\\.|[^"\\\\])*")?\\)|[ \t]?\\[(?:(?!\\])<inner>)+\\])'),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(b){["url","bold","italic","strike","code-snippet"].forEach(function(c){b!==c&&(a.languages.markdown[b].inside.content.inside[c]=a.languages.markdown[c])})}),a.hooks.add("after-tokenize",function(a){"markdown"!==a.language&&"md"!==a.language||(function a(b){if(b&&"string"!=typeof b)for(var c=0,d=b.length;c<d;c++){var e=b[c];if("code"===e.type){var f=e.content[1],h=e.content[3];if(f&&h&&"code-language"===f.type&&"code-block"===h.type&&"string"==typeof f.content){f=f.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp");f="language-"+(/[a-z][\w-]*/i.exec(f)||[""])[0].toLowerCase();h.alias?"string"==typeof h.alias?h.alias=[h.alias,f]:h.alias.push(f):h.alias=[f]}}else a(e.content)}})(a.tokens)}),a.hooks.add("wrap",function(b){if("code-block"===b.type){for(var c="",d=0,e=b.classes.length;d<e;d++){var i=b.classes[d];i=/language-(.+)/.exec(i);if(i){c=i[1];break}}i=a.languages[c];if(i)b.content=a.highlight(b.content.replace(f,"").replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(a,b){var c;return"#"===(b=b.toLowerCase())[0]?(c="x"===b[1]?parseInt(b.slice(2),16):Number(b.slice(1)),h(c)):g[b]||a}),i,c);else if(c&&"none"!==c&&a.plugins.autoloader){var j="md-"+(new Date).valueOf()+"-"+Math.floor(1e16*Math.random());b.attributes.id=j,a.plugins.autoloader.loadLanguages(c,function(){var b=document.getElementById(j);b&&(b.innerHTML=a.highlight(b.textContent,a.languages[c],c))})}}});var f=RegExp(a.languages.markup.tag.pattern.source,"gi"),g={amp:"&",lt:"<",gt:">",quot:'"'},h=String.fromCodePoint||String.fromCharCode;a.languages.md=a.languages.markdown}(Prism)}),null);
/**
 * License: https://www.facebook.com/legal/license/Kodz9DKXiLb/
 */
__d("prism-markup",[],(function(a,b,c,d,e,f){Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup,Prism.hooks.add("wrap",function(a){"entity"===a.type&&(a.attributes.title=a.content.replace(/&amp;/,"&"))}),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(a,b){var c={};c["language-"+b]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[b]},c.cdata=/^<!\[CDATA\[|\]\]>$/i;c={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:c}};c["language-"+b]={pattern:/[\s\S]+/,inside:Prism.languages[b]};b={};b[a]={pattern:RegExp("(<__[^>]*>)(?:<!\\[CDATA\\[(?:[^\\]]|\\](?!\\]>))*\\]\\]>|(?!<!\\[CDATA\\[)[^])*?(?=</__>)".replace(/__/g,function(){return a}),"i"),lookbehind:!0,greedy:!0,inside:c},Prism.languages.insertBefore("markup","cdata",b)}}),Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(a,b){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp("(^|[\"'\\s])(?:"+a+")\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))","i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[b,"language-"+b],inside:Prism.languages[b]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.ssml=Prism.languages.xml,Prism.languages.atom=Prism.languages.xml,Prism.languages.rss=Prism.languages.xml}),null);
/**
 * License: https://www.facebook.com/legal/license/Kodz9DKXiLb/
 */
__d("prism-objectivec",[],(function(a,b,c,d,e,f){Prism.languages.objectivec=Prism.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/}),delete Prism.languages.objectivec["class-name"],Prism.languages.objc=Prism.languages.objectivec}),null);
/**
 * License: https://www.facebook.com/legal/license/Kodz9DKXiLb/
 */
__d("prism-powershell",[],(function(a,b,c,d,e,f){!function(a){a=a.languages.powershell={comment:[{pattern:/(^|[^`])<#[\s\S]*?#>/,lookbehind:!0},{pattern:/(^|[^`])#.*/,lookbehind:!0}],string:[{pattern:/"(?:`[\s\S]|[^`"])*"/,greedy:!0,inside:null},{pattern:/'(?:[^']|'')*'/,greedy:!0}],namespace:/\[[a-z](?:\[(?:\[[^\]]*\]|[^\[\]])*\]|[^\[\]])*\]/i,"boolean":/\$(?:false|true)\b/i,variable:/\$\w+\b/,"function":[/\b(?:Add|Approve|Assert|Backup|Block|Checkpoint|Clear|Close|Compare|Complete|Compress|Confirm|Connect|Convert|ConvertFrom|ConvertTo|Copy|Debug|Deny|Disable|Disconnect|Dismount|Edit|Enable|Enter|Exit|Expand|Export|Find|ForEach|Format|Get|Grant|Group|Hide|Import|Initialize|Install|Invoke|Join|Limit|Lock|Measure|Merge|Move|New|Open|Optimize|Out|Ping|Pop|Protect|Publish|Push|Read|Receive|Redo|Register|Remove|Rename|Repair|Request|Reset|Resize|Resolve|Restart|Restore|Resume|Revoke|Save|Search|Select|Send|Set|Show|Skip|Sort|Split|Start|Step|Stop|Submit|Suspend|Switch|Sync|Tee|Test|Trace|Unblock|Undo|Uninstall|Unlock|Unprotect|Unpublish|Unregister|Update|Use|Wait|Watch|Where|Write)-[a-z]+\b/i,/\b(?:ac|cat|chdir|clc|cli|clp|clv|compare|copy|cp|cpi|cpp|cvpa|dbp|del|diff|dir|ebp|echo|epal|epcsv|epsn|erase|fc|fl|ft|fw|gal|gbp|gc|gci|gcs|gdr|gi|gl|gm|gp|gps|group|gsv|gu|gv|gwmi|iex|ii|ipal|ipcsv|ipsn|irm|iwmi|iwr|kill|lp|ls|measure|mi|mount|move|mp|mv|nal|ndr|ni|nv|ogv|popd|ps|pushd|pwd|rbp|rd|rdr|ren|ri|rm|rmdir|rni|rnp|rp|rv|rvpa|rwmi|sal|saps|sasv|sbp|sc|select|set|shcm|si|sl|sleep|sls|sort|sp|spps|spsv|start|sv|swmi|tee|trcm|type|write)\b/i],keyword:/\b(?:Begin|Break|Catch|Class|Continue|Data|Define|Do|DynamicParam|Else|ElseIf|End|Exit|Filter|Finally|For|ForEach|From|Function|If|InlineScript|Parallel|Param|Process|Return|Sequence|Switch|Throw|Trap|Try|Until|Using|Var|While|Workflow)\b/i,operator:{pattern:/(^|\W)(?:!|-(?:b?(?:and|x?or)|as|(?:Not)?(?:Contains|In|Like|Match)|eq|ge|gt|is(?:Not)?|Join|le|lt|ne|not|Replace|sh[lr])\b|-[-=]?|\+[+=]?|[*\/%]=?)/i,lookbehind:!0},punctuation:/[|{}[\];(),.]/};a.string[0].inside={"function":{pattern:/(^|[^`])\$\((?:\$\([^\r\n()]*\)|(?!\$\()[^\r\n)])*\)/,lookbehind:!0,inside:a},"boolean":a["boolean"],variable:a.variable}}(Prism)}),null);
/**
 * License: https://www.facebook.com/legal/license/Kodz9DKXiLb/
 */
__d("prism-python",[],(function(a,b,c,d,e,f){Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},"function":{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,"boolean":/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python}),null);
/**
 * License: https://www.facebook.com/legal/license/Kodz9DKXiLb/
 */
__d("prism-rust",[],(function(a,b,c,d,e,f){!function(a){for(var b="/\\*(?:[^*/]|\\*(?!/)|/(?!\\*)|<self>)*\\*/",c=0;c<2;c++)b=b.replace(/<self>/g,function(){return b});b=b.replace(/<self>/g,function(){return"[^\\s\\S]"}),a.languages.rust={comment:[{pattern:RegExp("(^|[^\\\\])"+b),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},"char":{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],"function":/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,"boolean":/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},a.languages.rust["closure-params"].inside.rest=a.languages.rust,a.languages.rust.attribute.inside.string=a.languages.rust.string}(Prism)}),null);
/**
 * License: https://www.facebook.com/legal/license/Kodz9DKXiLb/
 */
__d("prism-sql",[],(function(a,b,c,d,e,f){Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},"function":/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,"boolean":/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/}}),null);
/**
 * License: https://www.facebook.com/legal/license/Kodz9DKXiLb/
 */
__d("prism-swift",[],(function(a,b,c,d,e,f){Prism.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp('(^|[^"#])(?:"(?:\\\\(?:\\((?:[^()]|\\([^()]*\\))*\\)|\r\n|[^(])|[^\\\\\r\n"])*"|"""(?:\\\\(?:\\((?:[^()]|\\([^()]*\\))*\\)|[^(])|[^\\\\"]|"(?!""))*""")(?!["#])'),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp('(^|[^"#])(#+)(?:"(?:\\\\(?:#+\\((?:[^()]|\\([^()]*\\))*\\)|\r\n|[^#])|[^\\\\\r\n])*?"|"""(?:\\\\(?:#+\\((?:[^()]|\\([^()]*\\))*\\)|[^#])|[^\\\\])*?""")\\2'),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp("#(?:(?:elseif|if)\\b(?:[ \t]*(?:![ \t]*)?(?:\\b\\w+\\b(?:[ \t]*\\((?:[^()]|\\([^()]*\\))*\\))?|\\((?:[^()]|\\([^()]*\\))*\\))(?:[ \t]*(?:&&|\\|\\|))?)+|(?:else|endif)\\b)"),alias:"property",inside:{"directive-name":/^#\w+/,"boolean":/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,"boolean":/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,"function":/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/},Prism.languages.swift["string-literal"].forEach(function(a){a.inside.interpolation.inside=Prism.languages.swift})}),null);
/**
 * License: https://www.facebook.com/legal/license/Kodz9DKXiLb/
 */
__d("prism-typescript",[],(function(a,b,c,d,e,f){!function(a){a.languages.typescript=a.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),a.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete a.languages.typescript.parameter,delete a.languages.typescript["literal-property"];var b=a.languages.extend("typescript",{});delete b["class-name"],a.languages.typescript["class-name"].inside=b,a.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},"function":/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{"function":/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:b}}}}),a.languages.ts=a.languages.typescript}(Prism)}),null);
/**
 * License: https://www.facebook.com/legal/license/gLs4EbVdpIU/
 */
__d("prismjs",[],(function(a,b,c,d,e,f){"use strict";b="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{};var g=function(a){var b=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,c=0,d={},e={manual:a.Prism&&a.Prism.manual,disableWorkerMessageHandler:a.Prism&&a.Prism.disableWorkerMessageHandler,util:{encode:function a(b){return b instanceof f?new f(b.type,a(b.content),b.alias):Array.isArray(b)?b.map(a):b.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(a){return Object.prototype.toString.call(a).slice(8,-1)},objId:function(a){return a.__id||Object.defineProperty(a,"__id",{value:++c}),a.__id},clone:function a(b,c){var d,f;switch(c=c||{},e.util.type(b)){case"Object":if(f=e.util.objId(b),c[f])return c[f];for(var g in d={},c[f]=d,b)b.hasOwnProperty(g)&&(d[g]=a(b[g],c));return d;case"Array":return f=e.util.objId(b),c[f]?c[f]:(d=[],c[f]=d,b.forEach(function(b,e){d[e]=a(b,c)}),d);default:return b}},getLanguage:function(a){for(;a;){var c=b.exec(a.className);if(c)return c[1].toLowerCase();a=a.parentElement}return"none"},setLanguage:function(a,c){a.className=a.className.replace(RegExp(b,"gi"),""),a.classList.add("language-"+c)},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(d){var a=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(d.stack)||[])[1];if(a){var b=document.getElementsByTagName("script");for(var c in b)if(b[c].src==a)return b[c]}return null}},isActive:function(a,b,c){for(var d="no-"+b;a;){var e=a.classList;if(e.contains(b))return!0;if(e.contains(d))return!1;a=a.parentElement}return!!c}},languages:{plain:d,plaintext:d,text:d,txt:d,extend:function(a,b){a=e.util.clone(e.languages[a]);for(var c in b)a[c]=b[c];return a},insertBefore:function(a,b,c,d){var f=(d=d||e.languages)[a],g={};for(var k in f)if(f.hasOwnProperty(k)){if(k==b)for(var l in c)c.hasOwnProperty(l)&&(g[l]=c[l]);c.hasOwnProperty(k)||(g[k]=f[k])}var m=d[a];return d[a]=g,e.languages.DFS(e.languages,function(b,c){c===m&&b!=a&&(this[b]=g)}),g},DFS:function a(b,c,d,f){f=f||{};var g=e.util.objId;for(var k in b)if(b.hasOwnProperty(k)){c.call(b,k,b[k],d||k);var l=b[k],m=e.util.type(l);"Object"!==m||f[g(l)]?"Array"!==m||f[g(l)]||(f[g(l)]=!0,a(l,c,k,f)):(f[g(l)]=!0,a(l,c,null,f))}}},plugins:{},highlightAll:function(a,b){e.highlightAllUnder(document,a,b)},highlightAllUnder:function(a,b,c){c={callback:c,container:a,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};e.hooks.run("before-highlightall",c),c.elements=Array.prototype.slice.apply(c.container.querySelectorAll(c.selector)),e.hooks.run("before-all-elements-highlight",c);for(var d,a=0;d=c.elements[a++];)e.highlightElement(d,!0===b,c.callback)},highlightElement:function(b,c,d){var f=e.util.getLanguage(b),g=e.languages[f];e.util.setLanguage(b,f);var k=b.parentElement;k&&"pre"===k.nodeName.toLowerCase()&&e.util.setLanguage(k,f);var l={element:b,language:f,grammar:g,code:b.textContent};function m(a){l.highlightedCode=a,e.hooks.run("before-insert",l),l.element.innerHTML=l.highlightedCode,e.hooks.run("after-highlight",l),e.hooks.run("complete",l),d&&d.call(l.element)}if(e.hooks.run("before-sanity-check",l),(k=l.element.parentElement)&&"pre"===k.nodeName.toLowerCase()&&!k.hasAttribute("tabindex")&&k.setAttribute("tabindex","0"),!l.code)return e.hooks.run("complete",l),void (d&&d.call(l.element));if(e.hooks.run("before-highlight",l),l.grammar)if(c&&a.Worker){f=new Worker(e.filename);f.onmessage=function(a){m(a.data)},f.postMessage(JSON.stringify({language:l.language,code:l.code,immediateClose:!0}))}else m(e.highlight(l.code,l.grammar,l.language));else m(e.util.encode(l.code))},highlight:function(a,b,c){a={code:a,grammar:b,language:c};if(e.hooks.run("before-tokenize",a),!a.grammar)throw new Error('The language "'+a.language+'" has no grammar.');return a.tokens=e.tokenize(a.code,a.grammar),e.hooks.run("after-tokenize",a),f.stringify(e.util.encode(a.tokens),a.language)},tokenize:function(a,b){var c=b.rest;if(c){for(var d in c)b[d]=c[d];delete b.rest}d=new i;return j(d,d.head,a),h(a,d,b,d.head,0),function(a){for(var b=[],c=a.head.next;c!==a.tail;)b.push(c.value),c=c.next;return b}(d)},hooks:{all:{},add:function(a,b){var c=e.hooks.all;c[a]=c[a]||[],c[a].push(b)},run:function(a,b){a=e.hooks.all[a];if(a&&a.length)for(var c,d=0;c=a[d++];)c(b)}},Token:f};function f(a,b,c,d){this.type=a,this.content=b,this.alias=c,this.length=0|(d||"").length}function g(a,b,c,d){a.lastIndex=b;b=a.exec(c);if(b&&d&&b[1]){a=b[1].length;b.index+=a,b[0]=b[0].slice(a)}return b}function h(a,b,c,d,i,n){for(var l in c)if(c.hasOwnProperty(l)&&c[l]){var m=c[l];m=Array.isArray(m)?m:[m];for(var o=0;o<m.length;++o){if(n&&n.cause==l+","+o)return;var p=m[o],q=p.inside,r=!!p.lookbehind,s=!!p.greedy,t=p.alias;if(s&&!p.pattern.global){var u=p.pattern.toString().match(/[imsuy]*$/)[0];p.pattern=RegExp(p.pattern.source,u+"g")}for(var u=p.pattern||p,p=d.next,v=i;p!==b.tail&&!(n&&v>=n.reach);v+=p.value.length,p=p.next){var w=p.value;if(b.length>a.length)return;if(!(w instanceof f)){var x,y=1;if(s){if(!(x=g(u,v,a,r))||x.index>=a.length)break;var z=x.index,A=x.index+x[0].length,B=v;for(B+=p.value.length;z>=B;)B+=(p=p.next).value.length;if(v=B-=p.value.length,p.value instanceof f)continue;for(var C=p;C!==b.tail&&(B<A||"string"==typeof C.value);C=C.next)y++,B+=C.value.length;y--,w=a.slice(v,B),x.index-=v}else if(!(x=g(u,0,w,r)))continue;z=x.index;C=x[0];A=w.slice(0,z);B=w.slice(z+C.length);x=v+w.length;n&&x>n.reach&&(n.reach=x);z=p.prev;if(A&&(z=j(b,z,A),v+=A.length),k(b,z,y),p=j(b,z,new f(l,q?e.tokenize(C,q):C,t,C)),B&&j(b,p,B),y>1){w={cause:l+","+o,reach:x};h(a,b,c,p.prev,v,w),n&&w.reach>n.reach&&(n.reach=w.reach)}}}}}}function i(){var a={value:null,prev:null,next:null},b={value:null,prev:a,next:null};a.next=b,this.head=a,this.tail=b,this.length=0}function j(a,b,c){var d=b.next;c={value:c,prev:b,next:d};return b.next=c,d.prev=c,a.length++,c}function k(a,b,c){for(var d=b.next,e=0;e<c&&d!==a.tail;e++)d=d.next;b.next=d,d.prev=b,a.length-=e}if(a.Prism=e,f.stringify=function a(b,c){if("string"==typeof b)return b;if(Array.isArray(b)){var d="";return b.forEach(function(b){d+=a(b,c)}),d}var f={type:b.type,content:a(b.content,c),tag:"span",classes:["token",b.type],attributes:{},language:c};b=b.alias;b&&(Array.isArray(b)?Array.prototype.push.apply(f.classes,b):f.classes.push(b)),e.hooks.run("wrap",f);b="";for(var g in f.attributes)b+=" "+g+'="'+(f.attributes[g]||"").replace(/"/g,"&quot;")+'"';return"<"+f.tag+' class="'+f.classes.join(" ")+'"'+b+">"+f.content+"</"+f.tag+">"},!a.document)return a.addEventListener?(e.disableWorkerMessageHandler||a.addEventListener("message",function(b){b=JSON.parse(b.data);var c=b.language,d=b.code;b=b.immediateClose;a.postMessage(e.highlight(d,e.languages[c],c)),b&&a.close()},!1),e):e;d=e.util.currentScript();function l(){e.manual||e.highlightAll()}if(d&&(e.filename=d.src,d.hasAttribute("data-manual")&&(e.manual=!0)),!e.manual){var m=document.readyState;"loading"===m||"interactive"===m&&d&&d.defer?document.addEventListener("DOMContentLoaded",l):window.requestAnimationFrame?window.requestAnimationFrame(l):window.setTimeout(l,16)}return e}(b);"undefined"!=typeof e&&e.exports&&(e.exports=g),"undefined"!=typeof a&&(a.Prism=g);g.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},g.languages.markup.tag.inside["attr-value"].inside.entity=g.languages.markup.entity,g.languages.markup.doctype.inside["internal-subset"].inside=g.languages.markup,g.hooks.add("wrap",function(a){"entity"===a.type&&(a.attributes.title=a.content.replace(/&amp;/,"&"))}),Object.defineProperty(g.languages.markup.tag,"addInlined",{value:function(a,b){var c={};c["language-"+b]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:g.languages[b]},c.cdata=/^<!\[CDATA\[|\]\]>$/i;c={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:c}};c["language-"+b]={pattern:/[\s\S]+/,inside:g.languages[b]};b={};b[a]={pattern:RegExp("(<__[^>]*>)(?:<!\\[CDATA\\[(?:[^\\]]|\\](?!\\]>))*\\]\\]>|(?!<!\\[CDATA\\[)[^])*?(?=</__>)".replace(/__/g,function(){return a}),"i"),lookbehind:!0,greedy:!0,inside:c},g.languages.insertBefore("markup","cdata",b)}}),Object.defineProperty(g.languages.markup.tag,"addAttribute",{value:function(a,b){g.languages.markup.tag.inside["special-attr"].push({pattern:RegExp("(^|[\"'\\s])(?:"+a+")\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))","i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[b,"language-"+b],inside:g.languages[b]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),g.languages.html=g.languages.markup,g.languages.mathml=g.languages.markup,g.languages.svg=g.languages.markup,g.languages.xml=g.languages.extend("markup",{}),g.languages.ssml=g.languages.xml,g.languages.atom=g.languages.xml,g.languages.rss=g.languages.xml;!function(a){var b=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;a.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:[^;{\\s\"']|\\s+(?!\\s)|"+b.source+")*?(?:;|(?=\\s*\\{))"),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+b.source+"|(?:[^\\\\\r\n()\"']|\\\\[^])*)\\)","i"),greedy:!0,inside:{"function":/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+b.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+b.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:b,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,"function":{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},a.languages.css.atrule.inside.rest=a.languages.css;b=a.languages.markup;b&&(b.tag.addInlined("style","css"),b.tag.addAttribute("style","css"))}(g);g.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,"boolean":/\b(?:false|true)\b/,"function":/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/};g.languages.javascript=g.languages.extend("clike",{"class-name":[g.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],"function":/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp("(^|[^\\w$])(?:NaN|Infinity|0[bB][01]+(?:_[01]+)*n?|0[oO][0-7]+(?:_[0-7]+)*n?|0[xX][\\dA-Fa-f]+(?:_[\\dA-Fa-f]+)*n?|\\d+(?:_\\d+)*n|(?:\\d+(?:_\\d+)*(?:\\.(?:\\d+(?:_\\d+)*)?)?|\\.\\d+(?:_\\d+)*)(?:[Ee][+-]?\\d+(?:_\\d+)*)?)(?![\\w$])"),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),g.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,g.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp("((?:^|[^$\\w\\xA0-\\uFFFF.\"'\\])\\s]|\\b(?:return|yield))\\s*)/(?:(?:\\[(?:[^\\]\\\\\r\n]|\\\\.)*\\]|\\\\.|[^/\\\\\\[\r\n])+/[dgimyus]{0,7}|(?:\\[(?:[^[\\]\\\\\r\n]|\\\\.|\\[(?:[^[\\]\\\\\r\n]|\\\\.|\\[(?:[^[\\]\\\\\r\n]|\\\\.)*\\])*\\])*\\]|\\\\.|[^/\\\\\\[\r\n])+/[dgimyus]{0,7}v[dgimyus]{0,7})(?=(?:\\s|/\\*(?:[^*]|\\*(?!/))*\\*/)*(?:$|[\r\n,.;:})\\]]|//))"),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:g.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:g.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:g.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:g.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:g.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),g.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:g.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),g.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),g.languages.markup&&(g.languages.markup.tag.addInlined("script","javascript"),g.languages.markup.tag.addAttribute("on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)","javascript")),g.languages.js=g.languages.javascript}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @generated
 * @noflow
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalCode.prod",["Lexical","LexicalUtils","prism-c","prism-clike","prism-cpp","prism-css","prism-java","prism-javascript","prism-markdown","prism-markup","prism-objectivec","prism-powershell","prism-python","prism-rust","prism-sql","prism-swift","prism-typescript","prismjs"],(function $module_LexicalCode_prod(global,require,requireDynamic,requireLazy,module,exports){

'use strict';require("prismjs");require("prism-clike");require("prism-javascript");require("prism-markup");require("prism-markdown");require("prism-c");require("prism-css");require("prism-objectivec");require("prism-sql");require("prism-powershell");require("prism-python");require("prism-rust");require("prism-swift");require("prism-typescript");require("prism-java");require("prism-cpp");"use strict";var q;
function v(a){var b=new URLSearchParams();b.append("code",a);for(var c=1;c<arguments.length;c++){b.append("v",arguments[c]);}throw Error("Minified Lexical error #"+a+"; visit https://lexical.dev/docs/error?"+b+" for the full message or "+"use the non-minified dev environment for full errors and additional helpful warnings.");}q=v&&v.__esModule&&Object.prototype.hasOwnProperty.call(v,"default")?v["default"]:v;var x=globalThis.Prism||window.Prism,y=function y(a){try{return a?Object.prototype.hasOwnProperty.call(x.languages,a):!1;}catch(b){return!1;}};
function z(a,b){for(var _iterator=a.childNodes,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref;if(_isArray){if(_i>=_iterator.length)break;_ref=_iterator[_i++];}else{_i=_iterator.next();if(_i.done)break;_ref=_i.value;}var c=_ref;if(require("LexicalUtils").isHTMLElement(c)&&c.tagName===b)return!0;z(c,b);}return!1;}var
A=function(_m$ElementNode){babelHelpers.inheritsLoose(A,_m$ElementNode);A.getType=function getType(){return"code";};A.clone=function clone(a){return new A(a.__language,a.__key);};function A(a,b){var _this;_this=_m$ElementNode.call(this,b)||this;_this.__language=a;_this.__isSyntaxHighlightSupported=y(a);return _this;}var _proto=A.prototype;_proto.createDOM=function createDOM(a){var b=document.createElement("code");require("LexicalUtils").addClassNamesToElement(b,a.theme.code);b.setAttribute("spellcheck","false");if(a=this.getLanguage())b.setAttribute("data-language",a),this.getIsSyntaxHighlightSupported()&&b.setAttribute("data-highlight-language",a);return b;};_proto.updateDOM=function updateDOM(a,b){var c=this.__language,
e=a.__language;c?c!==e&&(b.setAttribute("data-language",c),this.__isSyntaxHighlightSupported&&b.setAttribute("data-highlight-language",c)):e&&(b.removeAttribute("data-language"),a.__isSyntaxHighlightSupported&&b.removeAttribute("data-highlight-language"));return!1;};_proto.exportDOM=function exportDOM(a){var b=document.createElement("pre");require("LexicalUtils").addClassNamesToElement(b,a._config.theme.code);b.setAttribute("spellcheck","false");if(a=this.getLanguage())b.setAttribute("data-language",a),this.getIsSyntaxHighlightSupported()&&b.setAttribute("data-highlight-language",
a);return{element:b};};A.importDOM=function importDOM(){return{code:function code(a){return null!=a.textContent&&(/\r?\n/.test(a.textContent)||z(a,"BR"))?{conversion:B,priority:1}:null;},div:function div(){return{conversion:aa,priority:1};},pre:function pre(){return{conversion:B,priority:0};},table:function table(a){return C(a)?{conversion:ba,priority:3}:null;},td:function td(a){var b=a.closest("table");return a.classList.contains("js-file-line")||b&&C(b)?{conversion:D,priority:3}:null;},tr:function tr(a){return(a=a.closest("table"))&&C(a)?{conversion:D,priority:3}:null;}};};A.importJSON=function importJSON(a){var b=E(a.language);b.setFormat(a.format);
b.setIndent(a.indent);b.setDirection(a.direction);return b;};_proto.exportJSON=function exportJSON(){return babelHelpers["extends"]({},_m$ElementNode.prototype.exportJSON.call(this),{language:this.getLanguage(),type:"code",version:1});};_proto.insertNewAfter=function insertNewAfter(a,b){var _a$anchor;if(b===void 0){b=!0;}var c=this.getChildren(),e=c.length;if(2<=e&&"\n"===c[e-1].getTextContent()&&"\n"===c[e-2].getTextContent()&&a.isCollapsed()&&a.anchor.key===this.__key&&a.anchor.offset===e)return c[e-1].remove(),c[e-2].remove(),a=require("Lexical").$createParagraphNode(),this.insertAfter(a,b),a;var _a=a,f=_a.anchor,g=_a.focus;b=(f.isBefore(g)?f:g).getNode();if(require("Lexical").$isTextNode(b)){e=
F(b);for(c=[];;){if(require("Lexical").$isTabNode(e))c.push(require("Lexical").$createTabNode()),e=e.getNextSibling();else if(G(e)){for(var h=0,k=e.getTextContent(),l=e.getTextContentSize();h<l&&" "===k[h];){h++;}0!==h&&c.push(H(" ".repeat(h)));if(h!==l)break;e=e.getNextSibling();}else break;}e=b.splitText(f.offset)[0];h=0===f.offset?0:1;h=e.getIndexWithinParent()+h;k=b.getParentOrThrow();l=[require("Lexical").$createLineBreakNode()].concat(c);k.splice(h,0,l);(c=c[c.length-1])?c.select():0===f.offset?e.selectPrevious():e.getNextSibling().selectNext(0,0);}I(b)&&(
(_a$anchor=a.anchor,a=_a$anchor.offset,_a$anchor),b.splice(a,0,[require("Lexical").$createLineBreakNode()]),b.select(a+1,a+1));return null;};_proto.canIndent=function canIndent(){return!1;};_proto.collapseAtStart=function collapseAtStart(){var a=require("Lexical").$createParagraphNode();this.getChildren().forEach(function(b){return a.append(b);});this.replace(a);return!0;};_proto.setLanguage=function setLanguage(a){var b=this.getWritable();b.__language=a;b.__isSyntaxHighlightSupported=y(a);};_proto.getLanguage=function getLanguage(){return this.getLatest().__language;};_proto.getIsSyntaxHighlightSupported=function getIsSyntaxHighlightSupported(){return this.getLatest().__isSyntaxHighlightSupported;};return A;}(require("Lexical").ElementNode);
function E(a){return require("Lexical").$applyNodeReplacement(new A(a));}function I(a){return a instanceof A;}function B(a){a=a.getAttribute("data-language");return{node:E(a)};}function aa(a){var b=null!==a.style.fontFamily.match("monospace");var c;if(c=!b){a:{for(a=a.parentElement;null!==a;){if(null!==a.style.fontFamily.match("monospace")){a=!0;break a;}a=a.parentElement;}a=!1;}c=!a;}return c?{node:null}:{node:b?E():null};}function ba(){return{node:E()};}function D(){return{node:null};}
function C(a){return a.classList.contains("js-file-line-container");}var J={c:"C",clike:"C-like",cpp:"C++",css:"CSS",html:"HTML",java:"Java",js:"JavaScript",markdown:"Markdown",objc:"Objective-C",plain:"Plain Text",powershell:"PowerShell",py:"Python",rust:"Rust",sql:"SQL",swift:"Swift",typescript:"TypeScript",xml:"XML"},K={cpp:"cpp",java:"java",javascript:"js",md:"markdown",plaintext:"plain",python:"py",text:"plain",ts:"typescript"};function M(a){return K[a]||a;}var
N=function(_m$TextNode){babelHelpers.inheritsLoose(N,_m$TextNode);function N(a,b,c){var _this2;_this2=_m$TextNode.call(this,a,c)||this;_this2.__highlightType=b;return _this2;}N.getType=function getType(){return"code-highlight";};N.clone=function clone(a){return new N(a.__text,a.__highlightType||void 0,a.__key);};var _proto2=N.prototype;_proto2.getHighlightType=function getHighlightType(){return this.getLatest().__highlightType;};_proto2.canHaveFormat=function canHaveFormat(){return!1;};_proto2.createDOM=function createDOM(a){var b=_m$TextNode.prototype.createDOM.call(this,a);a=O(a.theme,this.__highlightType);require("LexicalUtils").addClassNamesToElement(b,a);return b;};_proto2.updateDOM=function updateDOM(a,b,c){var e=_m$TextNode.prototype.updateDOM.call(this,a,b,c);a=O(c.theme,a.__highlightType);c=O(c.theme,this.__highlightType);a!==
c&&(a&&require("LexicalUtils").removeClassNamesFromElement(b,a),c&&require("LexicalUtils").addClassNamesToElement(b,c));return e;};N.importJSON=function importJSON(a){var b=H(a.text,a.highlightType);b.setFormat(a.format);b.setDetail(a.detail);b.setMode(a.mode);b.setStyle(a.style);return b;};_proto2.exportJSON=function exportJSON(){return babelHelpers["extends"]({},_m$TextNode.prototype.exportJSON.call(this),{highlightType:this.getHighlightType(),type:"code-highlight",version:1});};_proto2.setFormat=function setFormat(){return this;};_proto2.isParentRequired=function isParentRequired(){return!0;};_proto2.createParentElementNode=function createParentElementNode(){return E();};return N;}(require("Lexical").TextNode);function O(a,b){return b&&a&&a.codeHighlight&&a.codeHighlight[b];}
function H(a,b){return require("Lexical").$applyNodeReplacement(new N(a,b));}function G(a){return a instanceof N;}function F(a){var b=a;for(;G(a)||require("Lexical").$isTabNode(a);){b=a,a=a.getPreviousSibling();}return b;}function P(a){var b=a;for(;G(a)||require("Lexical").$isTabNode(a);){b=a,a=a.getNextSibling();}return b;}var Q={defaultLanguage:"javascript",tokenize:function tokenize(a,b){return x.tokenize(a,x.languages[b||""]||x.languages[this.defaultLanguage]);}};
function R(a,b){var c=null;var e=null,f=a;var g=b,h=a.getTextContent();for(;;){if(0===g){f=f.getPreviousSibling();if(null===f)break;G(f)||require("Lexical").$isTabNode(f)||require("Lexical").$isLineBreakNode(f)||q(167);if(require("Lexical").$isLineBreakNode(f)){c={node:f,offset:1};break;}g=Math.max(0,f.getTextContentSize()-1);h=f.getTextContent();}else g--;var k=h[g];G(f)&&" "!==k&&(e={node:f,offset:g});}if(null!==e)return e;e=null;b<a.getTextContentSize()?G(a)&&(e=a.getTextContent()[b]):(f=a.getNextSibling(),G(f)&&(e=f.getTextContent()[0]));if(null!==
e&&" "!==e)return c;a:for(e=a,f=a.getTextContent(),a=a.getTextContentSize();;){if(!G(e)||b===a){e=e.getNextSibling();if(null===e||require("Lexical").$isLineBreakNode(e)){a=null;break a;}G(e)&&(b=0,f=e.getTextContent(),a=e.getTextContentSize());}if(G(e)){if(" "!==f[b]){a={node:e,offset:b};break a;}b++;}}return null!==a?a:c;}function S(a){a=P(a);require("Lexical").$isLineBreakNode(a)&&q(168);return a;}function T(a,b,c){var e=a.getParent();I(e)?U(e,b,c):G(a)&&a.replace(require("Lexical").$createTextNode(a.__text));}var V=new Set();
function U(a,b,c){var e=a.getKey();V.has(e)||(V.add(e),void 0===a.getLanguage()&&a.setLanguage(c.defaultLanguage),b.update(function(){ca(e,function(){var f=require("Lexical").$getNodeByKey(e);if(!I(f)||!f.isAttached())return!1;var g=f.getTextContent();g=c.tokenize(g,f.getLanguage()||c.defaultLanguage);g=W(g);var h=f.getChildren();for(f=0;f<h.length&&X(h[f],g[f]);){f++;}var k=h.length;var l=g.length,r=Math.min(k,l)-f,n=0;for(;n<r;){if(n++,!X(h[k-n],g[l-n])){n--;break;}}h=f;k-=n;g=g.slice(f,l-n);var _from$nodesForReplace=
{from:h,nodesForReplacement:g,to:k},p=_from$nodesForReplace.from,w=_from$nodesForReplace.to,u=_from$nodesForReplace.nodesForReplacement;return p!==w||u.length?(a.splice(p,w-p,u),!0):!1;});},{onUpdate:function onUpdate(){V["delete"](e);},skipTransforms:!0}));}
function W(a,b){var c=[];for(var _iterator2=a,_isArray2=Array.isArray(_iterator2),_i2=0,_iterator2=_isArray2?_iterator2:_iterator2[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _e;var _ref2;if(_isArray2){if(_i2>=_iterator2.length)break;_ref2=_iterator2[_i2++];}else{_i2=_iterator2.next();if(_i2.done)break;_ref2=_i2.value;}var e=_ref2;if("string"===typeof e){a=e.split(/(\n|\t)/);var f=a.length;for(var g=0;g<f;g++){var h=a[g];"\n"===h||"\r\n"===h?c.push(require("Lexical").$createLineBreakNode()):"\t"===h?c.push(require("Lexical").$createTabNode()):0<h.length&&c.push(H(h,b));}}else(_e=e,a=_e.content,_e),"string"===typeof a?c.push.apply(c,W([a],e.type)):Array.isArray(a)&&c.push.apply(c,W(a,e.type));}return c;}
function ca(a,b){a=require("Lexical").$getNodeByKey(a);if(I(a)&&a.isAttached()){var c=require("Lexical").$getSelection();if(require("Lexical").$isRangeSelection(c)){c=c.anchor;var e=c.offset,f="element"===c.type&&require("Lexical").$isLineBreakNode(a.getChildAtIndex(c.offset-1)),g=0;if(!f){var h=c.getNode();g=e+h.getPreviousSiblings().reduce(function(k,l){return k+l.getTextContentSize();},0);}b()&&(f?c.getNode().select(e,e):a.getChildren().some(function(h){var k=require("Lexical").$isTextNode(h);if(k||require("Lexical").$isLineBreakNode(h)){var l=h.getTextContentSize();if(k&&l>=g)return h.select(g,g),!0;g-=l;}return!1;}));}else b();}}
function X(a,b){return G(a)&&G(b)&&a.__text===b.__text&&a.__highlightType===b.__highlightType||require("Lexical").$isTabNode(a)&&require("Lexical").$isTabNode(b)||require("Lexical").$isLineBreakNode(a)&&require("Lexical").$isLineBreakNode(b);}function Y(a){if(!require("Lexical").$isRangeSelection(a))return!1;var b=a.anchor.getNode();a=a.focus.getNode();if(b.is(a)&&I(b))return!0;b=b.getParent();return I(b)&&b.is(a.getParent());}
function Z(a){a=a.getNodes();var b=[[]];if(1===a.length&&I(a[0]))return b;var c=b[0];for(var e=0;e<a.length;e++){var f=a[e];G(f)||require("Lexical").$isTabNode(f)||require("Lexical").$isLineBreakNode(f)||q(169);require("Lexical").$isLineBreakNode(f)?0!==e&&0<c.length&&(c=[],b.push(c)):c.push(f);}return b;}
function da(a){var b=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(b)||!Y(b))return null;var c=a?require("Lexical").OUTDENT_CONTENT_COMMAND:require("Lexical").INDENT_CONTENT_COMMAND;a=a?require("Lexical").OUTDENT_CONTENT_COMMAND:require("Lexical").INSERT_TAB_COMMAND;if(1<Z(b).length)return c;var e=b.getNodes()[0];I(e)||G(e)||require("Lexical").$isTabNode(e)||require("Lexical").$isLineBreakNode(e)||q(170);if(I(e))return c;var f=F(e);e=P(e);var g=b.anchor;var h=b.focus;h.isBefore(g)?b=h:(b=g,g=h);return null!==f&&null!==e&&b.key===f.getKey()&&0===b.offset&&g.key===e.getKey()&&g.offset===e.getTextContentSize()?
c:a;}
function ea(a){var b=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(b)||!Y(b))return!1;var c=Z(b);var e=c.length;if(1<c.length){for(b=0;b<e;b++){var f=c[b];0<f.length&&(f=f[0],0===b&&(f=F(f)),null!==f&&(a===require("Lexical").INDENT_CONTENT_COMMAND?f.insertBefore(require("Lexical").$createTabNode()):require("Lexical").$isTabNode(f)&&f.remove()));}return!0;}c=b.getNodes()[0];I(c)||G(c)||require("Lexical").$isTabNode(c)||require("Lexical").$isLineBreakNode(c)||q(171);if(I(c))return a===require("Lexical").INDENT_CONTENT_COMMAND&&b.insertNodes([require("Lexical").$createTabNode()]),!0;c=F(c);null===c&&q(172);a===require("Lexical").INDENT_CONTENT_COMMAND?require("Lexical").$isLineBreakNode(c)?
c.insertAfter(require("Lexical").$createTabNode()):c.insertBefore(require("Lexical").$createTabNode()):require("Lexical").$isTabNode(c)&&c.remove();return!0;}
function fa(a,b){var c=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(c))return!1;var e=c.anchor,f=c.focus,g=e.offset,h=f.offset,k=e.getNode(),l=f.getNode();var r=a===require("Lexical").KEY_ARROW_UP_COMMAND;if(!Y(c)||!G(k)&&!require("Lexical").$isTabNode(k)||!G(l)&&!require("Lexical").$isTabNode(l))return!1;if(!b.altKey){if(c.isCollapsed())if(a=k.getParentOrThrow(),r&&0===g&&null===k.getPreviousSibling()){if(null===a.getPreviousSibling())return a.selectPrevious(),b.preventDefault(),!0;}else if(!r&&g===k.getTextContentSize()&&null===k.getNextSibling()&&
null===a.getNextSibling())return a.selectNext(),b.preventDefault(),!0;return!1;}var n;if(k.isBefore(l)){var p=F(k);n=P(l);}else p=F(l),n=P(k);if(null==p||null==n)return!1;var w=p.getNodesBetween(n);for(var t=0;t<w.length;t++){var L=w[t];if(!G(L)&&!require("Lexical").$isTabNode(L)&&!require("Lexical").$isLineBreakNode(L))return!1;}b.preventDefault();b.stopPropagation();b=r?p.getPreviousSibling():n.getNextSibling();if(!require("Lexical").$isLineBreakNode(b))return!0;p=r?b.getPreviousSibling():b.getNextSibling();if(null==p)return!0;r=G(p)||require("Lexical").$isTabNode(p)||
require("Lexical").$isLineBreakNode(p)?r?F(p):P(p):null;var u=null!=r?r:p;b.remove();w.forEach(function(t){return t.remove();});a===require("Lexical").KEY_ARROW_UP_COMMAND?(w.forEach(function(t){return u.insertBefore(t);}),u.insertBefore(b)):(u.insertAfter(b),u=b,w.forEach(function(t){u.insertAfter(t);u=t;}));c.setTextNodeRange(k,g,l,h);return!0;}
function ha(a,b){var c=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(c))return!1;var e=c.anchor,f=c.focus;var g=e.getNode();var h=f.getNode();a=a===require("Lexical").MOVE_TO_START;if(!Y(c)||!G(g)&&!require("Lexical").$isTabNode(g)||!G(h)&&!require("Lexical").$isTabNode(h))return!1;if(a){if(g=R(h,f.offset),null!==g){var _g=g,k=_g.node,l=_g.offset;require("Lexical").$isLineBreakNode(k)?k.selectNext(0,0):c.setTextNodeRange(k,l,k,l);}else h.getParentOrThrow().selectStart();}else S(h).select();b.preventDefault();b.stopPropagation();return!0;}exports.$createCodeHighlightNode=H;
exports.$createCodeNode=E;exports.$isCodeHighlightNode=G;exports.$isCodeNode=I;exports.CODE_LANGUAGE_FRIENDLY_NAME_MAP=J;exports.CODE_LANGUAGE_MAP=K;exports.CodeHighlightNode=N;exports.CodeNode=A;exports.DEFAULT_CODE_LANGUAGE="javascript";exports.PrismTokenizer=Q;exports.getCodeLanguages=function(){return Object.keys(x.languages).filter(function(a){return"function"!==typeof x.languages[a];}).sort();};exports.getDefaultCodeLanguage=function(){return"javascript";};exports.getEndOfCodeInLine=S;exports.getFirstCodeNodeOfLine=F;
exports.getLanguageFriendlyName=function(a){a=M(a);return J[a]||a;};exports.getLastCodeNodeOfLine=P;exports.getStartOfCodeInLine=R;exports.normalizeCodeLang=M;
exports.registerCodeHighlighting=function(a,b){if(!a.hasNodes([A,N]))throw Error("CodeHighlightPlugin: CodeNode or CodeHighlightNode not registered on editor");null==b&&(b=Q);return require("LexicalUtils").mergeRegister(a.registerMutationListener(A,function(c){a.update(function(){for(var _iterator3=c,_isArray3=Array.isArray(_iterator3),_i3=0,_iterator3=_isArray3?_iterator3:_iterator3[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref4;if(_isArray3){if(_i3>=_iterator3.length)break;_ref4=_iterator3[_i3++];}else{_i3=_iterator3.next();if(_i3.done)break;_ref4=_i3.value;}var _ref5=_ref4;var g=_ref5[0];var h=_ref5[1];if("destroyed"!==h){var e=require("Lexical").$getNodeByKey(g);if(null!==e)a:{var f=e;e=a.getElementByKey(f.getKey());if(null===e)break a;f=f.getChildren();var k=f.length;if(k===e.__cachedChildrenLength)break a;e.__cachedChildrenLength=k;var l="1",r=1;for(var n=
0;n<k;n++){require("Lexical").$isLineBreakNode(f[n])&&(l+="\n"+ ++r);}e.setAttribute("data-gutter",l);}}}});},{skipInitialization:!1}),a.registerNodeTransform(A,function(c){return U(c,a,b);}),a.registerNodeTransform(require("Lexical").TextNode,function(c){return T(c,a,b);}),a.registerNodeTransform(N,function(c){return T(c,a,b);}),a.registerCommand(require("Lexical").KEY_TAB_COMMAND,function(c){var e=da(c.shiftKey);if(null===e)return!1;c.preventDefault();a.dispatchCommand(e,void 0);return!0;},require("Lexical").COMMAND_PRIORITY_LOW),a.registerCommand(require("Lexical").INSERT_TAB_COMMAND,function(){var c=require("Lexical").$getSelection();if(!Y(c))return!1;require("Lexical").$insertNodes([require("Lexical").$createTabNode()]);
return!0;},require("Lexical").COMMAND_PRIORITY_LOW),a.registerCommand(require("Lexical").INDENT_CONTENT_COMMAND,function(){return ea(require("Lexical").INDENT_CONTENT_COMMAND);},require("Lexical").COMMAND_PRIORITY_LOW),a.registerCommand(require("Lexical").OUTDENT_CONTENT_COMMAND,function(){return ea(require("Lexical").OUTDENT_CONTENT_COMMAND);},require("Lexical").COMMAND_PRIORITY_LOW),a.registerCommand(require("Lexical").KEY_ARROW_UP_COMMAND,function(c){return fa(require("Lexical").KEY_ARROW_UP_COMMAND,c);},require("Lexical").COMMAND_PRIORITY_LOW),a.registerCommand(require("Lexical").KEY_ARROW_DOWN_COMMAND,function(c){return fa(require("Lexical").KEY_ARROW_DOWN_COMMAND,c);},require("Lexical").COMMAND_PRIORITY_LOW),a.registerCommand(require("Lexical").MOVE_TO_END,function(c){return ha(require("Lexical").MOVE_TO_END,c);},require("Lexical").COMMAND_PRIORITY_LOW),
a.registerCommand(require("Lexical").MOVE_TO_START,function(c){return ha(require("Lexical").MOVE_TO_START,c);},require("Lexical").COMMAND_PRIORITY_LOW));};}),null);
__d("LexicalList",["cr:2535"],(function(a,b,c,d,e,f){e.exports=b("cr:2535")}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @generated
 * @noflow
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalList.prod",["Lexical","LexicalUtils"],(function $module_LexicalList_prod(global,require,requireDynamic,requireLazy,module,exports){

'use strict';var l;function n(a){var b=new URLSearchParams();b.append("code",a);for(var c=1;c<arguments.length;c++){b.append("v",arguments[c]);}throw Error("Minified Lexical error #"+a+"; visit https://lexical.dev/docs/error?"+b+" for the full message or "+"use the non-minified dev environment for full errors and additional helpful warnings.");}l=n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n["default"]:n;
function p(a){var b=1;for(a=a.getParent();null!=a;){if(q(a)){a=a.getParent();if(r(a)){b++;a=a.getParent();continue;}l(40);}break;}return b;}function t(a){a=a.getParent();r(a)||l(40);var b=a;for(;null!==b;){b=b.getParent(),r(b)&&(a=b);}return a;}function u(a){var b=[];a=a.getChildren().filter(q);for(var c=0;c<a.length;c++){var d=a[c],e=d.getFirstChild();r(e)?b=b.concat(u(e)):b.push(d);}return b;}function v(a){return q(a)&&r(a.getFirstChild());}
function w(a){for(;null==a.getNextSibling()&&null==a.getPreviousSibling();){var b=a.getParent();if(null==b||!q(a)&&!r(a))break;a=b;}a.remove();}function x(a){return y().append(a);}function z(a,b){return q(a)&&(0===b.length||1===b.length&&a.is(b[0])&&0===a.getChildrenSize());}
function A(a,b){a.update(function(){var c=require("Lexical").$getSelection();if(null!==c){var d=c.getNodes();if(require("Lexical").$isRangeSelection(c)){c=c.getStartEndPoints();null===c&&l(143);var _c=c;c=_c[0];c=c.getNode();var e=c.getParent();if(z(c,d)){d=B(b);require("Lexical").$isRootOrShadowRoot(e)?(c.replace(d),e=y(),require("Lexical").$isElementNode(c)&&(e.setFormat(c.getFormatType()),e.setIndent(c.getIndent())),d.append(e)):q(c)&&(c=c.getParentOrThrow(),E(d,c.getChildren()),c.replace(d));return;}}c=new Set();for(e=0;e<d.length;e++){var f=d[e];if(require("Lexical").$isElementNode(f)&&f.isEmpty()&&
!q(f)&&!c.has(f.getKey()))F(f,b);else if(require("Lexical").$isLeafNode(f))for(f=f.getParent();null!=f;){var m=f.getKey();if(r(f)){if(!c.has(m)){var k=B(b);E(k,f.getChildren());f.replace(k);c.add(m);}break;}else{k=f.getParent();if(require("Lexical").$isRootOrShadowRoot(k)&&!c.has(m)){c.add(m);F(f,b);break;}f=k;}}}}});}function E(a,b){a.splice(a.getChildrenSize(),0,b);}
function F(a,b){if(r(a))return a;var c=a.getPreviousSibling(),d=a.getNextSibling(),e=y();E(e,a.getChildren());r(c)&&b===c.getListType()?(c.append(e),r(d)&&b===d.getListType()&&(E(c,d.getChildren()),d.remove()),b=c):r(d)&&b===d.getListType()?(d.getFirstChildOrThrow().insertBefore(e),b=d):(b=B(b),b.append(e),a.replace(b));e.setFormat(a.getFormatType());e.setIndent(a.getIndent());a.remove();return b;}
function G(a,b){var c=a.getLastChild();var d=b.getFirstChild();c&&d&&v(c)&&v(d)&&(G(c.getFirstChild(),d.getFirstChild()),d.remove());c=b.getChildren();0<c.length&&a.append.apply(a,c);b.remove();}
function H(a){a.update(function(){var b=require("Lexical").$getSelection();if(require("Lexical").$isRangeSelection(b)){var c=new Set(),d=b.getNodes(),e=b.anchor.getNode();if(z(e,d))c.add(t(e));else for(e=0;e<d.length;e++){var f=d[e];require("Lexical").$isLeafNode(f)&&(f=require("LexicalUtils").$getNearestNodeOfType(f,I),null!=f&&c.add(t(f)));}for(var _iterator=c,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref;if(_isArray){if(_i>=_iterator.length)break;_ref=_iterator[_i++];}else{_i=_iterator.next();if(_i.done)break;_ref=_i.value;}var k=_ref;c=k;d=u(k);for(var _iterator2=d,_isArray2=Array.isArray(_iterator2),_i2=0,_iterator2=_isArray2?_iterator2:_iterator2[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref2;if(_isArray2){if(_i2>=_iterator2.length)break;_ref2=_iterator2[_i2++];}else{_i2=_iterator2.next();if(_i2.done)break;_ref2=_i2.value;}var m=_ref2;d=require("Lexical").$createParagraphNode(),E(d,m.getChildren()),c.insertAfter(d),c=d,m.__key===b.anchor.key&&b.anchor.set(d.getKey(),0,"element"),m.__key===b.focus.key&&b.focus.set(d.getKey(),0,"element"),m.remove();}
k.remove();}}});}
function J(a){if(!v(a)){var b=a.getParent(),c=b?b.getParent():void 0,d=c?c.getParent():void 0;if(r(d)&&q(c)&&r(b)){d=b?b.getFirstChild():void 0;var e=b?b.getLastChild():void 0;if(a.is(d))c.insertBefore(a),b.isEmpty()&&c.remove();else if(a.is(e))c.insertAfter(a),b.isEmpty()&&c.remove();else{e=b.getListType();b=y();var f=B(e);b.append(f);a.getPreviousSiblings().forEach(function(k){return f.append(k);});d=y();e=B(e);d.append(e);E(e,a.getNextSiblings());c.insertBefore(b);c.insertAfter(d);c.replace(a);}}}}
function K(){var a=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(a)||!a.isCollapsed())return!1;a=a.anchor.getNode();if(!q(a)||0!==a.getChildrenSize())return!1;var b=t(a),c=a.getParent();r(c)||l(40);var d=c.getParent(),e;if(require("Lexical").$isRootOrShadowRoot(d))e=require("Lexical").$createParagraphNode(),b.insertAfter(e);else if(q(d))e=y(),d.insertAfter(e);else return!1;e.select();b=a.getNextSiblings();if(0<b.length){var f=B(c.getListType());require("Lexical").$isParagraphNode(e)?e.insertAfter(f):(c=y(),c.append(f),e.insertAfter(c));b.forEach(function(k){k.remove();
f.append(k);});}w(a);return!0;}function L(){var b=[];for(var _len=arguments.length,a=new Array(_len),_key=0;_key<_len;_key++){a[_key]=arguments[_key];}for(var _i3=0;_i3<a.length;_i3++){var c=a[_i3];if(c&&"string"===typeof c){for(var _iterator3=c.matchAll(/\S+/g),_isArray3=Array.isArray(_iterator3),_i4=0,_iterator3=_isArray3?_iterator3:_iterator3[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref4;if(_isArray3){if(_i4>=_iterator3.length)break;_ref4=_iterator3[_i4++];}else{_i4=_iterator3.next();if(_i4.done)break;_ref4=_i4.value;}var _ref5=_ref4;var d=_ref5[0];b.push(d);}}}return b;}var
I=function(_h$ElementNode){babelHelpers.inheritsLoose(I,_h$ElementNode);I.getType=function getType(){return"listitem";};I.clone=function clone(a){return new I(a.__value,a.__checked,a.__key);};function I(a,b,c){var _this;_this=_h$ElementNode.call(this,c)||this;_this.__value=void 0===a?1:a;_this.__checked=b;return _this;}var _proto=I.prototype;_proto.createDOM=function createDOM(a){var b=document.createElement("li"),c=this.getParent();r(c)&&"check"===c.getListType()&&M(b,this,null);b.value=this.__value;N(b,a.theme,this);return b;};_proto.updateDOM=function updateDOM(a,b,c){var d=this.getParent();r(d)&&"check"===d.getListType()&&M(b,this,a);b.value=this.__value;N(b,c.theme,this);return!1;};I.transform=function transform(){return function(a)
{q(a)||l(144);if(null!=a.__checked){var b=a.getParent();r(b)&&"check"!==b.getListType()&&null!=a.getChecked()&&a.setChecked(void 0);}};};I.importDOM=function importDOM(){return{li:function li(){return{conversion:O,priority:0};}};};I.importJSON=function importJSON(a){var b=y();b.setChecked(a.checked);b.setValue(a.value);b.setFormat(a.format);b.setDirection(a.direction);return b;};_proto.exportDOM=function exportDOM(a){a=this.createDOM(a._config);a.style.textAlign=this.getFormatType();return{element:a};};_proto.exportJSON=function exportJSON(){return babelHelpers["extends"]({},_h$ElementNode.prototype.exportJSON.call(this),{checked:this.getChecked(),type:"listitem",
value:this.getValue(),version:1});};_proto.append=function append(){for(var b=0;b<arguments.length;b++){var c=b<0||arguments.length<=b?undefined:arguments[b];if(require("Lexical").$isElementNode(c)&&this.canMergeWith(c)){var d=c.getChildren();this.append.apply(this,d);c.remove();}else _h$ElementNode.prototype.append.call(this,c);}return this;};_proto.replace=function replace(a,b){if(q(a))return _h$ElementNode.prototype.replace.call(this,a);this.setIndent(0);var c=this.getParentOrThrow();if(!r(c))return a;if(c.__first===this.getKey())c.insertBefore(a);else if(c.__last===this.getKey())c.insertAfter(a);else{var d=B(c.getListType()),e=this.getNextSibling();for(;e;){var f=e;e=e.getNextSibling();
d.append(f);}c.insertAfter(a);a.insertAfter(d);}b&&(require("Lexical").$isElementNode(a)||l(139),this.getChildren().forEach(function(d){a.append(d);}));this.remove();0===c.getChildrenSize()&&c.remove();return a;};_proto.insertAfter=function insertAfter(a,b){if(b===void 0){b=!0;}var c=this.getParentOrThrow();r(c)||l(39);if(q(a))return _h$ElementNode.prototype.insertAfter.call(this,a,b);var d=this.getNextSiblings();c.insertAfter(a,b);if(0!==d.length){var e=B(c.getListType());d.forEach(function(f){return e.append(f);});a.insertAfter(e,b);}return a;};_proto.remove=function remove(a){var b=this.getPreviousSibling(),c=this.getNextSibling();_h$ElementNode.prototype.remove.call(this,a);
b&&c&&v(b)&&v(c)&&(G(b.getFirstChild(),c.getFirstChild()),c.remove());};_proto.insertNewAfter=function insertNewAfter(a,b){if(b===void 0){b=!0;}a=y(null==this.__checked?void 0:!1);this.insertAfter(a,b);return a;};_proto.collapseAtStart=function collapseAtStart(a){var b=require("Lexical").$createParagraphNode();this.getChildren().forEach(function(f){return b.append(f);});var c=this.getParentOrThrow(),d=c.getParentOrThrow();var e=q(d);1===c.getChildrenSize()?e?(c.remove(),d.select()):(c.insertBefore(b),c.remove(),c=a.anchor,a=a.focus,d=b.getKey(),"element"===c.type&&c.getNode().is(this)&&c.set(d,c.offset,"element"),
"element"===a.type&&a.getNode().is(this)&&a.set(d,a.offset,"element")):(c.insertBefore(b),this.remove());return!0;};_proto.getValue=function getValue(){return this.getLatest().__value;};_proto.setValue=function setValue(a){this.getWritable().__value=a;};_proto.getChecked=function getChecked(){var a=this.getLatest(),b,c=this.getParent();r(c)&&(b=c.getListType());return"check"===b?!!a.__checked:void 0;};_proto.setChecked=function setChecked(a){this.getWritable().__checked=a;};_proto.toggleChecked=function toggleChecked(){this.setChecked(!this.__checked);};_proto.getIndent=function getIndent(){var a=this.getParent();if(null===a)return this.getLatest().__indent;a=a.getParentOrThrow();
var b=0;for(;q(a);){a=a.getParentOrThrow().getParentOrThrow(),b++;}return b;};_proto.setIndent=function setIndent(a){"number"!==typeof a&&l(117);a=Math.floor(a);0<=a||l(199);var b=this.getIndent();for(;b!==a;){if(b<a){var c=new Set();if(!v(this)&&!c.has(this.getKey())){var d=this.getParent(),e=this.getNextSibling(),f=this.getPreviousSibling();if(v(e)&&v(f))d=f.getFirstChild(),r(d)&&(d.append(this),f=e.getFirstChild(),r(f)&&(f=f.getChildren(),E(d,f),e.remove(),c.add(e.getKey())));else if(v(e))e=e.getFirstChild(),r(e)&&(e=e.getFirstChild(),
null!==e&&e.insertBefore(this));else if(v(f))e=f.getFirstChild(),r(e)&&e.append(this);else if(r(d)){c=y();var k=B(d.getListType());c.append(k);k.append(this);f?f.insertAfter(c):e?e.insertBefore(c):d.append(c);}}b++;}else J(this),b--;}return this;};_proto.canInsertAfter=function canInsertAfter(a){return q(a);};_proto.canReplaceWith=function canReplaceWith(a){return q(a);};_proto.canMergeWith=function canMergeWith(a){return require("Lexical").$isParagraphNode(a)||q(a);};_proto.extractWithChild=function extractWithChild(a,b){if(!require("Lexical").$isRangeSelection(b))return!1;a=b.anchor.getNode();var c=b.focus.getNode();return this.isParentOf(a)&&this.isParentOf(c)&&
this.getTextContent().length===b.getTextContent().length;};_proto.isParentRequired=function isParentRequired(){return!0;};_proto.createParentElementNode=function createParentElementNode(){return B("bullet");};_proto.canMergeWhenEmpty=function canMergeWhenEmpty(){return!0;};return I;}(require("Lexical").ElementNode);
function N(a,b,c){var d=[],e=[];var f=(b=b.list)?b.listitem:void 0;if(b&&b.nested)var k=b.nested.listitem;void 0!==f&&d.push.apply(d,L(f));if(b){f=c.getParent();f=r(f)&&"check"===f.getListType();var m=c.getChecked();f&&!m||e.push(b.listitemUnchecked);f&&m||e.push(b.listitemChecked);f&&d.push(m?b.listitemChecked:b.listitemUnchecked);}void 0!==k&&(k=L(k),c.getChildren().some(function(m){return r(m);})?d.push.apply(d,k):e.push.apply(e,k));0<e.length&&require("LexicalUtils").removeClassNamesFromElement.apply(require("LexicalUtils"),[a].concat(e));0<d.length&&require("LexicalUtils").addClassNamesToElement.apply(require("LexicalUtils"),[a].concat(d));}
function M(a,b,c){r(b.getFirstChild())?(a.removeAttribute("role"),a.removeAttribute("tabIndex"),a.removeAttribute("aria-checked")):(a.setAttribute("role","checkbox"),a.setAttribute("tabIndex","-1"),c&&b.__checked===c.__checked||a.setAttribute("aria-checked",b.getChecked()?"true":"false"));}
function O(a){if(a.classList.contains("task-list-item")){for(var _iterator4=a.children,_isArray4=Array.isArray(_iterator4),_i5=0,_iterator4=_isArray4?_iterator4:_iterator4[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref6;if(_isArray4){if(_i5>=_iterator4.length)break;_ref6=_iterator4[_i5++];}else{_i5=_iterator4.next();if(_i5.done)break;_ref6=_i5.value;}var b=_ref6;if("INPUT"===b.tagName)return a=b,"checkbox"!==a.getAttribute("type")?a={node:null}:(a=a.hasAttribute("checked"),a={node:y(a)}),a;}}a=a.getAttribute("aria-checked");return{node:y("true"===a?!0:"false"===a?!1:void 0)};}function y(a){return require("Lexical").$applyNodeReplacement(new I(void 0,a));}function q(a){return a instanceof I;}var
P=function(_h$ElementNode2){babelHelpers.inheritsLoose(P,_h$ElementNode2);P.getType=function getType(){return"list";};P.clone=function clone(a){return new P(a.__listType||S[a.__tag],a.__start,a.__key);};function P(a,b,c){var _this2;_this2=_h$ElementNode2.call(this,c)||this;_this2.__listType=a=S[a]||a;_this2.__tag="number"===a?"ol":"ul";_this2.__start=b;return _this2;}var _proto2=P.prototype;_proto2.getTag=function getTag(){return this.__tag;};_proto2.setListType=function setListType(a){var b=this.getWritable();b.__listType=a;b.__tag="number"===a?"ol":"ul";};_proto2.getListType=function getListType(){return this.__listType;};_proto2.getStart=function getStart(){return this.__start;};_proto2.createDOM=function createDOM(a){var b=document.createElement(this.__tag);1!==this.__start&&b.setAttribute("start",
String(this.__start));b.__lexicalListType=this.__listType;T(b,a.theme,this);return b;};_proto2.updateDOM=function updateDOM(a,b,c){if(a.__tag!==this.__tag)return!0;T(b,c.theme,this);return!1;};P.transform=function transform(){return function(a){r(a)||l(163);var b=a.getNextSibling();r(b)&&a.getListType()===b.getListType()&&G(a,b);b="check"!==a.getListType();var c=a.getStart();for(var _iterator5=a.getChildren(),_isArray5=Array.isArray(_iterator5),_i6=0,_iterator5=_isArray5?_iterator5:_iterator5[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref7;if(_isArray5){if(_i6>=_iterator5.length)break;_ref7=_iterator5[_i6++];}else{_i6=_iterator5.next();if(_i6.done)break;_ref7=_i6.value;}var d=_ref7;q(d)&&(d.getValue()!==c&&d.setValue(c),b&&null!=d.getLatest().__checked&&d.setChecked(void 0),r(d.getFirstChild())||c++);}};};P.importDOM=function importDOM(){return{ol:function ol(){return(
{conversion:U,priority:0});},ul:function ul(){return{conversion:U,priority:0};}};};P.importJSON=function importJSON(a){var b=B(a.listType,a.start);b.setFormat(a.format);b.setIndent(a.indent);b.setDirection(a.direction);return b;};_proto2.exportDOM=function exportDOM(a){var _h$ElementNode2$proto=_h$ElementNode2.prototype.exportDOM.call(this,a);a=_h$ElementNode2$proto.element;a&&require("LexicalUtils").isHTMLElement(a)&&(1!==this.__start&&a.setAttribute("start",String(this.__start)),"check"===this.__listType&&a.setAttribute("__lexicalListType","check"));return{element:a};};_proto2.exportJSON=function exportJSON(){return babelHelpers["extends"]({},_h$ElementNode2.prototype.exportJSON.call(this),{listType:this.getListType(),start:this.getStart(),
tag:this.getTag(),type:"list",version:1});};_proto2.canBeEmpty=function canBeEmpty(){return!1;};_proto2.canIndent=function canIndent(){return!1;};_proto2.append=function append(){for(var c=0;c<arguments.length;c++){var b=c<0||arguments.length<=c?undefined:arguments[c];if(q(b))_h$ElementNode2.prototype.append.call(this,b);else{var d=y();r(b)?d.append(b):require("Lexical").$isElementNode(b)?(b=require("Lexical").$createTextNode(b.getTextContent()),d.append(b)):d.append(b);_h$ElementNode2.prototype.append.call(this,d);}}return this;};_proto2.extractWithChild=function extractWithChild(a){return q(a);};return P;}(require("Lexical").ElementNode);
function T(a,b,c){var d=[],e=[];var f=b.list;if(void 0!==f){var m=f[c.__tag+"Depth"]||[];b=p(c)-1;var Q=b%m.length;var k=m[Q];var R=f[c.__tag],C,D=f.nested;f=f.checklist;void 0!==D&&D.list&&(C=D.list);void 0!==R&&d.push(R);void 0!==f&&"check"===c.__listType&&d.push(f);if(void 0!==k)for(d.push.apply(d,L(k)),k=0;k<m.length;k++){k!==Q&&e.push(c.__tag+k);}void 0!==C&&(c=L(C),1<b?d.push.apply(d,c):e.push.apply(e,c));}0<e.length&&require("LexicalUtils").removeClassNamesFromElement.apply(require("LexicalUtils"),[a].concat(e));0<d.length&&require("LexicalUtils").addClassNamesToElement.apply(require("LexicalUtils"),[a].concat(d));}
function V(a){var b=[];for(var d=0;d<a.length;d++){var c=a[d];q(c)?(b.push(c),c=c.getChildren(),1<c.length&&c.forEach(function(e){r(e)&&b.push(x(e));})):b.push(x(c));}return b;}
function U(a){var b=a.nodeName.toLowerCase(),c=null;if("ol"===b)c=B("number",a.start);else if("ul"===b){a:if("check"===a.getAttribute("__lexicallisttype")||a.classList.contains("contains-task-list"))a=!0;else{for(var _iterator6=a.childNodes,_isArray6=Array.isArray(_iterator6),_i7=0,_iterator6=_isArray6?_iterator6:_iterator6[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref8;if(_isArray6){if(_i7>=_iterator6.length)break;_ref8=_iterator6[_i7++];}else{_i7=_iterator6.next();if(_i7.done)break;_ref8=_i7.value;}var d=_ref8;if(require("LexicalUtils").isHTMLElement(d)&&d.hasAttribute("aria-checked")){a=!0;break a;}}a=!1;}c=a?B("check"):B("bullet");}return{after:V,node:c};}var S={ol:"number",ul:"bullet"};function B(a,b){if(b===void 0){b=1;}return require("Lexical").$applyNodeReplacement(new P(a,b));}function r(a){return a instanceof P;}
var W=require("Lexical").createCommand("INSERT_UNORDERED_LIST_COMMAND"),X=require("Lexical").createCommand("INSERT_ORDERED_LIST_COMMAND"),Y=require("Lexical").createCommand("INSERT_CHECK_LIST_COMMAND"),Z=require("Lexical").createCommand("REMOVE_LIST_COMMAND");exports.$createListItemNode=y;exports.$createListNode=B;exports.$getListDepth=p;exports.$handleListInsertParagraph=K;exports.$isListItemNode=q;exports.$isListNode=r;exports.INSERT_CHECK_LIST_COMMAND=Y;exports.INSERT_ORDERED_LIST_COMMAND=X;exports.INSERT_UNORDERED_LIST_COMMAND=W;exports.ListItemNode=I;
exports.ListNode=P;exports.REMOVE_LIST_COMMAND=Z;exports.insertList=A;exports.registerList=function(a){var _require_Lexical;return require("LexicalUtils").mergeRegister(a.registerCommand(X,function(){A(a,"number");return!0;},(_require_Lexical=require("Lexical")).COMMAND_PRIORITY_LOW),a.registerCommand(W,function(){A(a,"bullet");return!0;},_require_Lexical.COMMAND_PRIORITY_LOW),a.registerCommand(Z,function(){H(a);return!0;},_require_Lexical.COMMAND_PRIORITY_LOW),a.registerCommand(_require_Lexical.INSERT_PARAGRAPH_COMMAND,function(){return K()?!0:!1;},_require_Lexical.COMMAND_PRIORITY_LOW));};exports.removeList=H;}),null);
__d("LexicalRichText",["cr:2910"],(function(a,b,c,d,e,f){e.exports=b("cr:2910")}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @generated
 * @noflow
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalRichText.prod",["Lexical","LexicalClipboard","LexicalSelection","LexicalUtils","regeneratorRuntime"],(function $module_LexicalRichText_prod(global,require,requireDynamic,requireLazy,module,exports){

'use strict';function l(b,a){return"undefined"!==typeof document.caretRangeFromPoint?(b=document.caretRangeFromPoint(b,a),null===b?null:{node:b.startContainer,offset:b.startOffset}):"undefined"!==document.caretPositionFromPoint?(b=document.caretPositionFromPoint(b,a),null===b?null:{node:b.offsetNode,offset:b.offset}):null;}
var n="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,p=n&&"documentMode"in document?document.documentMode:null,q=n&&"InputEvent"in window&&!p?"getTargetRanges"in new window.InputEvent("input"):!1,r=n&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),t=n&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,v=n&&/^(?=.*Chrome).*/i.test(navigator.userAgent),w=n&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!v,x=
require("Lexical").createCommand("DRAG_DROP_PASTE_FILE");var
y=function(_k$ElementNode){babelHelpers.inheritsLoose(y,_k$ElementNode);y.getType=function getType(){return"quote";};y.clone=function clone(b){return new y(b.__key);};function y(b){return _k$ElementNode.call(this,b)||this;}var _proto=y.prototype;_proto.createDOM=function createDOM(b){var a=document.createElement("blockquote");require("LexicalUtils").addClassNamesToElement(a,b.theme.quote);return a;};_proto.updateDOM=function updateDOM(){return!1;};y.importDOM=function importDOM(){return{blockquote:function blockquote(){return{conversion:z,priority:0};}};};_proto.exportDOM=function exportDOM(b){var _k$ElementNode$protot=_k$ElementNode.prototype.exportDOM.call(this,b);b=_k$ElementNode$protot.element;if(b&&require("LexicalUtils").isHTMLElement(b)){this.isEmpty()&&b.append(document.createElement("br"));var a=this.getFormatType();b.style.textAlign=a;if(a=this.getDirection())b.dir=
a;}return{element:b};};y.importJSON=function importJSON(b){var a=A();a.setFormat(b.format);a.setIndent(b.indent);a.setDirection(b.direction);return a;};_proto.exportJSON=function exportJSON(){return babelHelpers["extends"]({},_k$ElementNode.prototype.exportJSON.call(this),{type:"quote"});};_proto.insertNewAfter=function insertNewAfter(b,a){b=require("Lexical").$createParagraphNode();var d=this.getDirection();b.setDirection(d);this.insertAfter(b,a);return b;};_proto.collapseAtStart=function collapseAtStart(){var b=require("Lexical").$createParagraphNode();this.getChildren().forEach(function(a){return b.append(a);});this.replace(b);return!0;};_proto.canMergeWhenEmpty=function canMergeWhenEmpty(){return!0;};return y;}(require("Lexical").ElementNode);
function A(){return require("Lexical").$applyNodeReplacement(new y());}var
C=function(_k$ElementNode2){babelHelpers.inheritsLoose(C,_k$ElementNode2);C.getType=function getType(){return"heading";};C.clone=function clone(b){return new C(b.__tag,b.__key);};function C(b,a){var _this;_this=_k$ElementNode2.call(this,a)||this;_this.__tag=b;return _this;}var _proto2=C.prototype;_proto2.getTag=function getTag(){return this.__tag;};_proto2.createDOM=function createDOM(b){var a=this.__tag,d=document.createElement(a);b=b.theme.heading;void 0!==b&&require("LexicalUtils").addClassNamesToElement(d,b[a]);return d;};_proto2.updateDOM=function updateDOM(){return!1;};C.importDOM=function importDOM(){return{h1:function h1(){return{conversion:D,priority:0};},h2:function h2(){return{conversion:D,priority:0};},h3:function h3(){return{conversion:D,priority:0};},h4:function h4(){return{conversion:D,priority:0};},h5:function h5(){return{conversion:D,
priority:0};},h6:function h6(){return{conversion:D,priority:0};},p:function p(b){b=b.firstChild;return null!==b&&E(b)?{conversion:function conversion(){return{node:null};},priority:3}:null;},span:function span(b){return E(b)?{conversion:function conversion(){return{node:F("h1")};},priority:3}:null;}};};_proto2.exportDOM=function exportDOM(b){var _k$ElementNode2$proto=_k$ElementNode2.prototype.exportDOM.call(this,b);b=_k$ElementNode2$proto.element;if(b&&require("LexicalUtils").isHTMLElement(b)){this.isEmpty()&&b.append(document.createElement("br"));var a=this.getFormatType();b.style.textAlign=a;if(a=this.getDirection())b.dir=a;}return{element:b};};C.importJSON=function importJSON(b){var a=F(b.tag);a.setFormat(b.format);a.setIndent(b.indent);
a.setDirection(b.direction);return a;};_proto2.exportJSON=function exportJSON(){return babelHelpers["extends"]({},_k$ElementNode2.prototype.exportJSON.call(this),{tag:this.getTag(),type:"heading",version:1});};_proto2.insertNewAfter=function insertNewAfter(b,a){if(a===void 0){a=!0;}var d=b?b.anchor.offset:0;var e=this.getLastDescendant();e=!e||b&&b.anchor.key===e.getKey()&&d===e.getTextContentSize()||!b?require("Lexical").$createParagraphNode():F(this.getTag());var f=this.getDirection();e.setDirection(f);this.insertAfter(e,a);0===d&&!this.isEmpty()&&b&&(b=require("Lexical").$createParagraphNode(),b.select(),this.replace(b,!0));return e;};_proto2.collapseAtStart=function collapseAtStart(){var b=this.isEmpty()?
require("Lexical").$createParagraphNode():F(this.getTag());this.getChildren().forEach(function(a){return b.append(a);});this.replace(b);return!0;};_proto2.extractWithChild=function extractWithChild(){return!0;};return C;}(require("Lexical").ElementNode);function E(b){return"span"===b.nodeName.toLowerCase()?"26pt"===b.style.fontSize:!1;}function D(b){var a=b.nodeName.toLowerCase(),d=null;if("h1"===a||"h2"===a||"h3"===a||"h4"===a||"h5"===a||"h6"===a)d=F(a),null!==b.style&&d.setFormat(b.style.textAlign);return{node:d};}function z(b){var a=A();null!==b.style&&a.setFormat(b.style.textAlign);return{node:a};}
function F(b){return require("Lexical").$applyNodeReplacement(new C(b));}function G(b,a){b.preventDefault();a.update(function(){var d=require("Lexical").$getSelection(),e=require("LexicalUtils").objectKlassEquals(b,InputEvent)||require("LexicalUtils").objectKlassEquals(b,KeyboardEvent)?null:b.clipboardData;null!=e&&null!==d&&require("LexicalClipboard").$insertDataTransferForRichText(e,d,a);},{tag:"paste"});}
function H(b,a){return require("regeneratorRuntime").async(function H$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return require("regeneratorRuntime").awrap(require("LexicalClipboard").copyToClipboard(a,require("LexicalUtils").objectKlassEquals(b,ClipboardEvent)?b:null));case 2:a.update(function(){var d=require("Lexical").$getSelection();require("Lexical").$isRangeSelection(d)?d.removeText():require("Lexical").$isNodeSelection(d)&&d.getNodes().forEach(function(e){return e.remove();});});case 3:case"end":return _context.stop();}}},null,this);}
function I(b){var a=null;require("LexicalUtils").objectKlassEquals(b,DragEvent)?a=b.dataTransfer:require("LexicalUtils").objectKlassEquals(b,ClipboardEvent)&&(a=b.clipboardData);if(null===a)return[!1,[],!1];var d=a.types;b=d.includes("Files");d=d.includes("text/html")||d.includes("text/plain");return[b,Array.from(a.files),d];}
function J(b){var a=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(a))return!1;var d=new Set();a=a.getNodes();for(var m=0;m<a.length;m++){var e=a[m],f=e.getKey();d.has(f)||(e=require("LexicalUtils").$findMatchingParent(e,function(u){return require("Lexical").$isElementNode(u)&&!u.isInline();}),null!==e&&(f=e.getKey(),e.canIndent()&&!d.has(f)&&(d.add(f),b(e))));}return 0<d.size;}function K(b){b=require("Lexical").$getNearestNodeFromDOMNode(b);return require("Lexical").$isDecoratorNode(b);}exports.$createHeadingNode=F;exports.$createQuoteNode=A;
exports.$isHeadingNode=function(b){return b instanceof C;};exports.$isQuoteNode=function(b){return b instanceof y;};exports.DRAG_DROP_PASTE=x;exports.HeadingNode=C;exports.QuoteNode=y;exports.eventFiles=I;
exports.registerRichText=function(b){var _require_Lexical;return require("LexicalUtils").mergeRegister(b.registerCommand((_require_Lexical=require("Lexical")).CLICK_COMMAND,function(){var a=require("Lexical").$getSelection();return require("Lexical").$isNodeSelection(a)?(a.clear(),!0):!1;},0),b.registerCommand(_require_Lexical.DELETE_CHARACTER_COMMAND,function(a){var d=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(d))return!1;d.deleteCharacter(a);return!0;},_require_Lexical.COMMAND_PRIORITY_EDITOR),b.registerCommand(_require_Lexical.DELETE_WORD_COMMAND,function(a){var d=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(d))return!1;d.deleteWord(a);return!0;},_require_Lexical.COMMAND_PRIORITY_EDITOR),
b.registerCommand(_require_Lexical.DELETE_LINE_COMMAND,function(a){var d=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(d))return!1;d.deleteLine(a);return!0;},_require_Lexical.COMMAND_PRIORITY_EDITOR),b.registerCommand(_require_Lexical.CONTROLLED_TEXT_INSERTION_COMMAND,function(a){var d=require("Lexical").$getSelection();if("string"===typeof a)null!==d&&d.insertText(a);else{if(null===d)return!1;var e=a.dataTransfer;null!=e?require("LexicalClipboard").$insertDataTransferForRichText(e,d,b):require("Lexical").$isRangeSelection(d)&&(a=a.data)&&d.insertText(a);}return!0;},_require_Lexical.COMMAND_PRIORITY_EDITOR),b.registerCommand(_require_Lexical.REMOVE_TEXT_COMMAND,
function(){var a=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(a))return!1;a.removeText();return!0;},_require_Lexical.COMMAND_PRIORITY_EDITOR),b.registerCommand(_require_Lexical.FORMAT_TEXT_COMMAND,function(a){var d=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(d))return!1;d.formatText(a);return!0;},_require_Lexical.COMMAND_PRIORITY_EDITOR),b.registerCommand(_require_Lexical.FORMAT_ELEMENT_COMMAND,function(a){var d=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(d)&&!require("Lexical").$isNodeSelection(d))return!1;d=d.getNodes();for(var _iterator=d,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref;if(_isArray){if(_i>=_iterator.length)break;_ref=_iterator[_i++];}else{_i=_iterator.next();if(_i.done)break;_ref=_i.value;}var e=_ref;d=require("LexicalUtils").$findMatchingParent(e,function(f){return require("Lexical").$isElementNode(f)&&!f.isInline();}),
null!==d&&d.setFormat(a);}return!0;},_require_Lexical.COMMAND_PRIORITY_EDITOR),b.registerCommand(_require_Lexical.INSERT_LINE_BREAK_COMMAND,function(a){var d=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(d))return!1;d.insertLineBreak(a);return!0;},_require_Lexical.COMMAND_PRIORITY_EDITOR),b.registerCommand(_require_Lexical.INSERT_PARAGRAPH_COMMAND,function(){var a=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(a))return!1;a.insertParagraph();return!0;},_require_Lexical.COMMAND_PRIORITY_EDITOR),b.registerCommand(_require_Lexical.INSERT_TAB_COMMAND,function(){require("Lexical").$insertNodes([require("Lexical").$createTabNode()]);return!0;},_require_Lexical.COMMAND_PRIORITY_EDITOR),
b.registerCommand(_require_Lexical.INDENT_CONTENT_COMMAND,function(){return J(function(a){var d=a.getIndent();a.setIndent(d+1);});},_require_Lexical.COMMAND_PRIORITY_EDITOR),b.registerCommand(_require_Lexical.OUTDENT_CONTENT_COMMAND,function(){return J(function(a){var d=a.getIndent();0<d&&a.setIndent(d-1);});},_require_Lexical.COMMAND_PRIORITY_EDITOR),b.registerCommand(_require_Lexical.KEY_ARROW_UP_COMMAND,function(a){var d=require("Lexical").$getSelection();if(require("Lexical").$isNodeSelection(d)&&!K(a.target)){if(a=d.getNodes(),0<a.length)return a[0].selectPrevious(),!0;}else if(require("Lexical").$isRangeSelection(d)&&(d=require("Lexical").$getAdjacentNode(d.focus,!0),!a.shiftKey&&require("Lexical").$isDecoratorNode(d)&&
!d.isIsolated()&&!d.isInline()))return d.selectPrevious(),a.preventDefault(),!0;return!1;},_require_Lexical.COMMAND_PRIORITY_EDITOR),b.registerCommand(_require_Lexical.KEY_ARROW_DOWN_COMMAND,function(a){var d=require("Lexical").$getSelection();if(require("Lexical").$isNodeSelection(d)){if(a=d.getNodes(),0<a.length)return a[0].selectNext(0,0),!0;}else if(require("Lexical").$isRangeSelection(d)){var e=d.focus;if("root"===e.key&&e.offset===require("Lexical").$getRoot().getChildrenSize())return a.preventDefault(),!0;d=require("Lexical").$getAdjacentNode(d.focus,!1);if(!a.shiftKey&&require("Lexical").$isDecoratorNode(d)&&!d.isIsolated()&&!d.isInline())return d.selectNext(),
a.preventDefault(),!0;}return!1;},_require_Lexical.COMMAND_PRIORITY_EDITOR),b.registerCommand(_require_Lexical.KEY_ARROW_LEFT_COMMAND,function(a){var d=require("Lexical").$getSelection();if(require("Lexical").$isNodeSelection(d)){var e=d.getNodes();if(0<e.length)return a.preventDefault(),e[0].selectPrevious(),!0;}return require("Lexical").$isRangeSelection(d)?require("LexicalSelection").$shouldOverrideDefaultCharacterSelection(d,!0)?(e=a.shiftKey,a.preventDefault(),require("LexicalSelection").$moveCharacter(d,e,!0),!0):!1:!1;},_require_Lexical.COMMAND_PRIORITY_EDITOR),b.registerCommand(_require_Lexical.KEY_ARROW_RIGHT_COMMAND,function(a){var d=require("Lexical").$getSelection();if(require("Lexical").$isNodeSelection(d)&&
!K(a.target)){var e=d.getNodes();if(0<e.length)return a.preventDefault(),e[0].selectNext(0,0),!0;}if(!require("Lexical").$isRangeSelection(d))return!1;e=a.shiftKey;return require("LexicalSelection").$shouldOverrideDefaultCharacterSelection(d,!1)?(a.preventDefault(),require("LexicalSelection").$moveCharacter(d,e,!1),!0):!1;},_require_Lexical.COMMAND_PRIORITY_EDITOR),b.registerCommand(_require_Lexical.KEY_BACKSPACE_COMMAND,function(a){if(K(a.target))return!1;var d=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(d))return!1;a.preventDefault();a=d.anchor;var e=a.getNode();return d.isCollapsed()&&0===a.offset&&
!require("Lexical").$isRootNode(e)&&0<require("LexicalUtils").$getNearestBlockElementAncestorOrThrow(e).getIndent()?b.dispatchCommand(require("Lexical").OUTDENT_CONTENT_COMMAND,void 0):b.dispatchCommand(require("Lexical").DELETE_CHARACTER_COMMAND,!0);},_require_Lexical.COMMAND_PRIORITY_EDITOR),b.registerCommand(_require_Lexical.KEY_DELETE_COMMAND,function(a){if(K(a.target))return!1;var d=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(d))return!1;a.preventDefault();return b.dispatchCommand(require("Lexical").DELETE_CHARACTER_COMMAND,!1);},_require_Lexical.COMMAND_PRIORITY_EDITOR),b.registerCommand(_require_Lexical.KEY_ENTER_COMMAND,function(a){var d=require("Lexical").$getSelection();
if(!require("Lexical").$isRangeSelection(d))return!1;if(null!==a){if((t||r||w)&&q)return!1;a.preventDefault();if(a.shiftKey)return b.dispatchCommand(require("Lexical").INSERT_LINE_BREAK_COMMAND,!1);}return b.dispatchCommand(require("Lexical").INSERT_PARAGRAPH_COMMAND,void 0);},_require_Lexical.COMMAND_PRIORITY_EDITOR),b.registerCommand(_require_Lexical.KEY_ESCAPE_COMMAND,function(){var a=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(a))return!1;b.blur();return!0;},_require_Lexical.COMMAND_PRIORITY_EDITOR),b.registerCommand(_require_Lexical.DROP_COMMAND,function(a){var _I=I(a),d=_I[1];if(0<d.length){var e=l(a.clientX,a.clientY);
if(null!==e){var _e=e,m=_e.offset,u=_e.node;var f=require("Lexical").$getNearestNodeFromDOMNode(u);if(null!==f){e=require("Lexical").$createRangeSelection();if(require("Lexical").$isTextNode(f))e.anchor.set(f.getKey(),m,"text"),e.focus.set(f.getKey(),m,"text");else{var B=f.getParentOrThrow().getKey();f=f.getIndexWithinParent()+1;e.anchor.set(B,f,"element");e.focus.set(B,f,"element");}e=require("Lexical").$normalizeSelection__EXPERIMENTAL(e);require("Lexical").$setSelection(e);}b.dispatchCommand(x,d);}a.preventDefault();return!0;}a=require("Lexical").$getSelection();return require("Lexical").$isRangeSelection(a)?!0:!1;},_require_Lexical.COMMAND_PRIORITY_EDITOR),
b.registerCommand(_require_Lexical.DRAGSTART_COMMAND,function(a){var _I2=I(a);a=_I2[0];var d=require("Lexical").$getSelection();return a&&!require("Lexical").$isRangeSelection(d)?!1:!0;},_require_Lexical.COMMAND_PRIORITY_EDITOR),b.registerCommand(_require_Lexical.DRAGOVER_COMMAND,function(a){var _I3=I(a),d=_I3[0];var e=require("Lexical").$getSelection();if(d&&!require("Lexical").$isRangeSelection(e))return!1;d=l(a.clientX,a.clientY);null!==d&&(d=require("Lexical").$getNearestNodeFromDOMNode(d.node),require("Lexical").$isDecoratorNode(d)&&a.preventDefault());return!0;},_require_Lexical.COMMAND_PRIORITY_EDITOR),b.registerCommand(_require_Lexical.SELECT_ALL_COMMAND,function(){require("Lexical").$selectAll();return!0;},_require_Lexical.COMMAND_PRIORITY_EDITOR),
b.registerCommand(_require_Lexical.COPY_COMMAND,function(a){require("LexicalClipboard").copyToClipboard(b,require("LexicalUtils").objectKlassEquals(a,ClipboardEvent)?a:null);return!0;},_require_Lexical.COMMAND_PRIORITY_EDITOR),b.registerCommand(_require_Lexical.CUT_COMMAND,function(a){H(a,b);return!0;},_require_Lexical.COMMAND_PRIORITY_EDITOR),b.registerCommand(_require_Lexical.PASTE_COMMAND,function(a){var _I4=I(a),d=_I4[1],e=_I4[2];return 0<d.length&&!e?(b.dispatchCommand(x,d),!0):require("Lexical").isSelectionCapturedInDecoratorInput(a.target)?!1:null!==require("Lexical").$getSelection()?(G(a,b),!0):!1;},_require_Lexical.COMMAND_PRIORITY_EDITOR));};}),null);
__d("OhaiCommonUtils",[],(function(a,b,c,d,e,f){"use strict";e="message/bhttp request";var g="message/bhttp response";function a(a){var b=window.crypto||window.msCrypto;a=new Uint8Array(a);b.getRandomValues(a);return a}function b(a,b){var c=new Uint8Array(b);a=a;for(b=b-1;b>=0;b--)c[b]=a&255,a>>=8;return c}function c(a,b){var c=0;for(var d=0;d<b;d++)c<<=8,c|=a[d];return c}function d(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];var d=b.reduce(function(a,b){return a+b.length},0),e=new Uint8Array(d),f=0;for(var g=0;g<b.length;g++){var h=b[g];e.set(h,f);f+=h.length}return e}var h=new TextEncoder().encode("");f.REQUEST_LABEL=e;f.RESPONSE_LABEL=g;f.randomBytes=a;f.encodeNumber=b;f.decodeNumber=c;f.concat=d;f.EMPTY_AAD=h}),66);
__d("getHpkeFromConfigIds",["AeadAes128Gcm","AeadChaPoly","Hpke","KdfHkdfSha256","KemX25519HkdfSha256"],(function(a,b,c,d,e,f,g){"use strict";function h(a){switch(a){case d("Hpke").KemID.KemX25519HkdfSha256Id:return new(d("KemX25519HkdfSha256").KemX25519HkdfSha256)()}}function i(a){switch(a){case d("Hpke").KdfID.KdfHkdfSha256Id:return new(d("KdfHkdfSha256").KdfHkdfSha256)()}}function j(a){switch(a){case d("Hpke").AeadID.AeadAes128GcmId:return new(d("AeadAes128Gcm").AeadAes128Gcm)();case d("Hpke").AeadID.AeadChaCha20Poly1305Id:return new(d("AeadChaPoly").AeadChaPoly)()}}function a(a){var b=a.kemId,c=a.kdfId;a=a.aeadId;return new(d("Hpke").Hpke)(h(b),i(c),j(a))}g["default"]=a}),98);
__d("OhaiClient",["HttpRequestBinaryEncode","HttpResponseBinaryDecode","OhaiCommonUtils","getHpkeFromConfigIds","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,e,f){var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;return b("regeneratorRuntime").async(function(v){while(1)switch(v.prev=v.next){case 0:f===void 0&&(f=!1);g=a.keyId,h=a.kemId,i=a.kdfId,j=a.aeadId,k=a.publicKey;l=c("getHpkeFromConfigIds")({kemId:h,kdfId:i,aeadId:j});m=new TextEncoder();v.next=6;return b("regeneratorRuntime").awrap(d("HttpRequestBinaryEncode").binaryEncodeRequest(e,f));case 6:n=v.sent;o=d("OhaiCommonUtils").concat(d("OhaiCommonUtils").encodeNumber(g,1),d("OhaiCommonUtils").encodeNumber(h,2),d("OhaiCommonUtils").encodeNumber(i,2),d("OhaiCommonUtils").encodeNumber(j,2));p=m.encode(d("OhaiCommonUtils").REQUEST_LABEL);v.next=11;return b("regeneratorRuntime").awrap(l.setupBaseS(k,p));case 11:q=v.sent;r=q.enc;s=q.ctx;v.next=16;return b("regeneratorRuntime").awrap(s.seal(o,n));case 16:t=v.sent;u=d("OhaiCommonUtils").concat(o,r,t);return v.abrupt("return",{ctx:s,enc:r,encapsulatedRequest:u});case 19:case"end":return v.stop()}},null,this)}function e(a,c,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;return b("regeneratorRuntime").async(function(u){while(1)switch(u.prev=u.next){case 0:f=a.aead,g=a.kdf;h=f.nN;i=f.nK;j=Math.max(h,i);k=e.slice(0,j);l=e.slice(j);m=new TextEncoder();u.next=9;return b("regeneratorRuntime").awrap(a["export"](m.encode(d("OhaiCommonUtils").RESPONSE_LABEL),i));case 9:n=u.sent;o=d("OhaiCommonUtils").concat(c,k);u.next=13;return b("regeneratorRuntime").awrap(g.extract(o,n));case 13:p=u.sent;u.next=16;return b("regeneratorRuntime").awrap(g.expand(p,m.encode("key"),i));case 16:q=u.sent;u.next=19;return b("regeneratorRuntime").awrap(g.expand(p,m.encode("nonce"),h));case 19:r=u.sent;u.next=22;return b("regeneratorRuntime").awrap(f.open(q,r,d("OhaiCommonUtils").EMPTY_AAD,l));case 22:s=u.sent;u.next=25;return b("regeneratorRuntime").awrap(d("HttpResponseBinaryDecode").binaryDecodeResponse(s));case 25:t=u.sent;return u.abrupt("return",t);case 27:case"end":return u.stop()}},null,this)}g.encapsulateRequest=a;g.decapsulateResponse=e}),98);
__d("ReactDOM_DEPRECATED",["ReactDOMCompatibilityLayer","cr:1293","err","setupReactRefresh"],(function(a,b,c,d,e,f,g){b("setupReactRefresh");function a(){throw c("err")("This React API is not available on Workplace.")}f=(e=b("cr:1293").findDOMNode)!=null?e:a;g.findDOMNode_DEPRECATED=f;g.render_DEPRECATED=d("ReactDOMCompatibilityLayer").render_DEPRECATED;g.unmountComponentAtNode_DEPRECATED=d("ReactDOMCompatibilityLayer").unmountComponentAtNode_DEPRECATED}),98);
__d("ReconnectingWebSocket",["invariant","EventEmitter"],(function(a,b,c,d,e,f,g,h){var i=1e3,j={debug:!1,automaticOpen:!0,reconnectInterval:1e3,maxReconnectInterval:3e4,reconnectDecay:1.5,timeoutInterval:2e3,maxReconnectAttempts:null,binaryType:"blob"};a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){var e,f;c===void 0&&(c=[]);d===void 0&&(d=j);f=a.call(this)||this;f.reconnectAttempts=0;f.readyState=WebSocket.CONNECTING;f.protocol=null;f.$ReconnectingWebSocket$p_2=!1;f.$ReconnectingWebSocket$p_3=!1;f.$ReconnectingWebSocket$p_4=[];f.send=function(a){f.$ReconnectingWebSocket$p_1||h(0,21010);var b=f.$ReconnectingWebSocket$p_1;f.$ReconnectingWebSocket$p_5();return b.send(a)};f.close=function(a,b){a===void 0&&(a=i),f.$ReconnectingWebSocket$p_2=!0,f.$ReconnectingWebSocket$p_1&&f.$ReconnectingWebSocket$p_1.close(a,b)};f.refresh=function(){f.$ReconnectingWebSocket$p_1&&f.$ReconnectingWebSocket$p_1.close()};f.onopen=function(){};f.onclose=function(){};f.onconnecting=function(){};f.onmessage=function(){};f.onerror=function(){};f.debug=(e=d.debug)!=null?e:j.debug;f.automaticOpen=(e=d.automaticOpen)!=null?e:j.automaticOpen;f.reconnectInterval=(e=d.reconnectInterval)!=null?e:j.reconnectInterval;f.maxReconnectInterval=(e=d.maxReconnectInterval)!=null?e:j.maxReconnectInterval;f.reconnectDecay=(e=d.reconnectDecay)!=null?e:j.reconnectDecay;f.timeoutInterval=(e=d.timeoutInterval)!=null?e:j.timeoutInterval;f.maxReconnectAttempts=(e=d.maxReconnectAttempts)!=null?e:j.maxReconnectAttempts;f.binaryType=(e=d.binaryType)!=null?e:j.binaryType;f.$ReconnectingWebSocket$p_4=c;f.url=b;f.addListener("open",function(){var a;return(a=f).onopen.apply(a,arguments)});f.addListener("close",function(){var a;return(a=f).onclose.apply(a,arguments)});f.addListener("connecting",function(){var a;return(a=f).onconnecting.apply(a,arguments)});f.addListener("message",function(){var a;return(a=f).onmessage.apply(a,arguments)});f.addListener("error",function(){var a;return(a=f).onerror.apply(a,arguments)});f.automaticOpen===!0&&f.open(!1);return f}var c=b.prototype;c.generateEvent=function(a,b){b===void 0&&(b={});var c=document.createEvent("CustomEvent");c.initCustomEvent(a,!1,!1,b);return[c]};c.$ReconnectingWebSocket$p_5=function(){return this.debug||b.debugAll};c.open=function(a){var b=this,c=a;this.$ReconnectingWebSocket$p_1=new WebSocket(this.url,this.$ReconnectingWebSocket$p_4);this.$ReconnectingWebSocket$p_1.binaryType=this.binaryType;if(c){if(this.maxReconnectAttempts&&this.reconnectAttempts>this.maxReconnectAttempts)return}else this.emit.apply(this,["connecting"].concat(this.generateEvent("connecting"))),this.reconnectAttempts=0;this.$ReconnectingWebSocket$p_5();var d=this.$ReconnectingWebSocket$p_1,e=window.setTimeout(function(){b.$ReconnectingWebSocket$p_5(),b.$ReconnectingWebSocket$p_3=!0,d.close(),b.$ReconnectingWebSocket$p_3=!1},this.timeoutInterval);this.$ReconnectingWebSocket$p_1.onopen=function(){var a;window.clearTimeout(e);if(!b.$ReconnectingWebSocket$p_1)return;b.$ReconnectingWebSocket$p_5();b.protocol=(a=b.$ReconnectingWebSocket$p_1)==null?void 0:a.protocol;b.readyState=WebSocket.OPEN;b.reconnectAttempts=0;a=b.generateEvent("open",{isReconnect:c});c=!1;b.emit.apply(b,["open"].concat(a))};this.$ReconnectingWebSocket$p_1.onclose=function(a){window.clearTimeout(e);b.$ReconnectingWebSocket$p_1=null;if(b.$ReconnectingWebSocket$p_2)b.readyState=WebSocket.CLOSED,b.emit.apply(b,["close"].concat(b.generateEvent("close",{code:a.code})));else{b.readyState=WebSocket.CONNECTING;b.emit.apply(b,["connecting"].concat(b.generateEvent("connecting")));!c&&!b.$ReconnectingWebSocket$p_3&&(b.$ReconnectingWebSocket$p_5(),b.emit.apply(b,["close"].concat(b.generateEvent("close",{code:a.code}))));a=b.reconnectInterval*Math.pow(b.reconnectDecay,b.reconnectAttempts);window.setTimeout(function(){b.reconnectAttempts+=1,b.open(!0)},a>b.maxReconnectInterval?b.maxReconnectInterval:a)}};this.$ReconnectingWebSocket$p_1.onmessage=function(a){b.$ReconnectingWebSocket$p_5();var c=b.generateEvent("message");c[0].data=a.data;b.emit.apply(b,["message"].concat(c))};this.$ReconnectingWebSocket$p_1.onerror=function(a){b.$ReconnectingWebSocket$p_5(),b.emit.apply(b,["error"].concat(b.generateEvent("error")))}};return b}(c("EventEmitter"));a.debugAll=!1;a.CONNECTING=WebSocket.CONNECTING;a.OPEN=WebSocket.OPEN;a.CLOSING=WebSocket.CLOSING;a.CLOSED=WebSocket.CLOSED;g["default"]=a}),98);
__d("WASmaxInBizCtwaNativeAdEnums",["WAJids"],(function(a,b,c,d,e,f,g){a={CITY:"CITY",COUNTRY:"COUNTRY",CUSTOM_LOCATION:"CUSTOM_LOCATION",NEIGHBORHOOD:"NEIGHBORHOOD",REGION:"REGION",ZIP:"ZIP"};b={FACEBOOK:"FACEBOOK",INSTAGRAM:"INSTAGRAM"};c={"false":"false","true":"true"};e={image:"image",video:"video"};f={kilometer:"kilometer",mile:"mile"};d={validators:[d("WAJids").validateDomainJid,d("WAJids").validateUserJid],typeName:"DomainJid|UserJid"};g.ENUM_CITY_COUNTRY_CUSTOMLOCATION_NEIGHBORHOOD_REGION_ZIP=a;g.ENUM_FACEBOOK_INSTAGRAM=b;g.ENUM_FALSE_TRUE=c;g.ENUM_IMAGE_VIDEO=e;g.ENUM_KILOMETER_MILE=f;g.DOMAINJID_USERJID=d}),98);
__d("WASmaxInBizCtwaNativeAdDeprecatedIQErrorResponseOptionalFromMixin",["WAResultOrError","WASmaxInBizCtwaNativeAdEnums","WASmaxParseJid","WASmaxParseReference","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["id"]);if(!c.success)return c;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"id",c.value);if(!b.success)return b;c=d("WASmaxParseUtils").optional(d("WASmaxParseJid").attrJidEnum,a,"from",d("WASmaxInBizCtwaNativeAdEnums").DOMAINJID_USERJID);if(!c.success)return c;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","error");return!b.success?b:d("WAResultOrError").makeResult({from:c.value,type:b.value})}g.parseDeprecatedIQErrorResponseOptionalFromMixin=a}),98);
__d("WASmaxInBizCtwaNativeAdIQErrorBadRequestMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","bad-request");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",400);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorBadRequestMixin=a}),98);
__d("WASmaxInBizCtwaNativeAdIQErrorForbiddenMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","forbidden");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",403);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorForbiddenMixin=a}),98);
__d("WASmaxInBizCtwaNativeAdIQErrorInternalServerErrorMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","internal-server-error");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",500);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorInternalServerErrorMixin=a}),98);
__d("WASmaxInBizCtwaNativeAdIQErrorServiceUnavailableMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","service-unavailable");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",503);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorServiceUnavailableMixin=a}),98);
__d("WASmaxInBizCtwaNativeAdIQErrorBadRequestOrForbiddenOrInternalServerErrorOrServiceUnavailableMixinGroup",["WAResultOrError","WASmaxInBizCtwaNativeAdIQErrorBadRequestMixin","WASmaxInBizCtwaNativeAdIQErrorForbiddenMixin","WASmaxInBizCtwaNativeAdIQErrorInternalServerErrorMixin","WASmaxInBizCtwaNativeAdIQErrorServiceUnavailableMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInBizCtwaNativeAdIQErrorBadRequestMixin").parseIQErrorBadRequestMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"IQErrorBadRequest",value:b.value});var c=d("WASmaxInBizCtwaNativeAdIQErrorForbiddenMixin").parseIQErrorForbiddenMixin(a);if(c.success)return d("WAResultOrError").makeResult({name:"IQErrorForbidden",value:c.value});var e=d("WASmaxInBizCtwaNativeAdIQErrorInternalServerErrorMixin").parseIQErrorInternalServerErrorMixin(a);if(e.success)return d("WAResultOrError").makeResult({name:"IQErrorInternalServerError",value:e.value});var f=d("WASmaxInBizCtwaNativeAdIQErrorServiceUnavailableMixin").parseIQErrorServiceUnavailableMixin(a);return f.success?d("WAResultOrError").makeResult({name:"IQErrorServiceUnavailable",value:f.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["IQErrorBadRequest","IQErrorForbidden","IQErrorInternalServerError","IQErrorServiceUnavailable"],[b,c,e,f])}g.parseIQErrorBadRequestOrForbiddenOrInternalServerErrorOrServiceUnavailableMixinGroup=a}),98);
__d("WASmaxInBizCtwaNativeAdUploadAdMediaResponseError",["WAResultOrError","WASmaxInBizCtwaNativeAdDeprecatedIQErrorResponseOptionalFromMixin","WASmaxInBizCtwaNativeAdIQErrorBadRequestOrForbiddenOrInternalServerErrorOrServiceUnavailableMixinGroup","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;a=d("WASmaxInBizCtwaNativeAdDeprecatedIQErrorResponseOptionalFromMixin").parseDeprecatedIQErrorResponseOptionalFromMixin(a,b);if(!a.success)return a;b=d("WASmaxInBizCtwaNativeAdIQErrorBadRequestOrForbiddenOrInternalServerErrorOrServiceUnavailableMixinGroup").parseIQErrorBadRequestOrForbiddenOrInternalServerErrorOrServiceUnavailableMixinGroup(c.value);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{errorIQErrorBadRequestOrForbiddenOrInternalServerErrorOrServiceUnavailableMixinGroup:b.value}))}g.parseUploadAdMediaResponseError=a}),98);
__d("WASmaxInBizCtwaNativeAdIQResultResponseMixin",["WAResultOrError","WASmaxParseReference","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["id"]);if(!c.success)return c;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"id",c.value);if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["to"]);if(!c.success)return c;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"from",c.value);if(!b.success)return b;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","result");return!c.success?c:d("WAResultOrError").makeResult({type:c.value})}g.parseIQResultResponseMixin=a}),98);
__d("WASmaxInBizCtwaNativeAdHackBaseIQResultResponseMixin",["WAResultOrError","WASmaxInBizCtwaNativeAdIQResultResponseMixin","WASmaxParseJid","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").optional(d("WASmaxParseJid").attrUserJid,a,"to");if(!c.success)return c;a=d("WASmaxInBizCtwaNativeAdIQResultResponseMixin").parseIQResultResponseMixin(a,b);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({to:c.value},a.value))}g.parseHackBaseIQResultResponseMixin=a}),98);
__d("WASmaxInBizCtwaNativeAdUploadAdMediaResponseSuccess",["WAResultOrError","WASmaxInBizCtwaNativeAdEnums","WASmaxInBizCtwaNativeAdHackBaseIQResultResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"media_list");if(!b.success)return b;b=d("WASmaxParseUtils").attrString(a,"id");if(!b.success)return b;a=d("WASmaxParseUtils").attrStringEnum(a,"type",d("WASmaxInBizCtwaNativeAdEnums").ENUM_IMAGE_VIDEO);return!a.success?a:d("WAResultOrError").makeResult({id:b.value,type:a.value})}function i(a){var b=d("WASmaxParseUtils").assertTag(a,"media");if(!b.success)return b;b=d("WASmaxParseUtils").attrString(a,"id");if(!b.success)return b;a=d("WASmaxParseUtils").attrStringEnum(a,"type",d("WASmaxInBizCtwaNativeAdEnums").ENUM_IMAGE_VIDEO);return!a.success?a:d("WAResultOrError").makeResult({id:b.value,type:a.value})}function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").optionalChildWithTag(a,"media",i);if(!c.success)return c;b=d("WASmaxInBizCtwaNativeAdHackBaseIQResultResponseMixin").parseHackBaseIQResultResponseMixin(a,b);if(!b.success)return b;a=d("WASmaxParseUtils").mapChildrenWithTag(a,"media_list",0,10,h);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({},b.value,{media:c.value,mediaList:a.value}))}g.parseUploadAdMediaResponseSuccessMediaList=h;g.parseUploadAdMediaResponseSuccessMedia=i;g.parseUploadAdMediaResponseSuccess=a}),98);
__d("WASmaxOutBizCtwaNativeAdBaseIQSetRequestMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("iq",{id:d("WAWap").generateId(),type:"set"});return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeBaseIQSetRequestMixin=a}),98);
__d("WASmaxOutBizCtwaNativeAdHackBaseIQSetRequestMixin",["WASmaxAttrs","WASmaxJsx","WASmaxMixins","WASmaxOutBizCtwaNativeAdBaseIQSetRequestMixin","WAWap"],(function(a,b,c,d,e,f,g){function h(a){a=a.iqFrom;a=d("WASmaxOutBizCtwaNativeAdBaseIQSetRequestMixin").mergeBaseIQSetRequestMixin(d("WASmaxJsx").smax("iq",{from:d("WASmaxAttrs").OPTIONAL(d("WAWap").USER_JID,a),to:d("WAWap").S_WHATSAPP_NET}));return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeHackBaseIQSetRequestMixin=a}),98);
__d("WASmaxOutBizCtwaNativeAdUploadAdMediaRequest",["WASmaxChildren","WASmaxJsx","WASmaxOutBizCtwaNativeAdHackBaseIQSetRequestMixin","WAWap"],(function(a,b,c,d,e,f,g){function h(a){var b=a.mediaId;a=a.mediaType;b=d("WASmaxJsx").smax("media",{id:d("WAWap").CUSTOM_STRING(b),type:d("WAWap").CUSTOM_STRING(a)});return b}function i(a){var b=a.mediaListId;a=a.mediaListType;b=d("WASmaxJsx").smax("media_list",{id:d("WAWap").CUSTOM_STRING(b),type:d("WAWap").CUSTOM_STRING(a)});return b}function a(a){var b=a.mediaArgs,c=a.mediaListArgs;b=d("WASmaxOutBizCtwaNativeAdHackBaseIQSetRequestMixin").mergeHackBaseIQSetRequestMixin(d("WASmaxJsx").smax("iq",{xmlns:"fb:thrift_iq",smax_id:d("WAWap").INT(74)},[d("WASmaxChildren").OPTIONAL_CHILD(h,b)].concat(d("WASmaxChildren").REPEATED_CHILD(i,c,0,10))),a);return b}g.makeUploadAdMediaRequestMedia=h;g.makeUploadAdMediaRequestMediaList=i;g.makeUploadAdMediaRequest=a}),98);
__d("WASmaxBizCtwaNativeAdUploadAdMediaRPC",["WAComms","WASmaxInBizCtwaNativeAdUploadAdMediaResponseError","WASmaxInBizCtwaNativeAdUploadAdMediaResponseSuccess","WASmaxOutBizCtwaNativeAdUploadAdMediaRequest","WASmaxParsingFailure","WASmaxRpcUtils","regeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a,c){var e,f,g,h;return b("regeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:e=d("WASmaxOutBizCtwaNativeAdUploadAdMediaRequest").makeUploadAdMediaRequest(a);i.next=3;return b("regeneratorRuntime").awrap(d("WAComms").sendSmaxStanza(e,c));case 3:f=i.sent;g=d("WASmaxInBizCtwaNativeAdUploadAdMediaResponseSuccess").parseUploadAdMediaResponseSuccess(f,e);if(!g.success){i.next=7;break}return i.abrupt("return",{name:"UploadAdMediaResponseSuccess",value:g.value});case 7:h=d("WASmaxInBizCtwaNativeAdUploadAdMediaResponseError").parseUploadAdMediaResponseError(f,e);if(!h.success){i.next=10;break}return i.abrupt("return",{name:"UploadAdMediaResponseError",value:h.value});case 10:throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("UploadAdMedia",{Success:g,Error:h}));case 11:case"end":return i.stop()}},null,this)}g.sendUploadAdMediaRPC=a}),98);
__d("WASmaxInPrivatestatsIQErrorBadRequestMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","bad-request");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",400);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorBadRequestMixin=a}),98);
__d("WASmaxInPrivatestatsIQErrorFeatureNotImplementedMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","feature-not-implemented");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",501);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorFeatureNotImplementedMixin=a}),98);
__d("WASmaxInPrivatestatsIQErrorServiceUnavailableMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","service-unavailable");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",503);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorServiceUnavailableMixin=a}),98);
__d("WASmaxInPrivatestatsIQErrorBadRequestOrFeatureNotImplementedOrServiceUnavailableMixinGroup",["WAResultOrError","WASmaxInPrivatestatsIQErrorBadRequestMixin","WASmaxInPrivatestatsIQErrorFeatureNotImplementedMixin","WASmaxInPrivatestatsIQErrorServiceUnavailableMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInPrivatestatsIQErrorBadRequestMixin").parseIQErrorBadRequestMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"IQErrorBadRequest",value:b.value});var c=d("WASmaxInPrivatestatsIQErrorFeatureNotImplementedMixin").parseIQErrorFeatureNotImplementedMixin(a);if(c.success)return d("WAResultOrError").makeResult({name:"IQErrorFeatureNotImplemented",value:c.value});var e=d("WASmaxInPrivatestatsIQErrorServiceUnavailableMixin").parseIQErrorServiceUnavailableMixin(a);return e.success?d("WAResultOrError").makeResult({name:"IQErrorServiceUnavailable",value:e.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["IQErrorBadRequest","IQErrorFeatureNotImplemented","IQErrorServiceUnavailable"],[b,c,e])}g.parseIQErrorBadRequestOrFeatureNotImplementedOrServiceUnavailableMixinGroup=a}),98);
__d("WASmaxInPrivatestatsIQErrorInternalServerErrorMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","internal-server-error");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",500);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorInternalServerErrorMixin=a}),98);
__d("WASmaxInPrivatestatsIQErrorResponseMixin",["WAResultOrError","WASmaxParseReference","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["id"]);if(!c.success)return c;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"id",c.value);if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["to"]);if(!c.success)return c;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"from",c.value);if(!b.success)return b;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","error");return!c.success?c:d("WAResultOrError").makeResult({type:c.value})}g.parseIQErrorResponseMixin=a}),98);
__d("WASmaxInPrivatestatsSignCredentialResponseErrorNoRetry",["WAResultOrError","WASmaxInPrivatestatsIQErrorBadRequestOrFeatureNotImplementedOrServiceUnavailableMixinGroup","WASmaxInPrivatestatsIQErrorResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;a=d("WASmaxInPrivatestatsIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxInPrivatestatsIQErrorBadRequestOrFeatureNotImplementedOrServiceUnavailableMixinGroup").parseIQErrorBadRequestOrFeatureNotImplementedOrServiceUnavailableMixinGroup(c.value);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{errorIQErrorBadRequestOrFeatureNotImplementedOrServiceUnavailableMixinGroup:b.value}))}g.parseSignCredentialResponseErrorNoRetry=a}),98);
__d("WASmaxInPrivatestatsSignCredentialResponseErrorRetry",["WAResultOrError","WASmaxInPrivatestatsIQErrorInternalServerErrorMixin","WASmaxInPrivatestatsIQErrorResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;c=d("WASmaxInPrivatestatsIQErrorInternalServerErrorMixin").parseIQErrorInternalServerErrorMixin(c.value);if(!c.success)return c;a=d("WASmaxInPrivatestatsIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({errorIQErrorInternalServerErrorMixin:c.value},a.value))}g.parseSignCredentialResponseErrorRetry=a}),98);
__d("WASmaxInPrivatestatsSignCredentialResponseSuccess",["WAResultOrError","WASmaxParseReference","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"sign_credential");if(!c.success)return c;var e=d("WASmaxParseUtils").flattenedChildWithTag(c.value,"signed_credential");if(!e.success)return e;var f=d("WASmaxParseUtils").flattenedChildWithTag(c.value,"acs_public_key");if(!f.success)return f;var g=d("WASmaxParseUtils").flattenedChildWithTag(c.value,"dleq_proof");if(!g.success)return g;var h=d("WASmaxParseUtils").flattenedChildWithTag(g.value,"c");if(!h.success)return h;g=d("WASmaxParseUtils").flattenedChildWithTag(g.value,"s");if(!g.success)return g;var i=d("WASmaxParseUtils").flattenedChildWithTag(c.value,"project_name");if(!i.success)return i;var j=d("WASmaxParseReference").attrStringFromReference(b,["id"]);if(!j.success)return j;j=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"id",j.value);if(!j.success)return j;j=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","result");if(!j.success)return j;b=d("WASmaxParseReference").attrStringFromReference(b,["to"]);if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"from",b.value);if(!a.success)return a;b=d("WASmaxParseUtils").attrIntRange(c.value,"t",0,void 0);if(!b.success)return b;a=d("WASmaxParseUtils").contentBytesRange(e.value,32,32);if(!a.success)return a;c=d("WASmaxParseUtils").contentBytesRange(f.value,32,32);if(!c.success)return c;e=d("WASmaxParseUtils").contentBytesRange(h.value,32,32);if(!e.success)return e;f=d("WASmaxParseUtils").contentBytesRange(g.value,32,32);if(!f.success)return f;h=d("WASmaxParseUtils").contentString(i.value);return!h.success?h:d("WAResultOrError").makeResult({type:j.value,signCredentialT:b.value,signCredentialSignedCredentialElementValue:a.value,signCredentialAcsPublicKeyElementValue:c.value,signCredentialDleqProofCElementValue:e.value,signCredentialDleqProofSElementValue:f.value,signCredentialProjectNameElementValue:h.value})}g.parseSignCredentialResponseSuccess=a}),98);
__d("WASmaxWasmMemoryManagement",[],(function(a,b,c,d,e,f){var g=function(){function a(){this.stack=[]}var b=a.prototype;b.enterStackFrame=function(){this.stack.push([])};b.exitStackFrame=function(a){var b=this.stack.pop();if(b==null)return;for(var b=b,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;a(e)}};b.push=function(a){var b=this.ensureActiveStackFrame();b.push(a)};b.ensureActiveStackFrame=function(){var a=this.getActiveStackFrame();if(a==null)throw new Error("No active stack frame");return a};b.getActiveStackFrame=function(){return this.stack[this.stack.length-1]};return a}();function a(a){var b=!1,c=new g(),d=new g(),e=new Map(),f=new Map();function h(){e.size!==0,f.size!==0}function i(){c.enterStackFrame(),d.enterStackFrame()}function j(){c.exitStackFrame(function(b){a._free(b),e["delete"](b)}),d.exitStackFrame(function(b){a.removeFunction(b),f["delete"](b)})}function k(){b=!0}function l(){b=!1}return new Proxy(a,{get:function(a,g,m){if(g==="ensureNoMemoryLeaks")return h;if(g==="enterStackFrame")return i;if(g==="exitStackFrame")return j;if(g==="enterUnsafeMode")return k;if(g==="exitUnsafeMode")return l;if(g==="_malloc")return function(d){var f=a._malloc(d),g={stack:void 0};Error.captureStackTrace(g);e.set(f,{size:d,stack:g.stack||""});b||c.push(f);return f};if(g==="_free")return function(c){if(b)a._free(c),e["delete"](c);else throw new Error("Memory is being managed. You cannot manually free.")};if(g==="addFunction")return function(c,e){var g=a.addFunction(c,e);b||(f.set(g,{name:c.name,signature:e}),d.push(g));return g};return g==="removeFunction"?function(c){if(b)a.removeFunction(c),f["delete"](c);else throw new Error("Memory is being managed. You cannot manually remove a function.")}:Reflect.get(a,g,m)}})}function b(a,b){try{a.enterStackFrame();b=b();a.exitStackFrame();return b}catch(b){a.exitStackFrame();throw b}}function c(a,b){try{a.enterUnsafeMode();b=b(a);a.exitUnsafeMode();return b}catch(b){a.exitUnsafeMode();throw b}}f.enableWasmMemoryManagement=a;f.withScopedAllocation=b;f.unsafe=c}),66);
__d("WASmaxMockRunnerUtils",["$InternalEnum","WASmaxWasmMemoryManagement"],(function(a,b,c,d,e,f,g){var h=b("$InternalEnum")({Injection:0,InjectionToServer:1,MockCompleted:2,SequenceCompleted:3,MockRequestMatched:4});function i(a){var b=a._malloc(4);a.setValue(b,0,"i32");return b}function a(a,b){return d("WASmaxWasmMemoryManagement").withScopedAllocation(a,function(){var c=i(a);try{return b(c)}finally{c=a.getValue(c,"i32");if(c!==0){var d=a.getValue(c,"i32");d=a.UTF8ToString(d);a.ccall("SmaxRunnerErrorFree",null,["number"],[c]);throw new Error(d)}}})}function j(a,b){var c=a._malloc(b.length);new Uint8Array(a.HEAPU8.buffer,c,b.length).set(b);return c}function k(a,b,c){var d=j(a,b.data),e=j(a,b.signature||new Uint8Array(64).fill(0));a.setValue(c,b.id,"i32");a.setValue(c+4,d,"*");a.setValue(c+8,e,"*")}function c(a,b){var c=b.identity,d=b.privateIdentity,e=b.registrationId,f=b.preKeys;b=b.signedPreKey;var g=3*4;c=j(a,c);var h=0;d!=null&&(h=j(a,d));d=a._malloc(g);k(a,b,d);b=a._malloc(f.length*g);for(var i=0;i<f.length;++i)k(a,f[i],b+i*g);return{identityPtr:c,privateIdentityPtr:h,registrationId:e,preKeysPtr:b,preKeysLength:f.length,signedPreKeyPtr:d}}function l(a,b,c){var d=a.getValue(b,"i32"),e=a.getValue(b+4,"*");e=new Uint8Array(a.HEAPU8.buffer,e,32);if(!c)return{id:d,data:new Uint8Array(e),signature:null};c=a.getValue(b+8,"*");b=new Uint8Array(a.HEAPU8.buffer,c,64);return{id:d,data:new Uint8Array(e),signature:new Uint8Array(b)}}function e(a,b){var c=b,d=c+4,e=d+4,f=e+4,g=f+4,h=g+4,i=[];f=a.getValue(f,"i32");g=a.getValue(g,"*");for(var j=0;j<f;++j)i.push(l(a,g,!1)),g+=12;j=a.getValue(h,"*");f=null;j!==0&&(f=new Uint8Array(new Uint8Array(a.HEAPU8.buffer,j,32)));g={identity:new Uint8Array(new Uint8Array(a.HEAPU8.buffer,a.getValue(c,"*"),32)),registrationId:a.getValue(d,"i32"),signedPreKey:l(a,a.getValue(e,"*"),!0),preKeys:i,privateIdentity:f};a.ccall("SmaxRunnerPreKeyBundleFree",null,["number"],[b]);return g}function f(a,b){var c=[];b=a.getValue(b,"i32");var d=a.ccall("SmaxRunnerEventsCount","number",["number"],[b]);for(var e=0;e<d;e++){var f=h.cast(a.ccall("SmaxRunnerEventsGetEventType","number",["number","number"],[b,e]));if(f==null)throw new Error("Invalid event type");switch(f){case h.Injection:f=a.ccall("SmaxRunnerEventsGetInjectionEvent","number",["number","number"],[b,e]);c.push(m(a,f));break;case h.InjectionToServer:break;case h.MockCompleted:f=a.ccall("SmaxRunnerEventsGetMockCompletedEvent","number",["number","number"],[b,e]);c.push(n(a,f));break;case h.SequenceCompleted:f=a.ccall("SmaxRunnerEventsGetSequenceCompletedEvent","number",["number","number"],[b,e]);c.push(o(a,f));break;case h.MockRequestMatched:f=a.ccall("SmaxRunnerEventsGetMockRequestMatchedEvent","number",["number","number"],[b,e]);c.push(p(a,f));break}}a.ccall("SmaxRunnerEventsFree",null,["number"],[b]);return c}function m(a,b){var c=a.getValue(b,"i32");b=a.getValue(b+4,"i32");return{type:"Injection",data:new Uint8Array(new Uint8Array(a.HEAPU8.buffer,c,b))}}function n(a,b){b=a.getValue(b,"i32");return{type:"MockCompleted",name:a.UTF8ToString(b)}}function o(a,b){b=a.getValue(b,"i32");return{type:"SequenceCompleted",name:a.UTF8ToString(b)}}function p(a,b){b=a.getValue(b,"i32");return{type:"MockRequestMatched",name:a.UTF8ToString(b)}}g.EventType=h;g.makePointer=i;g.withError=a;g.copyByteArrayToWasmMemory=j;g.makePreKeyBundle=c;g.copyPreKey=l;g.copyPreKeyBundle=e;g.convertEvents=f;g.getInjectionEvent=m;g.getMockCompletedEvent=n;g.getSequenceCompletedEvent=o;g.getMockRequestMatchedEvent=p}),98);
__d("WASmaxMockRunner",["$InternalEnum","WASmaxMockRunnerUtils","WASmaxWasmMemoryManagement"],(function(a,b,c,d,e,f,g){var h=b("$InternalEnum")({Timestamp:0,TimestampSecondsAgo:1,RandomId:2,UserJID:3,DeviceJID:4,PrimaryDeviceJID:5,UserPhone:6,RegistrationId:7,IdentityKeyPublic:8,IdentityKeyPrivate:9,PreKeyPublic:10,PreKeyPrivate:11,SignedPreKeyPublic:12,SignedPreKeyPrivate:13,SignedPreKeySignature:14,BigEndian:15}),i=function(){function a(a,b,c,e){var f=this;this.wasmModule=d("WASmaxWasmMemoryManagement").enableWasmMemoryManagement(a);this.wasmModule.enterStackFrame();this.builderPointer=this.wasmModule.ccall(e,"number",[],[]);var g=this._createFileRepo(c);d("WASmaxMockRunnerUtils").withError(this.wasmModule,function(a){f.wasmModule.ccall("SmaxRunnerBuilderAddFileRepo",null,["number","number","number"],[f.builderPointer,g,a])});e=function(){if(i){if(j>=h.length)return"break";a=h[j++]}else{j=h.next();if(j.done)return"break";a=j.value}var b=a;d("WASmaxMockRunnerUtils").withError(f.wasmModule,function(a){f.wasmModule.ccall("SmaxRunnerBuilderAddMockFile",null,["number","string","number"],[f.builderPointer,b,a])})};for(var h=b,i=Array.isArray(h),j=0,h=i?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){c=e();if(c==="break")break}}var b=a.prototype;b._createFileRepo=function(a){var b=this,c=function(c,e,f,g){c=b.wasmModule.UTF8ToString(e);try{e=a(c);var h=new TextEncoder().encode(e);c=d("WASmaxWasmMemoryManagement").unsafe(b.wasmModule,function(a){return d("WASmaxMockRunnerUtils").copyByteArrayToWasmMemory(b.wasmModule,h)});b.wasmModule.setValue(g,h.length,"*");b.wasmModule.setValue(f,c,"*");return 0}catch(a){b.wasmModule.setValue(g,0,"*"),b.wasmModule.setValue(f,0,"*")}},e=function(a,c,e){d("WASmaxWasmMemoryManagement").unsafe(b.wasmModule,function(a){a._free(c)})};c=this.wasmModule.addFunction(c,"iiiii");e=this.wasmModule.addFunction(e,"viii");var f=this.wasmModule._malloc(16);this.wasmModule.setValue(f,0,"*");this.wasmModule.setValue(f+4,c,"*");this.wasmModule.setValue(f+8,e,"*");this.wasmModule.setValue(f+12,0,"*");return f};b.setDictionaryVersion=function(a){var b=this;d("WASmaxMockRunnerUtils").withError(this.wasmModule,function(c){b.wasmModule.ccall("SmaxRunnerBuilderSetDictionaryVersion",null,["number","number","number"],[b.builderPointer,a,c])})};b.addVariable=function(a,b){var c=this;d("WASmaxMockRunnerUtils").withError(this.wasmModule,function(d){c.wasmModule.ccall("SmaxRunnerBuilderAddVariable",null,["number","string","string","number"],[c.builderPointer,a,b,d])})};b.addResponseMapping=function(a,b){var c=this;d("WASmaxMockRunnerUtils").withError(this.wasmModule,function(d){c.wasmModule.ccall("SmaxRunnerBuilderAddResponseMapping",null,["number","string","string","number"],[c.builderPointer,a,b,d])})};b.addDeviceJid=function(a){var b=this;d("WASmaxMockRunnerUtils").withError(this.wasmModule,function(c){b.wasmModule.ccall("SmaxRunnerBuilderAddDeviceJid",null,["number","string","number"],[b.builderPointer,a,c])})};b.addDefaultIdentityName=function(a){var b=this;d("WASmaxMockRunnerUtils").withError(this.wasmModule,function(c){b.wasmModule.ccall("SmaxRunnerBuilderAddDefaultIdentityName",null,["number","string","number"],[b.builderPointer,a,c])})};return a}(),j=function(){function a(a,b){b===void 0&&(b=0),this.wasmModule=a,this.runnerPointer=b}var b=a.prototype;b.addSyncdKey=function(a){var b=this;d("WASmaxMockRunnerUtils").withError(this.wasmModule,function(c){var e=d("WASmaxMockRunnerUtils").copyByteArrayToWasmMemory(b.wasmModule,a);b.wasmModule.ccall("SmaxMockRunnerAddSyncdKey",null,["number","number","number","number","number","number"],[b.runnerPointer,0,0,e,a.length,c])})};b.setVariable=function(a,b){var c=this;d("WASmaxMockRunnerUtils").withError(this.wasmModule,function(d){c.wasmModule.ccall("SmaxMockRunnerSetVariable",null,["number","string","string","number"],[c.runnerPointer,a,b,d])})};b.setDefaultIdentityName=function(a){var b=this;d("WASmaxMockRunnerUtils").withError(this.wasmModule,function(c){b.wasmModule.ccall("SmaxMockRunnerSetDefaultIdentityName",null,["number","string","number"],[b.runnerPointer,a,c])})};b.processPreKeyBundle=function(a,b){var c=this;d("WASmaxMockRunnerUtils").withError(this.wasmModule,function(e){var f=d("WASmaxMockRunnerUtils").makePreKeyBundle(c.wasmModule,b),g=f.identityPtr,h=f.privateIdentityPtr,i=f.registrationId,j=f.preKeysPtr,k=f.preKeysLength;f=f.signedPreKeyPtr;c.wasmModule.ccall("SmaxMockRunnerProcessPreKeyBundle",null,["number","string","number","number","number","number","number","number","number"],[c.runnerPointer,a,g,h,i,j,k,f,e])})};b.getPreKeyBundleForIdentity=function(a,b){var c=this;b===void 0&&(b=1);return d("WASmaxMockRunnerUtils").withError(this.wasmModule,function(e){var f=d("WASmaxMockRunnerUtils").makePointer(c.wasmModule);c.wasmModule.ccall("SmaxMockRunnerGetPreKeyBundleForIdentity",null,["number","string","number","number","number"],[c.runnerPointer,a,b,f,e]);return d("WASmaxMockRunnerUtils").copyPreKeyBundle(c.wasmModule,c.wasmModule.getValue(f,"*"))})};b.overrideFunction=function(a,b){var c=this,e=function(a,e,f){a=[];for(var g=0;g<f;g++){var h=c.wasmModule.getValue(e+g*4,"i32");h=c.wasmModule.UTF8ToString(h);a.push(h)}h=b(a);var i=c.wasmModule.lengthBytesUTF8(h)+1;e=d("WASmaxWasmMemoryManagement").unsafe(c.wasmModule,function(a){return a._malloc(i)});c.wasmModule.stringToUTF8(h,e,i);return e},f=function(a,b){d("WASmaxWasmMemoryManagement").unsafe(c.wasmModule,function(a){return a._free(b)})},g=this.wasmModule.addFunction(e,"iiii"),h=this.wasmModule.addFunction(f,"vii");d("WASmaxMockRunnerUtils").withError(this.wasmModule,function(b){var d=c.wasmModule._malloc(16);c.wasmModule.setValue(d,0,"*");c.wasmModule.setValue(d+4,g,"*");c.wasmModule.setValue(d+8,h,"*");c.wasmModule.setValue(d+12,0,"*");c.wasmModule.ccall("SmaxMockRunnerOverrideFunction",null,["number","number","number","number"],[c.runnerPointer,a,d,b])})};b.match=function(a){var b=this,c,e=(c=d("WASmaxMockRunnerUtils")).makePointer(this.wasmModule),f=c.copyByteArrayToWasmMemory(this.wasmModule,a);c.withError(this.wasmModule,function(c){b.wasmModule.ccall("SmaxMockRunnerMatchStanza",null,["number","number","number","number","number"],[b.runnerPointer,f,a.length,e,c])});return c.convertEvents(this.wasmModule,e)};b.subscribe=function(a){var b=this,c=this.wasmModule._malloc(12),e=d("WASmaxMockRunnerUtils").makePointer(this.wasmModule),f=this.wasmModule.addFunction(function(c,e,f){c=d("WASmaxMockRunnerUtils").EventType.cast(e);if(c==null)throw new Error("Unrecognized event type "+e);switch(c){case d("WASmaxMockRunnerUtils").EventType.Injection:return a(d("WASmaxMockRunnerUtils").getInjectionEvent(b.wasmModule,f));case d("WASmaxMockRunnerUtils").EventType.InjectionToServer:return;case d("WASmaxMockRunnerUtils").EventType.MockRequestMatched:return a(d("WASmaxMockRunnerUtils").getMockRequestMatchedEvent(b.wasmModule,f));case d("WASmaxMockRunnerUtils").EventType.MockCompleted:return a(d("WASmaxMockRunnerUtils").getMockCompletedEvent(b.wasmModule,f));case d("WASmaxMockRunnerUtils").EventType.SequenceCompleted:return a(d("WASmaxMockRunnerUtils").getSequenceCompletedEvent(b.wasmModule,f))}},"viii");this.wasmModule.setValue(c,0,"*");this.wasmModule.setValue(c+4,f,"*");this.wasmModule.setValue(c+8,0,"*");d("WASmaxMockRunnerUtils").withError(this.wasmModule,function(a){b.wasmModule.ccall("SmaxMockRunnerRegisterListener",null,["number","number","number","number"],[b.runnerPointer,c,e,a])});return this.wasmModule.getValue(e,"*")};b.unsubscribe=function(a){var b=this;d("WASmaxMockRunnerUtils").withError(this.wasmModule,function(c){b.wasmModule.ccall("SmaxMockRunnerDeregisterListener",null,["number","number","number","number"],[b.runnerPointer,a,0,c])})};b.complete=function(){var a=this;d("WASmaxMockRunnerUtils").withError(this.wasmModule,function(b){a.wasmModule.ccall("SmaxMockRunnerComplete",null,["number","number"],[a.runnerPointer,b])})};b.cleanup=function(){this.wasmModule.ccall("SmaxMockRunnerFree",null,["number"],[this.runnerPointer]),this.wasmModule.exitStackFrame(),this.wasmModule.ensureNoMemoryLeaks()};return a}(),k=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c,d){return b.call(this,a,c,d,"SmaxAutomaticRunnerBuilderCreate")||this}var c=a.prototype;c.build=function(){var a=this;return d("WASmaxMockRunnerUtils").withError(this.wasmModule,function(b){var c=d("WASmaxMockRunnerUtils").makePointer(a.wasmModule),e=new m(a.wasmModule);a.wasmModule.ccall("SmaxRunnerBuilderBuild",null,["number","number","number"],[a.builderPointer,c,b]);e.runnerPointer=a.wasmModule.getValue(c,"i32");return e})};return a}(i);i=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){return a.call(this,b,c,d,"SmaxManualRunnerBuilderCreate")||this}var c=b.prototype;c.build=function(){var a=this;return d("WASmaxMockRunnerUtils").withError(this.wasmModule,function(b){var c=d("WASmaxMockRunnerUtils").makePointer(a.wasmModule),e=new l(a.wasmModule);a.wasmModule.ccall("SmaxRunnerBuilderBuild",null,["number","number","number"],[a.builderPointer,c,b]);e.runnerPointer=a.wasmModule.getValue(c,"i32");return e})};return b}(i);var l=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var c=a.prototype;c.start=function(a){var b=this;d("WASmaxMockRunnerUtils").withError(this.wasmModule,function(c){b.wasmModule.ccall("SmaxManualMockRunnerStart",null,["number","string","number","number"],[b.runnerPointer,a,c])})};c.next=function(){var a=this,b=d("WASmaxMockRunnerUtils").makePointer(this.wasmModule);d("WASmaxMockRunnerUtils").withError(this.wasmModule,function(c){a.wasmModule.ccall("SmaxManualMockRunnerNext",null,["number","number","number"],[a.runnerPointer,b,c])});return d("WASmaxMockRunnerUtils").convertEvents(this.wasmModule,b)};return a}(j),m=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}a.fromRunner=function(b,c){return new a(b,c)};var c=a.prototype;c.start=function(a){var b=this,c=d("WASmaxMockRunnerUtils").makePointer(this.wasmModule);d("WASmaxMockRunnerUtils").withError(this.wasmModule,function(d){b.wasmModule.ccall("SmaxAutomaticMockRunnerStart",null,["number","string","number","number"],[b.runnerPointer,a,c,d])});return d("WASmaxMockRunnerUtils").convertEvents(this.wasmModule,c)};c.send=function(a){var b=this,c=d("WASmaxMockRunnerUtils").makePointer(this.wasmModule);d("WASmaxMockRunnerUtils").withError(this.wasmModule,function(d){b.wasmModule.ccall("SmaxAutomaticMockRunnerSend",null,["number","string","number","number"],[b.runnerPointer,a,c,d])});return d("WASmaxMockRunnerUtils").convertEvents(this.wasmModule,c)};return a}(j);function a(a,b,c){c===void 0&&(c=3);var e=d("WASmaxWasmMemoryManagement").enableWasmMemoryManagement(a);return d("WASmaxWasmMemoryManagement").withScopedAllocation(e,function(){var a=d("WASmaxMockRunnerUtils").copyByteArrayToWasmMemory(e,b),f=d("WASmaxMockRunnerUtils").makePointer(e),g=d("WASmaxMockRunnerUtils").withError(e,function(d){e.ccall("SmaxVisualizeStanza","number",["number","number","number","number","number"],[a,b.length,f,c,d]);return f});g=e.getValue(g,"i32");var h=e.UTF8ToString(g);e.ccall("SmaxVisualizedStanzaFree",null,["number"],[g]);return h})}function c(a,b,c){var e=d("WASmaxWasmMemoryManagement").enableWasmMemoryManagement(a);return d("WASmaxWasmMemoryManagement").withScopedAllocation(e,function(){var a=d("WASmaxMockRunnerUtils").copyByteArrayToWasmMemory(e,b),f=d("WASmaxMockRunnerUtils").makePointer(e),g=d("WASmaxMockRunnerUtils").withError(e,function(d){e.ccall("SmaxVisualizeProto","number",["number","number","string","number","number"],[a,b.length,c,f,d]);return f});g=e.getValue(g,"i32");var h=e.UTF8ToString(g);e.ccall("SmaxVisualizedProtoFree",null,["number"],[g]);return h})}function e(a){a.ccall("SmaxDisableLocationReporting",null,[],[])}function f(a,b){var c={"convert.xml":'<smax xmlns:smax=\'http://whatsapp.net/smax\'>\n        <mock name="Convert" originator="server">\n            <request>\n              '+b+"\n            </request>\n        </mock>\n      </smax>"};b=new k(a,["convert.xml"],function(a){return c[a]});b.addDeviceJid("16005551839:1@s.whatsapp.net");b.addDefaultIdentityName("bob");a=b.build();a.addSyncdKey(new Uint8Array(32));a.setDefaultIdentityName("alice");b=a.send("Convert");var d=null;for(var b=b,e=Array.isArray(b),f=0,b=e?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=b.length)break;g=b[f++]}else{f=b.next();if(f.done)break;g=f.value}g=g;if(g.type==="Injection"){d=g.data;break}}if(d==null)throw new Error("Unreachable");a.complete();a.cleanup();return d}var n=null;function o(a){if(n!=null)return n;n=new q(a);return n}var p=b("$InternalEnum")({TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4}),q=function(){function a(a){var b=this;this.subscriptionCounter=0;this.subscriptions=new Map();this.wasmModule=a;var c=function(c,d){b.emit(a.UTF8ToString(d).replace(/\n$/,""))};this.loggingFnPointer=a.addFunction(c,"vii");c=a._malloc(12);a.setValue(c,0,"*");a.setValue(c+4,this.loggingFnPointer,"*");a.setValue(c+8,0,"*");a.ccall("SmaxEnableLogger",null,["number","number"],[c,p.TRACE]);a._free(c)}var b=a.prototype;b.subscribe=function(a){var b=++this.subscriptionCounter;this.subscriptions.set(b,a);return b};b.unsubscribe=function(a){this.subscriptions["delete"](a)};b.emit=function(a){for(var b=this.subscriptions.values(),c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e(a)}};b.free=function(){this.subscriptions.clear(),this.wasmModule.removeFunction(this.loggingFnPointer)};return a}();g.SmaxRunnerFunctionName=h;g.SmaxAutomaticMockRunnerBuilder=k;g.SmaxManualMockRunnerBuilder=i;g.SmaxManualMockRunner=l;g.SmaxAutomaticMockRunner=m;g.WAPToXml=a;g.ProtoToXml=c;g.disableLocationReporting=e;g.XmlToWAP=f;g.getSmaxLogEmitter=o}),98);
__d("WASmaxMockRunnerBackend",["WASmaxMockRunnerUtils","WASmaxWasmMemoryManagement"],(function(a,b,c,d,e,f,g){a=function(){function a(a,b){b===void 0&&(b=function(){});this.wasmModule=d("WASmaxWasmMemoryManagement").enableWasmMemoryManagement(a);this.wasmModule.enterStackFrame();var c=d("WASmaxMockRunnerUtils").makePointer(this.wasmModule),e=d("WASmaxMockRunnerUtils").makePointer(this.wasmModule),f=a._malloc(12),g=a.addFunction(function(c,d,e){b(a.UTF8ToString(d),a.UTF8ToString(e))},"viii");a.setValue(f,0,"*");a.setValue(f+4,g,"*");a.setValue(f+8,0,"*");this.wasmModule.ccall("SmaxFlipperPluginBackendCreate",null,["number","number","number"],[c,e,f]);this.backendPointer=this.wasmModule.getValue(c,"*");this.runnerPointer=this.wasmModule.getValue(e,"*")}var b=a.prototype;b.handleRpc=function(a){var b=this,c=d("WASmaxMockRunnerUtils").makePointer(this.wasmModule);d("WASmaxMockRunnerUtils").withError(this.wasmModule,function(d){var e=JSON.stringify(a),f=b.wasmModule.lengthBytesUTF8(e)+1,g=b.wasmModule._malloc(f);b.wasmModule.stringToUTF8(e,g,f);b.wasmModule.ccall("SmaxFlipperPluginBackendHandleRpc",null,["number","number","number","number"],[b.backendPointer,g,c,d])});var e=this.wasmModule.getValue(c,"*"),f=this.wasmModule.UTF8ToString(e);this.wasmModule.ccall("SmaxFlipperPluginBackendFreeResponse",null,["number"],[e]);return JSON.parse(f)};b.cleanup=function(){this.wasmModule.ccall("SmaxFlipperPluginBackendFree",null,["number"],[this.backendPointer]),this.wasmModule.exitStackFrame(),this.wasmModule.ensureNoMemoryLeaks()};return a}();g.SmaxMockRunnerBackend=a}),98);
__d("WASmaxMocksWasm",["Promise"],(function(a,b,c,d,e,f){var g;a=function(){var a=typeof document!=="undefined"&&document.currentScript?document.currentScript.src:void 0;return function(c){c===void 0&&(c={});var c=typeof c!="undefined"?c:{},d,h;c.ready=new(g||(g=b("Promise")))(function(a,b){d=a,h=b});var i=Object.assign({},c),j="./this.program";(function(a,b){throw b});var k=!0,l=!1,m="";function n(a){return m+a}var o,aa,p;(k||l)&&(l?m=self.location.href:typeof document!="undefined"&&document.currentScript&&(m=document.currentScript.src),a&&(m=a),m.indexOf("blob:")!==0?m=m.substr(0,m.replace(/[?#].*/,"").lastIndexOf("/")+1):m="",(o=function(a){var b=new XMLHttpRequest();b.open("GET",a,!1);b.send(null);return b.responseText},l&&(p=function(a){var b=new XMLHttpRequest();b.open("GET",a,!1);b.responseType="arraybuffer";b.send(null);return new Uint8Array(b.response)}),aa=function(a,b,c){var d=new XMLHttpRequest();d.open("GET",a,!0);d.responseType="arraybuffer";d.onload=function(){if(d.status==200||d.status==0&&d.response){b(d.response);return}c()};d.onerror=c;d.send(null)}),function(a){return document.title=a});var q=emptyFunction.bind(console),r=emptyFunction.bind(console);Object.assign(c,i);i=null;var s;i=!0;typeof WebAssembly!="object"&&F("no native wasm support detected");var ba,ca=!1;function da(a,b){a||F(b)}var ea=typeof TextDecoder!="undefined"?new TextDecoder("utf8"):void 0;function t(a,b,c){c=b+c;var d=b;while(a[d]&&!(d>=c))++d;if(d-b>16&&a.buffer&&ea)return ea.decode(a.subarray(b,d));c="";while(b<d){var e=a[b++];if(!(e&128)){c+=String.fromCharCode(e);continue}var f=a[b++]&63;if((e&224)==192){c+=String.fromCharCode((e&31)<<6|f);continue}var g=a[b++]&63;(e&240)==224?e=(e&15)<<12|f<<6|g:e=(e&7)<<18|f<<12|g<<6|a[b++]&63;if(e<65536)c+=String.fromCharCode(e);else{f=e-65536;c+=String.fromCharCode(55296|f>>10,56320|f&1023)}}return c}function u(a,b){return a?t(y,a,b):""}function v(a,b,c,d){if(!(d>0))return 0;var e=c;d=c+d-1;for(var f=0;f<a.length;++f){var g=a.charCodeAt(f);if(g>=55296&&g<=57343){var h=a.charCodeAt(++f);g=65536+((g&1023)<<10)|h&1023}if(g<=127){if(c>=d)break;b[c++]=g}else if(g<=2047){if(c+1>=d)break;b[c++]=192|g>>6;b[c++]=128|g&63}else if(g<=65535){if(c+2>=d)break;b[c++]=224|g>>12;b[c++]=128|g>>6&63;b[c++]=128|g&63}else{if(c+3>=d)break;b[c++]=240|g>>18;b[c++]=128|g>>12&63;b[c++]=128|g>>6&63;b[c++]=128|g&63}}b[c]=0;return c-e}function fa(a,b,c){return v(a,y,b,c)}function w(a){var b=0;for(var c=0;c<a.length;++c){var d=a.charCodeAt(c);d<=127?b++:d<=2047?b+=2:d>=55296&&d<=57343?(b+=4,++c):b+=3}return b}var x,y,ga,z,A,ha,ia;function ja(){var a=ba.buffer;c.HEAP8=x=new Int8Array(a);c.HEAP16=ga=new Int16Array(a);c.HEAP32=z=new Int32Array(a);c.HEAPU8=y=new Uint8Array(a);c.HEAPU16=new Uint16Array(a);c.HEAPU32=A=new Uint32Array(a);c.HEAPF32=ha=new Float32Array(a);c.HEAPF64=ia=new Float64Array(a)}var B,ka=[],la=[],ma=[];function na(){za(ka)}function oa(){!c.noFSInit&&!O.init.initialized&&O.init(),O.ignorePermissions=!1,M.init(),za(la)}function pa(){za(ma)}function qa(a){la.unshift(a)}var C=0,ra=null,D=null;function sa(a){return a}function ta(a){C++}function E(a){C--;if(C==0){ra!==null&&(clearInterval(ra),ra=null);if(D){a=D;D=null;a()}}}function F(a){a="Aborted("+a+")";r(a);ca=!0;a+=". Build with -sASSERTIONS for more info.";a=new WebAssembly.RuntimeError(a);h(a);throw a}var ua="data:application/octet-stream;base64,";function va(a){return a.startsWith(ua)}var G;G="smax_mocks_wasm.wasm";va(G)||(G=n(G));function wa(a){try{if(a==G&&s)return new Uint8Array(s);if(p)return p(a);throw"both async and sync fetching of the wasm failed"}catch(a){F(a)}}function xa(){return!s&&(k||l)&&typeof fetch=="function"?fetch(G,{credentials:"same-origin"}).then(function(a){if(!a.ok)throw"failed to load wasm binary file at '"+G+"'";return a.arrayBuffer()})["catch"](function(){return wa(G)}):(g||(g=b("Promise"))).resolve().then(function(){return wa(G)})}function ya(){var b={env:sb,wasi_snapshot_preview1:sb};function d(b,a){a=b.exports;c.asm=a;ba=c.asm.memory;ja();B=c.asm.__indirect_function_table;qa(c.asm.__wasm_call_ctors);E("wasm-instantiate")}ta("wasm-instantiate");function g(a){d(a.instance)}function i(a){return xa().then(function(a){return WebAssembly.instantiate(a,b)}).then(function(a){return a}).then(a,function(a){r("failed to asynchronously prepare wasm: "+a),F(a)})}function j(){if(!s&&typeof WebAssembly.instantiateStreaming=="function"&&!va(G)&&typeof fetch=="function")return fetch(G,{credentials:"same-origin"}).then(function(a){a=WebAssembly.instantiateStreaming(a,b);return a.then(g,function(a){r("wasm streaming compile failed: "+a);r("falling back to ArrayBuffer instantiation");return i(g)})});else return i(g)}if(c.instantiateWasm)try{var a=c.instantiateWasm(b,d);return a}catch(a){r("Module.instantiateWasm callback failed with error: "+a),h(a)}j()["catch"](h);return{}}var H,I;function za(a){while(a.length>0)a.shift()(c)}function Aa(a,b){b===void 0&&(b="i8");b.endsWith("*")&&(b="*");switch(b){case"i1":return x[a>>0];case"i8":return x[a>>0];case"i16":return ga[a>>1];case"i32":return z[a>>2];case"i64":return z[a>>2];case"float":return ha[a>>2];case"double":return ia[a>>3];case"*":return A[a>>2];default:F("invalid type for getValue: "+b)}return null}function Ba(a,b,c){c===void 0&&(c="i8");c.endsWith("*")&&(c="*");switch(c){case"i1":x[a>>0]=b;break;case"i8":x[a>>0]=b;break;case"i16":ga[a>>1]=b;break;case"i32":z[a>>2]=b;break;case"i64":I=[b>>>0,(H=b,+Math.abs(H)>=1?H>0?(Math.min(+Math.floor(H/4294967296),4294967295)|0)>>>0:~~+Math.ceil((H-+(~~H>>>0))/4294967296)>>>0:0)],z[a>>2]=I[0],z[a+4>>2]=I[1];break;case"float":ha[a>>2]=b;break;case"double":ia[a>>3]=b;break;case"*":A[a>>2]=b;break;default:F("invalid type for setValue: "+c)}}var Ca=0;function Da(a){this.excPtr=a,this.ptr=a-24,this.set_type=function(a){A[this.ptr+4>>2]=a},this.get_type=function(){return A[this.ptr+4>>2]},this.set_destructor=function(a){A[this.ptr+8>>2]=a},this.get_destructor=function(){return A[this.ptr+8>>2]},this.set_refcount=function(a){z[this.ptr>>2]=a},this.set_caught=function(a){a=a?1:0,x[this.ptr+12>>0]=a},this.get_caught=function(){return x[this.ptr+12>>0]!=0},this.set_rethrown=function(a){a=a?1:0,x[this.ptr+13>>0]=a},this.get_rethrown=function(){return x[this.ptr+13>>0]!=0},this.init=function(a,b){this.set_adjusted_ptr(0),this.set_type(a),this.set_destructor(b),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var a=z[this.ptr>>2];z[this.ptr>>2]=a+1},this.release_ref=function(){var a=z[this.ptr>>2];z[this.ptr>>2]=a-1;return a===1},this.set_adjusted_ptr=function(a){A[this.ptr+16>>2]=a},this.get_adjusted_ptr=function(){return A[this.ptr+16>>2]},this.get_exception_ptr=function(){var a=vb(this.get_type());if(a)return A[this.excPtr>>2];a=this.get_adjusted_ptr();return a!==0?a:this.excPtr}}function Ea(a){Ca||(Ca=a);throw a}function J(){var a=Ca;if(!a){X(0);return 0}var b=new Da(a);b.set_adjusted_ptr(a);var c=b.get_type();if(!c){X(0);return a}for(var d=0;d<arguments.length;d++){var e=arguments[d];if(e===0||e===c)break;var f=b.ptr+16;if(ub(e,c,f)){X(e);return a}}X(c);return a}i=J;var K={isAbs:function(a){return a.charAt(0)==="/"},splitPath:function(a){var b=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return b.exec(a).slice(1)},normalizeArray:function(a,b){var c=0;for(var d=a.length-1;d>=0;d--){var e=a[d];e==="."?a.splice(d,1):e===".."?(a.splice(d,1),c++):c&&(a.splice(d,1),c--)}if(b)for(;c;c--)a.unshift("..");return a},normalize:function(a){var b=K.isAbs(a),c=a.substr(-1)==="/";a=K.normalizeArray(a.split("/").filter(function(a){return!!a}),!b).join("/");!a&&!b&&(a=".");a&&c&&(a+="/");return(b?"/":"")+a},dirname:function(a){a=K.splitPath(a);var b=a[0];a=a[1];if(!b&&!a)return".";a&&(a=a.substr(0,a.length-1));return b+a},basename:function(a){if(a==="/")return"/";a=K.normalize(a);a=a.replace(/\/$/,"");var b=a.lastIndexOf("/");return b===-1?a:a.substr(b+1)},join:function(){var a=Array.prototype.slice.call(arguments);return K.normalize(a.join("/"))},join2:function(a,b){return K.normalize(a+"/"+b)}};function Fa(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var a=new Uint8Array(1);return function(){crypto.getRandomValues(a);return a[0]}}else return function(){return F("randomDevice")}}var L={resolve:function(){var a="",b=!1;for(var c=arguments.length-1;c>=-1&&!b;c--){var d=c>=0?arguments[c]:O.cwd();if(typeof d!="string")throw new TypeError("Arguments to path.resolve must be strings");else if(!d)return"";a=d+"/"+a;b=K.isAbs(d)}a=K.normalizeArray(a.split("/").filter(function(a){return!!a}),!b).join("/");return(b?"/":"")+a||"."},relative:function(a,b){a=L.resolve(a).substr(1);b=L.resolve(b).substr(1);function c(a){var b=0;for(;b<a.length;b++)if(a[b]!=="")break;var c=a.length-1;for(;c>=0;c--)if(a[c]!=="")break;return b>c?[]:a.slice(b,c-b+1)}a=c(a.split("/"));c=c(b.split("/"));b=Math.min(a.length,c.length);var d=b;for(var e=0;e<b;e++)if(a[e]!==c[e]){d=e;break}b=[];for(var e=d;e<a.length;e++)b.push("..");b=b.concat(c.slice(d));return b.join("/")}};function Ga(a,b,c){c=c>0?c:w(a)+1;c=new Array(c);a=v(a,c,0,c.length);b&&(c.length=a);return c}var M={ttys:[],init:function(){},shutdown:function(){},register:function(a,b){M.ttys[a]={input:[],output:[],ops:b},O.registerDevice(a,M.stream_ops)},stream_ops:{open:function(a){var b=M.ttys[a.node.rdev];if(!b)throw new O.ErrnoError(43);a.tty=b;a.seekable=!1},close:function(a){a.tty.ops.fsync(a.tty)},fsync:function(a){a.tty.ops.fsync(a.tty)},read:function(a,b,c,d,e){if(!a.tty||!a.tty.ops.get_char)throw new O.ErrnoError(60);e=0;for(var f=0;f<d;f++){var g;try{g=a.tty.ops.get_char(a.tty)}catch(a){throw new O.ErrnoError(29)}if(g===void 0&&e===0)throw new O.ErrnoError(6);if(g===null||g===void 0)break;e++;b[c+f]=g}e&&(a.node.timestamp=Date.now());return e},write:function(a,b,c,d,e){if(!a.tty||!a.tty.ops.put_char)throw new O.ErrnoError(60);try{for(var f=0;f<d;f++)a.tty.ops.put_char(a.tty,b[c+f])}catch(a){throw new O.ErrnoError(29)}d&&(a.node.timestamp=Date.now());return f}},default_tty_ops:{get_char:function(a){if(!a.input.length){var b=null;typeof window!="undefined"&&typeof window.prompt=="function"?(b=window.prompt("Input: "),b!==null&&(b+="\n")):typeof readline=="function"&&(b=readline(),b!==null&&(b+="\n"));if(!b)return null;a.input=Ga(b,!0)}return a.input.shift()},put_char:function(a,b){b===null||b===10?(q(t(a.output,0)),a.output=[]):b!=0&&a.output.push(b)},fsync:function(a){a.output&&a.output.length>0&&(q(t(a.output,0)),a.output=[])}},default_tty1_ops:{put_char:function(a,b){b===null||b===10?(r(t(a.output,0)),a.output=[]):b!=0&&a.output.push(b)},fsync:function(a){a.output&&a.output.length>0&&(r(t(a.output,0)),a.output=[])}}};function Ha(a){F()}var N={ops_table:null,mount:function(a){return N.createNode(null,"/",16384|511,0)},createNode:function(a,b,c,d){if(O.isBlkdev(c)||O.isFIFO(c))throw new O.ErrnoError(63);N.ops_table||(N.ops_table={dir:{node:{getattr:N.node_ops.getattr,setattr:N.node_ops.setattr,lookup:N.node_ops.lookup,mknod:N.node_ops.mknod,rename:N.node_ops.rename,unlink:N.node_ops.unlink,rmdir:N.node_ops.rmdir,readdir:N.node_ops.readdir,symlink:N.node_ops.symlink},stream:{llseek:N.stream_ops.llseek}},file:{node:{getattr:N.node_ops.getattr,setattr:N.node_ops.setattr},stream:{llseek:N.stream_ops.llseek,read:N.stream_ops.read,write:N.stream_ops.write,allocate:N.stream_ops.allocate,mmap:N.stream_ops.mmap,msync:N.stream_ops.msync}},link:{node:{getattr:N.node_ops.getattr,setattr:N.node_ops.setattr,readlink:N.node_ops.readlink},stream:{}},chrdev:{node:{getattr:N.node_ops.getattr,setattr:N.node_ops.setattr},stream:O.chrdev_stream_ops}});c=O.createNode(a,b,c,d);O.isDir(c.mode)?(c.node_ops=N.ops_table.dir.node,c.stream_ops=N.ops_table.dir.stream,c.contents={}):O.isFile(c.mode)?(c.node_ops=N.ops_table.file.node,c.stream_ops=N.ops_table.file.stream,c.usedBytes=0,c.contents=null):O.isLink(c.mode)?(c.node_ops=N.ops_table.link.node,c.stream_ops=N.ops_table.link.stream):O.isChrdev(c.mode)&&(c.node_ops=N.ops_table.chrdev.node,c.stream_ops=N.ops_table.chrdev.stream);c.timestamp=Date.now();a&&(a.contents[b]=c,a.timestamp=c.timestamp);return c},getFileDataAsTypedArray:function(a){if(!a.contents)return new Uint8Array(0);return a.contents.subarray?a.contents.subarray(0,a.usedBytes):new Uint8Array(a.contents)},expandFileStorage:function(a,b){var c=a.contents?a.contents.length:0;if(c>=b)return;var d=1024*1024;b=Math.max(b,c*(c<d?2:1.125)>>>0);c!=0&&(b=Math.max(b,256));d=a.contents;a.contents=new Uint8Array(b);a.usedBytes>0&&a.contents.set(d.subarray(0,a.usedBytes),0)},resizeFileStorage:function(a,b){if(a.usedBytes==b)return;if(b==0)a.contents=null,a.usedBytes=0;else{var c=a.contents;a.contents=new Uint8Array(b);c&&a.contents.set(c.subarray(0,Math.min(b,a.usedBytes)));a.usedBytes=b}},node_ops:{getattr:function(a){var b={};b.dev=O.isChrdev(a.mode)?a.id:1;b.ino=a.id;b.mode=a.mode;b.nlink=1;b.uid=0;b.gid=0;b.rdev=a.rdev;O.isDir(a.mode)?b.size=4096:O.isFile(a.mode)?b.size=a.usedBytes:O.isLink(a.mode)?b.size=a.link.length:b.size=0;b.atime=new Date(a.timestamp);b.mtime=new Date(a.timestamp);b.ctime=new Date(a.timestamp);b.blksize=4096;b.blocks=Math.ceil(b.size/b.blksize);return b},setattr:function(a,b){b.mode!==void 0&&(a.mode=b.mode),b.timestamp!==void 0&&(a.timestamp=b.timestamp),b.size!==void 0&&N.resizeFileStorage(a,b.size)},lookup:function(a,b){throw O.genericErrors[44]},mknod:function(a,b,c,d){return N.createNode(a,b,c,d)},rename:function(a,b,c){if(O.isDir(a.mode)){var d;try{d=O.lookupNode(b,c)}catch(a){}if(d)for(var e in d.contents)throw new O.ErrnoError(55)}delete a.parent.contents[a.name];a.parent.timestamp=Date.now();a.name=c;b.contents[c]=a;b.timestamp=a.parent.timestamp;a.parent=b},unlink:function(a,b){delete a.contents[b],a.timestamp=Date.now()},rmdir:function(a,b){var c=O.lookupNode(a,b);for(c in c.contents)throw new O.ErrnoError(55);delete a.contents[b];a.timestamp=Date.now()},readdir:function(a){var b=[".",".."];for(var c in a.contents){if(!Object.prototype.hasOwnProperty.call(a.contents,c))continue;b.push(c)}return b},symlink:function(a,b,c){a=N.createNode(a,b,511|40960,0);a.link=c;return a},readlink:function(a){if(!O.isLink(a.mode))throw new O.ErrnoError(28);return a.link}},stream_ops:{read:function(a,b,c,d,e){var f=a.node.contents;if(e>=a.node.usedBytes)return 0;a=Math.min(a.node.usedBytes-e,d);if(a>8&&f.subarray)b.set(f.subarray(e,e+a),c);else for(d=0;d<a;d++)b[c+d]=f[e+d];return a},write:function(a,b,c,d,e,f){if(!d)return 0;a=a.node;a.timestamp=Date.now();if(b.subarray&&(!a.contents||a.contents.subarray))if(f){a.contents=b.subarray(c,c+d);a.usedBytes=d;return d}else if(a.usedBytes===0&&e===0){a.contents=b.slice(c,c+d);a.usedBytes=d;return d}else if(e+d<=a.usedBytes){a.contents.set(b.subarray(c,c+d),e);return d}N.expandFileStorage(a,e+d);if(a.contents.subarray&&b.subarray)a.contents.set(b.subarray(c,c+d),e);else for(f=0;f<d;f++)a.contents[e+f]=b[c+f];a.usedBytes=Math.max(a.usedBytes,e+d);return d},llseek:function(a,b,c){b=b;c===1?b+=a.position:c===2&&(O.isFile(a.node.mode)&&(b+=a.node.usedBytes));if(b<0)throw new O.ErrnoError(28);return b},allocate:function(a,b,c){N.expandFileStorage(a.node,b+c),a.node.usedBytes=Math.max(a.node.usedBytes,b+c)},mmap:function(a,b,c,d,e){if(!O.isFile(a.node.mode))throw new O.ErrnoError(43);d=a.node.contents;if(!(e&2)&&d.buffer===x.buffer)a=!1,e=d.byteOffset;else{(c>0||c+b<d.length)&&(d.subarray?d=d.subarray(c,c+b):d=Array.prototype.slice.call(d,c,c+b));a=!0;e=Ha(b);if(!e)throw new O.ErrnoError(48);x.set(d,e)}return{ptr:e,allocated:a}},msync:function(a,b,c,d,e){N.stream_ops.write(a,b,0,d,c,!1);return 0}}};function Ia(a,b,c,d){var e=d?"":sa("al "+a);aa(a,function(c){da(c,'Loading data file "'+a+'" failed (no arrayBuffer).'),b(new Uint8Array(c)),e&&E(e)},function(b){if(c)c();else throw'Loading data file "'+a+'" failed.'});e&&ta(e)}var O={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(a,b){b===void 0&&(b={});a=L.resolve(a);if(!a)return{path:"",node:null};var c={follow_mount:!0,recurse_count:0};b=Object.assign(c,b);if(b.recurse_count>8)throw new O.ErrnoError(32);c=a.split("/").filter(function(a){return!!a});a=O.root;var d="/";for(var e=0;e<c.length;e++){var f=e===c.length-1;if(f&&b.parent)break;a=O.lookupNode(a,c[e]);d=K.join2(d,c[e]);O.isMountpoint(a)&&((!f||f&&b.follow_mount)&&(a=a.mounted.root));if(!f||b.follow){f=0;while(O.isLink(a.mode)){var g=O.readlink(d);d=L.resolve(K.dirname(d),g);g=O.lookupPath(d,{recurse_count:b.recurse_count+1});a=g.node;if(f++>40)throw new O.ErrnoError(32)}}}return{path:d,node:a}},getPath:function(a){var b;while(!0){if(O.isRoot(a)){var c=a.mount.mountpoint;return!b?c:c[c.length-1]!=="/"?c+"/"+b:c+b}b=b?a.name+"/"+b:a.name;a=a.parent}},hashName:function(a,b){var c=0;for(var d=0;d<b.length;d++)c=(c<<5)-c+b.charCodeAt(d)|0;return(a+c>>>0)%O.nameTable.length},hashAddNode:function(a){var b=O.hashName(a.parent.id,a.name);a.name_next=O.nameTable[b];O.nameTable[b]=a},hashRemoveNode:function(a){var b=O.hashName(a.parent.id,a.name);if(O.nameTable[b]===a)O.nameTable[b]=a.name_next;else{b=O.nameTable[b];while(b){if(b.name_next===a){b.name_next=a.name_next;break}b=b.name_next}}},lookupNode:function(a,b){var c=O.mayLookup(a);if(c)throw new O.ErrnoError(c,a);c=O.hashName(a.id,b);for(c=O.nameTable[c];c;c=c.name_next){var d=c.name;if(c.parent.id===a.id&&d===b)return c}return O.lookup(a,b)},createNode:function(a,b,c,d){a=new O.FSNode(a,b,c,d);O.hashAddNode(a);return a},destroyNode:function(a){O.hashRemoveNode(a)},isRoot:function(a){return a===a.parent},isMountpoint:function(a){return!!a.mounted},isFile:function(a){return(a&61440)===32768},isDir:function(a){return(a&61440)===16384},isLink:function(a){return(a&61440)===40960},isChrdev:function(a){return(a&61440)===8192},isBlkdev:function(a){return(a&61440)===24576},isFIFO:function(a){return(a&61440)===4096},isSocket:function(a){return(a&49152)===49152},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(a){var b=O.flagModes[a];if(typeof b=="undefined")throw new Error("Unknown file open mode: "+a);return b},flagsToPermissionString:function(a){var b=["r","w","rw"][a&3];a&512&&(b+="w");return b},nodePermissions:function(a,b){if(O.ignorePermissions)return 0;if(b.includes("r")&&!(a.mode&292))return 2;else if(b.includes("w")&&!(a.mode&146))return 2;else if(b.includes("x")&&!(a.mode&73))return 2;return 0},mayLookup:function(a){var b=O.nodePermissions(a,"x");if(b)return b;return!a.node_ops.lookup?2:0},mayCreate:function(a,b){try{O.lookupNode(a,b);return 20}catch(a){}return O.nodePermissions(a,"wx")},mayDelete:function(a,b,c){var d;try{d=O.lookupNode(a,b)}catch(a){return a.errno}b=O.nodePermissions(a,"wx");if(b)return b;if(c){if(!O.isDir(d.mode))return 54;if(O.isRoot(d)||O.getPath(d)===O.cwd())return 10}else if(O.isDir(d.mode))return 31;return 0},mayOpen:function(a,b){if(!a)return 44;if(O.isLink(a.mode))return 32;else if(O.isDir(a.mode)&&(O.flagsToPermissionString(b)!=="r"||b&512))return 31;return O.nodePermissions(a,O.flagsToPermissionString(b))},MAX_OPEN_FDS:4096,nextfd:function(a,b){a===void 0&&(a=0);b===void 0&&(b=O.MAX_OPEN_FDS);for(a=a;a<=b;a++)if(!O.streams[a])return a;throw new O.ErrnoError(33)},getStream:function(a){return O.streams[a]},createStream:function(a,b,c){O.FSStream||(O.FSStream=function(){this.shared={}},O.FSStream.prototype={},Object.defineProperties(O.FSStream.prototype,{object:{get:function(){return this.node},set:function(a){this.node=a}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}},flags:{get:function(){return this.shared.flags},set:function(a){this.shared.flags=a}},position:{get:function(){return this.shared.position},set:function(a){this.shared.position=a}}}));a=Object.assign(new O.FSStream(),a);b=O.nextfd(b,c);a.fd=b;O.streams[b]=a;return a},closeStream:function(a){O.streams[a]=null},chrdev_stream_ops:{open:function(a){var b=O.getDevice(a.node.rdev);a.stream_ops=b.stream_ops;a.stream_ops.open&&a.stream_ops.open(a)},llseek:function(){throw new O.ErrnoError(70)}},major:function(a){return a>>8},minor:function(a){return a&255},makedev:function(a,b){return a<<8|b},registerDevice:function(a,b){O.devices[a]={stream_ops:b}},getDevice:function(a){return O.devices[a]},getMounts:function(a){var b=[];a=[a];while(a.length){var c=a.pop();b.push(c);a.push.apply(a,c.mounts)}return b},syncfs:function(a,b){typeof a=="function"&&(b=a,a=!1);O.syncFSRequests++;O.syncFSRequests>1&&r("warning: "+O.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var c=O.getMounts(O.root.mount),d=0;function e(a){O.syncFSRequests--;return b(a)}function f(a){if(a){if(!f.errored){f.errored=!0;return e(a)}return}++d>=c.length&&e(null)}c.forEach(function(b){if(!b.type.syncfs)return f(null);b.type.syncfs(b,a,f)})},mount:function(a,b,c){var d=c==="/",e=!c,f;if(d&&O.root)throw new O.ErrnoError(10);else if(!d&&!e){e=O.lookupPath(c,{follow_mount:!1});c=e.path;f=e.node;if(O.isMountpoint(f))throw new O.ErrnoError(10);if(!O.isDir(f.mode))throw new O.ErrnoError(54)}e={type:a,opts:b,mountpoint:c,mounts:[]};b=a.mount(e);b.mount=e;e.root=b;d?O.root=b:f&&(f.mounted=e,f.mount&&f.mount.mounts.push(e));return b},unmount:function(a){a=O.lookupPath(a,{follow_mount:!1});if(!O.isMountpoint(a.node))throw new O.ErrnoError(28);a=a.node;var b=a.mounted,c=O.getMounts(b);Object.keys(O.nameTable).forEach(function(a){a=O.nameTable[a];while(a){var b=a.name_next;c.includes(a.mount)&&O.destroyNode(a);a=b}});a.mounted=null;b=a.mount.mounts.indexOf(b);a.mount.mounts.splice(b,1)},lookup:function(a,b){return a.node_ops.lookup(a,b)},mknod:function(a,b,c){var d=O.lookupPath(a,{parent:!0});d=d.node;a=K.basename(a);if(!a||a==="."||a==="..")throw new O.ErrnoError(28);var e=O.mayCreate(d,a);if(e)throw new O.ErrnoError(e);if(!d.node_ops.mknod)throw new O.ErrnoError(63);return d.node_ops.mknod(d,a,b,c)},create:function(a,b){b=b!==void 0?b:438;b&=4095;b|=32768;return O.mknod(a,b,0)},mkdir:function(a,b){b=b!==void 0?b:511;b&=511|512;b|=16384;return O.mknod(a,b,0)},mkdirTree:function(a,b){a=a.split("/");var c="";for(var d=0;d<a.length;++d){if(!a[d])continue;c+="/"+a[d];try{O.mkdir(c,b)}catch(a){if(a.errno!=20)throw a}}},mkdev:function(a,b,c){typeof c=="undefined"&&(c=b,b=438);b|=8192;return O.mknod(a,b,c)},symlink:function(a,b){if(!L.resolve(a))throw new O.ErrnoError(44);var c=O.lookupPath(b,{parent:!0});c=c.node;if(!c)throw new O.ErrnoError(44);b=K.basename(b);var d=O.mayCreate(c,b);if(d)throw new O.ErrnoError(d);if(!c.node_ops.symlink)throw new O.ErrnoError(63);return c.node_ops.symlink(c,b,a)},rename:function(a,b){var c=K.dirname(a),d=K.dirname(b),e=K.basename(a),f=K.basename(b),g,h;g=O.lookupPath(a,{parent:!0});h=g.node;g=O.lookupPath(b,{parent:!0});g=g.node;if(!h||!g)throw new O.ErrnoError(44);if(h.mount!==g.mount)throw new O.ErrnoError(75);var i=O.lookupNode(h,e);a=L.relative(a,d);if(a.charAt(0)!==".")throw new O.ErrnoError(28);a=L.relative(b,c);if(a.charAt(0)!==".")throw new O.ErrnoError(55);var j;try{j=O.lookupNode(g,f)}catch(a){}if(i===j)return;d=O.isDir(i.mode);b=O.mayDelete(h,e,d);if(b)throw new O.ErrnoError(b);b=j?O.mayDelete(g,f,d):O.mayCreate(g,f);if(b)throw new O.ErrnoError(b);if(!h.node_ops.rename)throw new O.ErrnoError(63);if(O.isMountpoint(i)||j&&O.isMountpoint(j))throw new O.ErrnoError(10);if(g!==h){b=O.nodePermissions(h,"w");if(b)throw new O.ErrnoError(b)}O.hashRemoveNode(i);try{h.node_ops.rename(i,g,f)}catch(a){throw a}finally{O.hashAddNode(i)}},rmdir:function(a){var b=O.lookupPath(a,{parent:!0});b=b.node;a=K.basename(a);var c=O.lookupNode(b,a),d=O.mayDelete(b,a,!0);if(d)throw new O.ErrnoError(d);if(!b.node_ops.rmdir)throw new O.ErrnoError(63);if(O.isMountpoint(c))throw new O.ErrnoError(10);b.node_ops.rmdir(b,a);O.destroyNode(c)},readdir:function(a){a=O.lookupPath(a,{follow:!0});a=a.node;if(!a.node_ops.readdir)throw new O.ErrnoError(54);return a.node_ops.readdir(a)},unlink:function(a){var b=O.lookupPath(a,{parent:!0});b=b.node;if(!b)throw new O.ErrnoError(44);a=K.basename(a);var c=O.lookupNode(b,a),d=O.mayDelete(b,a,!1);if(d)throw new O.ErrnoError(d);if(!b.node_ops.unlink)throw new O.ErrnoError(63);if(O.isMountpoint(c))throw new O.ErrnoError(10);b.node_ops.unlink(b,a);O.destroyNode(c)},readlink:function(a){a=O.lookupPath(a);a=a.node;if(!a)throw new O.ErrnoError(44);if(!a.node_ops.readlink)throw new O.ErrnoError(28);return L.resolve(O.getPath(a.parent),a.node_ops.readlink(a))},stat:function(a,b){a=O.lookupPath(a,{follow:!b});b=a.node;if(!b)throw new O.ErrnoError(44);if(!b.node_ops.getattr)throw new O.ErrnoError(63);return b.node_ops.getattr(b)},lstat:function(a){return O.stat(a,!0)},chmod:function(a,b,c){if(typeof a=="string"){c=O.lookupPath(a,{follow:!c});c=c.node}else c=a;if(!c.node_ops.setattr)throw new O.ErrnoError(63);c.node_ops.setattr(c,{mode:b&4095|c.mode&-4096,timestamp:Date.now()})},lchmod:function(a,b){O.chmod(a,b,!0)},fchmod:function(a,b){a=O.getStream(a);if(!a)throw new O.ErrnoError(8);O.chmod(a.node,b)},chown:function(a,b,c,d){if(typeof a=="string"){b=O.lookupPath(a,{follow:!d});c=b.node}else c=a;if(!c.node_ops.setattr)throw new O.ErrnoError(63);c.node_ops.setattr(c,{timestamp:Date.now()})},lchown:function(a,b,c){O.chown(a,b,c,!0)},fchown:function(a,b,c){a=O.getStream(a);if(!a)throw new O.ErrnoError(8);O.chown(a.node,b,c)},truncate:function(a,b){if(b<0)throw new O.ErrnoError(28);if(typeof a=="string"){var c=O.lookupPath(a,{follow:!0});c=c.node}else c=a;if(!c.node_ops.setattr)throw new O.ErrnoError(63);if(O.isDir(c.mode))throw new O.ErrnoError(31);if(!O.isFile(c.mode))throw new O.ErrnoError(28);a=O.nodePermissions(c,"w");if(a)throw new O.ErrnoError(a);c.node_ops.setattr(c,{size:b,timestamp:Date.now()})},ftruncate:function(a,b){a=O.getStream(a);if(!a)throw new O.ErrnoError(8);if((a.flags&2097155)===0)throw new O.ErrnoError(28);O.truncate(a.node,b)},utime:function(a,b,c){a=O.lookupPath(a,{follow:!0});a=a.node;a.node_ops.setattr(a,{timestamp:Math.max(b,c)})},open:function(a,b,d){if(a==="")throw new O.ErrnoError(44);b=typeof b=="string"?O.modeStringToFlags(b):b;d=typeof d=="undefined"?438:d;b&64?d=d&4095|32768:d=0;var e;if(typeof a=="object")e=a;else{a=K.normalize(a);try{var f=O.lookupPath(a,{follow:!(b&131072)});e=f.node}catch(a){}}f=!1;if(b&64)if(e){if(b&128)throw new O.ErrnoError(20)}else e=O.mknod(a,d,0),f=!0;if(!e)throw new O.ErrnoError(44);O.isChrdev(e.mode)&&(b&=-513);if(b&65536&&!O.isDir(e.mode))throw new O.ErrnoError(54);if(!f){d=O.mayOpen(e,b);if(d)throw new O.ErrnoError(d)}b&512&&!f&&O.truncate(e,0);b&=~(128|512|131072);d=O.createStream({node:e,path:O.getPath(e),flags:b,seekable:!0,position:0,stream_ops:e.stream_ops,ungotten:[],error:!1});d.stream_ops.open&&d.stream_ops.open(d);c.logReadFiles&&!(b&1)&&(O.readFiles||(O.readFiles={}),a in O.readFiles||(O.readFiles[a]=1));return d},close:function(a){if(O.isClosed(a))throw new O.ErrnoError(8);a.getdents&&(a.getdents=null);try{a.stream_ops.close&&a.stream_ops.close(a)}catch(a){throw a}finally{O.closeStream(a.fd)}a.fd=null},isClosed:function(a){return a.fd===null},llseek:function(a,b,c){if(O.isClosed(a))throw new O.ErrnoError(8);if(!a.seekable||!a.stream_ops.llseek)throw new O.ErrnoError(70);if(c!=0&&c!=1&&c!=2)throw new O.ErrnoError(28);a.position=a.stream_ops.llseek(a,b,c);a.ungotten=[];return a.position},read:function(a,b,c,d,e){if(d<0||e<0)throw new O.ErrnoError(28);if(O.isClosed(a))throw new O.ErrnoError(8);if((a.flags&2097155)===1)throw new O.ErrnoError(8);if(O.isDir(a.node.mode))throw new O.ErrnoError(31);if(!a.stream_ops.read)throw new O.ErrnoError(28);var f=typeof e!="undefined";if(!f)e=a.position;else if(!a.seekable)throw new O.ErrnoError(70);b=a.stream_ops.read(a,b,c,d,e);f||(a.position+=b);return b},write:function(a,b,c,d,e,f){if(d<0||e<0)throw new O.ErrnoError(28);if(O.isClosed(a))throw new O.ErrnoError(8);if((a.flags&2097155)===0)throw new O.ErrnoError(8);if(O.isDir(a.node.mode))throw new O.ErrnoError(31);if(!a.stream_ops.write)throw new O.ErrnoError(28);a.seekable&&a.flags&1024&&O.llseek(a,0,2);var g=typeof e!="undefined";if(!g)e=a.position;else if(!a.seekable)throw new O.ErrnoError(70);b=a.stream_ops.write(a,b,c,d,e,f);g||(a.position+=b);return b},allocate:function(a,b,c){if(O.isClosed(a))throw new O.ErrnoError(8);if(b<0||c<=0)throw new O.ErrnoError(28);if((a.flags&2097155)===0)throw new O.ErrnoError(8);if(!O.isFile(a.node.mode)&&!O.isDir(a.node.mode))throw new O.ErrnoError(43);if(!a.stream_ops.allocate)throw new O.ErrnoError(138);a.stream_ops.allocate(a,b,c)},mmap:function(a,b,c,d,e){if((d&2)!==0&&(e&2)===0&&(a.flags&2097155)!==2)throw new O.ErrnoError(2);if((a.flags&2097155)===1)throw new O.ErrnoError(2);if(!a.stream_ops.mmap)throw new O.ErrnoError(43);return a.stream_ops.mmap(a,b,c,d,e)},msync:function(a,b,c,d,e){return!a.stream_ops.msync?0:a.stream_ops.msync(a,b,c,d,e)},munmap:function(a){return 0},ioctl:function(a,b,c){if(!a.stream_ops.ioctl)throw new O.ErrnoError(59);return a.stream_ops.ioctl(a,b,c)},readFile:function(a,b){b===void 0&&(b={});b.flags=b.flags||0;b.encoding=b.encoding||"binary";if(b.encoding!=="utf8"&&b.encoding!=="binary")throw new Error('Invalid encoding type "'+b.encoding+'"');var c,d=O.open(a,b.flags);a=O.stat(a);a=a.size;var e=new Uint8Array(a);O.read(d,e,0,a,0);b.encoding==="utf8"?c=t(e,0):b.encoding==="binary"&&(c=e);O.close(d);return c},writeFile:function(a,b,c){c===void 0&&(c={});c.flags=c.flags||577;a=O.open(a,c.flags,c.mode);if(typeof b=="string"){var d=new Uint8Array(w(b)+1),e=v(b,d,0,d.length);O.write(a,d,0,e,void 0,c.canOwn)}else if(ArrayBuffer.isView(b))O.write(a,b,0,b.byteLength,void 0,c.canOwn);else throw new Error("Unsupported data type");O.close(a)},cwd:function(){return O.currentPath},chdir:function(a){a=O.lookupPath(a,{follow:!0});if(a.node===null)throw new O.ErrnoError(44);if(!O.isDir(a.node.mode))throw new O.ErrnoError(54);var b=O.nodePermissions(a.node,"x");if(b)throw new O.ErrnoError(b);O.currentPath=a.path},createDefaultDirectories:function(){O.mkdir("/tmp"),O.mkdir("/home"),O.mkdir("/home/web_user")},createDefaultDevices:function(){O.mkdir("/dev");O.registerDevice(O.makedev(1,3),{read:function(){return 0},write:function(a,b,c,d,e){return d}});O.mkdev("/dev/null",O.makedev(1,3));M.register(O.makedev(5,0),M.default_tty_ops);M.register(O.makedev(6,0),M.default_tty1_ops);O.mkdev("/dev/tty",O.makedev(5,0));O.mkdev("/dev/tty1",O.makedev(6,0));var a=Fa();O.createDevice("/dev","random",a);O.createDevice("/dev","urandom",a);O.mkdir("/dev/shm");O.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){O.mkdir("/proc");var a=O.mkdir("/proc/self");O.mkdir("/proc/self/fd");O.mount({mount:function(){var b=O.createNode(a,"fd",16384|511,73);b.node_ops={lookup:function(a,b){a=+b;var c=O.getStream(a);if(!c)throw new O.ErrnoError(8);b={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return c.path}}};b.parent=b;return b}};return b}},{},"/proc/self/fd")},createStandardStreams:function(){c.stdin?O.createDevice("/dev","stdin",c.stdin):O.symlink("/dev/tty","/dev/stdin"),c.stdout?O.createDevice("/dev","stdout",null,c.stdout):O.symlink("/dev/tty","/dev/stdout"),c.stderr?O.createDevice("/dev","stderr",null,c.stderr):O.symlink("/dev/tty1","/dev/stderr"),O.open("/dev/stdin",0),O.open("/dev/stdout",1),O.open("/dev/stderr",1)},ensureErrnoError:function(){if(O.ErrnoError)return;O.ErrnoError=function(a,b){this.node=b,this.setErrno=function(a){this.errno=a},this.setErrno(a),this.message="FS error"};O.ErrnoError.prototype=new Error();O.ErrnoError.prototype.constructor=O.ErrnoError;[44].forEach(function(a){O.genericErrors[a]=new O.ErrnoError(a),O.genericErrors[a].stack="<generic error, no stack>"})},staticInit:function(){O.ensureErrnoError(),O.nameTable=new Array(4096),O.mount(N,{},"/"),O.createDefaultDirectories(),O.createDefaultDevices(),O.createSpecialDirectories(),O.filesystems={MEMFS:N}},init:function(a,b,d){O.init.initialized=!0,O.ensureErrnoError(),c.stdin=a||c.stdin,c.stdout=b||c.stdout,c.stderr=d||c.stderr,O.createStandardStreams()},quit:function(){O.init.initialized=!1;for(var a=0;a<O.streams.length;a++){var b=O.streams[a];if(!b)continue;O.close(b)}},getMode:function(a,b){var c=0;a&&(c|=292|73);b&&(c|=146);return c},findObject:function(a,b){a=O.analyzePath(a,b);return!a.exists?null:a.object},analyzePath:function(a,b){try{var c=O.lookupPath(a,{follow:!b});a=c.path}catch(a){}var d={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var c=O.lookupPath(a,{parent:!0});d.parentExists=!0;d.parentPath=c.path;d.parentObject=c.node;d.name=K.basename(a);c=O.lookupPath(a,{follow:!b});d.exists=!0;d.path=c.path;d.object=c.node;d.name=c.node.name;d.isRoot=c.path==="/"}catch(a){d.error=a.errno}return d},createPath:function(a,b,c,d){a=typeof a=="string"?a:O.getPath(a);c=b.split("/").reverse();while(c.length){d=c.pop();if(!d)continue;var e=K.join2(a,d);try{O.mkdir(e)}catch(a){}a=e}return e},createFile:function(a,b,c,d,e){c=K.join2(typeof a=="string"?a:O.getPath(a),b);a=O.getMode(d,e);return O.create(c,a)},createDataFile:function(a,b,c,d,e,f){var g=b;a&&(a=typeof a=="string"?a:O.getPath(a),g=b?K.join2(a,b):a);b=O.getMode(d,e);a=O.create(g,b);if(c){if(typeof c=="string"){d=new Array(c.length);for(e=0,g=c.length;e<g;++e)d[e]=c.charCodeAt(e);c=d}O.chmod(a,b|146);e=O.open(a,577);O.write(e,c,0,c.length,0,f);O.close(e);O.chmod(a,b)}return a},createDevice:function(a,b,c,d){a=K.join2(typeof a=="string"?a:O.getPath(a),b);b=O.getMode(!!c,!!d);O.createDevice.major||(O.createDevice.major=64);var e=O.makedev(O.createDevice.major++,0);O.registerDevice(e,{open:function(a){a.seekable=!1},close:function(a){d&&d.buffer&&d.buffer.length&&d(10)},read:function(a,b,d,e,f){f=0;for(var g=0;g<e;g++){var h;try{h=c()}catch(a){throw new O.ErrnoError(29)}if(h===void 0&&f===0)throw new O.ErrnoError(6);if(h===null||h===void 0)break;f++;b[d+g]=h}f&&(a.node.timestamp=Date.now());return f},write:function(a,b,c,e,f){for(f=0;f<e;f++)try{d(b[c+f])}catch(a){throw new O.ErrnoError(29)}e&&(a.node.timestamp=Date.now());return f}});return O.mkdev(a,b,e)},forceLoadFile:function(a){if(a.isDevice||a.isFolder||a.link||a.contents)return!0;if(typeof XMLHttpRequest!="undefined")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");else if(o)try{a.contents=Ga(o(a.url),!0),a.usedBytes=a.contents.length}catch(a){throw new O.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:function(a,b,c,d,e){function f(){this.lengthKnown=!1,this.chunks=[]}f.prototype.get=function(a){if(a>this.length-1||a<0)return void 0;var b=a%this.chunkSize;a=a/this.chunkSize|0;return this.getter(a)[b]};f.prototype.setDataGetter=function(a){this.getter=a};f.prototype.cacheLength=function(){var a=new XMLHttpRequest();a.open("HEAD",c,!1);a.send(null);if(!(a.status>=200&&a.status<300||a.status===304))throw new Error("Couldn't load "+c+". Status: "+a.status);var b=Number(a.getResponseHeader("Content-length")),d,e=(d=a.getResponseHeader("Accept-Ranges"))&&d==="bytes";a=(d=a.getResponseHeader("Content-Encoding"))&&d==="gzip";var f=1024*1024;e||(f=b);var g=function(d,e){if(d>e)throw new Error("invalid range ("+d+", "+e+") or no bytes requested!");if(e>b-1)throw new Error("only "+b+" bytes available! programmer error!");var a=new XMLHttpRequest();a.open("GET",c,!1);b!==f&&a.setRequestHeader("Range","bytes="+d+"-"+e);a.responseType="arraybuffer";a.overrideMimeType&&a.overrideMimeType("text/plain; charset=x-user-defined");a.send(null);if(!(a.status>=200&&a.status<300||a.status===304))throw new Error("Couldn't load "+c+". Status: "+a.status);return a.response!==void 0?new Uint8Array(a.response||[]):Ga(a.responseText||"",!0)},h=this;h.setDataGetter(function(a){var c=a*f,d=(a+1)*f-1;d=Math.min(d,b-1);typeof h.chunks[a]=="undefined"&&(h.chunks[a]=g(c,d));if(typeof h.chunks[a]=="undefined")throw new Error("doXHR failed!");return h.chunks[a]});(a||!b)&&(f=b=1,b=this.getter(0).length,f=b,q("LazyFiles on gzip forces download of the whole file when length is accessed"));this._length=b;this._chunkSize=f;this.lengthKnown=!0};if(typeof XMLHttpRequest!="undefined"){if(!l)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";f=new f();Object.defineProperties(f,{length:{get:function(){this.lengthKnown||this.cacheLength();return this._length}},chunkSize:{get:function(){this.lengthKnown||this.cacheLength();return this._chunkSize}}});f={isDevice:!1,contents:f}}else var f={isDevice:!1,url:c};var g=O.createFile(a,b,f,d,e);f.contents?g.contents=f.contents:f.url&&(g.contents=null,g.url=f.url);Object.defineProperties(g,{usedBytes:{get:function(){return this.contents.length}}});var h={};a=Object.keys(g.stream_ops);a.forEach(function(a){var b=g.stream_ops[a];h[a]=function(){O.forceLoadFile(g);return b.apply(null,arguments)}});function i(a,b,c,d,e){a=a.node.contents;if(e>=a.length)return 0;d=Math.min(a.length-e,d);if(a.slice)for(var f=0;f<d;f++)b[c+f]=a[e+f];else for(var f=0;f<d;f++)b[c+f]=a.get(e+f);return d}h.read=function(a,b,c,d,e){O.forceLoadFile(g);return i(a,b,c,d,e)};h.mmap=function(a,b,c,d,e){O.forceLoadFile(g);d=Ha(b);if(!d)throw new O.ErrnoError(48);i(a,x,d,b,c);return{ptr:d,allocated:!0}};g.stream_ops=h;return g},createPreloadedFile:function(a,b,c,d,e,f,g,h,i,j){var k=b?L.resolve(K.join2(a,b)):a,l=sa("cp "+k);function m(c){function m(c){j&&j(),h||O.createDataFile(a,b,c,d,e,i),f&&f(),E(l)}if(Browser.handledByPreloadPlugin(c,k,m,function(){g&&g(),E(l)}))return;m(c)}ta(l);typeof c=="string"?Ia(c,function(a){return m(a)},g):m(c)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(a,b,c){b===void 0&&(b=function(){});c===void 0&&(c=function(){});var d=O.indexedDB();try{var e=d.open(O.DB_NAME(),O.DB_VERSION)}catch(a){return c(a)}e.onupgradeneeded=function(){q("creating db");var a=e.result;a.createObjectStore(O.DB_STORE_NAME)};e.onsuccess=function(){var d=e.result;d=d.transaction([O.DB_STORE_NAME],"readwrite");var f=d.objectStore(O.DB_STORE_NAME),g=0,h=0,i=a.length;function j(){h==0?b():c()}a.forEach(function(a){a=f.put(O.analyzePath(a).object.contents,a);a.onsuccess=function(){g++,g+h==i&&j()};a.onerror=function(){h++,g+h==i&&j()}});d.onerror=c};e.onerror=c},loadFilesFromDB:function(a,b,c){b===void 0&&(b=function(){});c===void 0&&(c=function(){});var d=O.indexedDB();try{var e=d.open(O.DB_NAME(),O.DB_VERSION)}catch(a){return c(a)}e.onupgradeneeded=c;e.onsuccess=function(){var d=e.result;try{var f=d.transaction([O.DB_STORE_NAME],"readonly")}catch(a){c(a);return}var g=f.objectStore(O.DB_STORE_NAME),h=0,i=0,j=a.length;function k(){i==0?b():c()}a.forEach(function(a){var b=g.get(a);b.onsuccess=function(){O.analyzePath(a).exists&&O.unlink(a),O.createDataFile(K.dirname(a),K.basename(a),b.result,!0,!0,!0),h++,h+i==j&&k()};b.onerror=function(){i++,h+i==j&&k()}});f.onerror=c};e.onerror=c}},P={DEFAULT_POLLMASK:5,calculateAt:function(a,b,c){if(K.isAbs(b))return b;var d;if(a===-100)d=O.cwd();else{a=P.getStreamFromFD(a);d=a.path}if(b.length==0){if(!c)throw new O.ErrnoError(44);return d}return K.join2(d,b)},doStat:function(a,b,c){try{var d=a(b)}catch(a){if(a&&a.node&&K.normalize(b)!==K.normalize(O.getPath(a.node)))return-54;throw a}z[c>>2]=d.dev;z[c+8>>2]=d.ino;z[c+12>>2]=d.mode;A[c+16>>2]=d.nlink;z[c+20>>2]=d.uid;z[c+24>>2]=d.gid;z[c+28>>2]=d.rdev;I=[d.size>>>0,(H=d.size,+Math.abs(H)>=1?H>0?(Math.min(+Math.floor(H/4294967296),4294967295)|0)>>>0:~~+Math.ceil((H-+(~~H>>>0))/4294967296)>>>0:0)],z[c+40>>2]=I[0],z[c+44>>2]=I[1];z[c+48>>2]=4096;z[c+52>>2]=d.blocks;a=d.atime.getTime();b=d.mtime.getTime();var e=d.ctime.getTime();I=[Math.floor(a/1e3)>>>0,(H=Math.floor(a/1e3),+Math.abs(H)>=1?H>0?(Math.min(+Math.floor(H/4294967296),4294967295)|0)>>>0:~~+Math.ceil((H-+(~~H>>>0))/4294967296)>>>0:0)],z[c+56>>2]=I[0],z[c+60>>2]=I[1];A[c+64>>2]=a%1e3*1e3;I=[Math.floor(b/1e3)>>>0,(H=Math.floor(b/1e3),+Math.abs(H)>=1?H>0?(Math.min(+Math.floor(H/4294967296),4294967295)|0)>>>0:~~+Math.ceil((H-+(~~H>>>0))/4294967296)>>>0:0)],z[c+72>>2]=I[0],z[c+76>>2]=I[1];A[c+80>>2]=b%1e3*1e3;I=[Math.floor(e/1e3)>>>0,(H=Math.floor(e/1e3),+Math.abs(H)>=1?H>0?(Math.min(+Math.floor(H/4294967296),4294967295)|0)>>>0:~~+Math.ceil((H-+(~~H>>>0))/4294967296)>>>0:0)],z[c+88>>2]=I[0],z[c+92>>2]=I[1];A[c+96>>2]=e%1e3*1e3;I=[d.ino>>>0,(H=d.ino,+Math.abs(H)>=1?H>0?(Math.min(+Math.floor(H/4294967296),4294967295)|0)>>>0:~~+Math.ceil((H-+(~~H>>>0))/4294967296)>>>0:0)],z[c+104>>2]=I[0],z[c+108>>2]=I[1];return 0},doMsync:function(a,b,c,d,e){if(!O.isFile(b.node.mode))throw new O.ErrnoError(43);if(d&2)return 0;a=y.slice(a,a+c);O.msync(b,a,e,c,d)},varargs:void 0,get:function(){P.varargs+=4;var a=z[P.varargs-4>>2];return a},getStr:function(a){a=u(a);return a},getStreamFromFD:function(a){a=O.getStream(a);if(!a)throw new O.ErrnoError(8);return a}};function Ja(a,b){try{a=P.getStreamFromFD(a);return P.doStat(O.stat,a.path,b)}catch(a){if(typeof O=="undefined"||!(a instanceof O.ErrnoError))throw a;return-a.errno}}function Ka(a,b){try{if(b===0)return-28;var c=O.cwd(),d=w(c)+1;if(b<d)return-68;fa(c,a,b);return d}catch(a){if(typeof O=="undefined"||!(a instanceof O.ErrnoError))throw a;return-a.errno}}function La(a,b){try{a=P.getStr(a);return P.doStat(O.lstat,a,b)}catch(a){if(typeof O=="undefined"||!(a instanceof O.ErrnoError))throw a;return-a.errno}}function Ma(a,b,c,d){try{b=P.getStr(b);var e=d&256,f=d&4096;d=d&-6401;b=P.calculateAt(a,b,f);return P.doStat(e?O.lstat:O.stat,b,c)}catch(a){if(typeof O=="undefined"||!(a instanceof O.ErrnoError))throw a;return-a.errno}}function Na(a,b,c,d){P.varargs=d;try{b=P.getStr(b);b=P.calculateAt(a,b);a=d?P.get():0;return O.open(b,c,a).fd}catch(a){if(typeof O=="undefined"||!(a instanceof O.ErrnoError))throw a;return-a.errno}}function Oa(a,b){try{a=P.getStr(a);return P.doStat(O.stat,a,b)}catch(a){if(typeof O=="undefined"||!(a instanceof O.ErrnoError))throw a;return-a.errno}}var Pa=!0;function Qa(){return Pa}function Ra(){F("")}function Sa(){return Date.now()}n=function(){return performance.now()};function Ta(a,b,c){y.copyWithin(a,b,b+c)}function Ua(a){y.length;a>>>0;return!1}var Va={};function Wa(){return j||"./this.program"}function Q(){if(!Q.strings){var a=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8";a={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:a,_:Wa()};for(var b in Va)Va[b]===void 0?delete a[b]:a[b]=Va[b];var c=[];for(var b in a)c.push(b+"="+a[b]);Q.strings=c}return Q.strings}function Xa(a,b,c){for(var d=0;d<a.length;++d)x[b++>>0]=a.charCodeAt(d);c||(x[b>>0]=0)}function Ya(a,b){var c=0;Q().forEach(function(d,e){var f=b+c;A[a+e*4>>2]=f;Xa(d,f);c+=d.length+1});return 0}function Za(a,b){var c=Q();A[a>>2]=c.length;var d=0;c.forEach(function(a){d+=a.length+1});A[b>>2]=d;return 0}function $a(a){try{a=P.getStreamFromFD(a);O.close(a);return 0}catch(a){if(typeof O=="undefined"||!(a instanceof O.ErrnoError))throw a;return a.errno}}function ab(a,b,c,d){var e=0;for(var f=0;f<c;f++){var g=A[b>>2],h=A[b+4>>2];b+=8;g=O.read(a,x,g,h,d);if(g<0)return-1;e+=g;if(g<h)break;typeof d!=="undefined"&&(d+=g)}return e}function bb(a,b,c,d){try{a=P.getStreamFromFD(a);a=ab(a,b,c);A[d>>2]=a;return 0}catch(a){if(typeof O=="undefined"||!(a instanceof O.ErrnoError))throw a;return a.errno}}function cb(a,b,c,d){var e=0;for(var f=0;f<c;f++){var g=A[b>>2],h=A[b+4>>2];b+=8;g=O.write(a,x,g,h,d);if(g<0)return-1;e+=g;typeof d!=="undefined"&&(d+=g)}return e}function db(a,b,c,d){try{a=P.getStreamFromFD(a);a=cb(a,b,c);A[d>>2]=a;return 0}catch(a){if(typeof O=="undefined"||!(a instanceof O.ErrnoError))throw a;return a.errno}}function R(a,b){R.randomDevice||(R.randomDevice=Fa());for(var c=0;c<b;c++)x[a+c>>0]=R.randomDevice();return 0}function S(a){return B.get(a)}function eb(a,b){a<128?b.push(a):b.push(a%128|128,a>>7)}function fb(a){var b={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},c={parameters:[],results:a[0]=="v"?[]:[b[a[0]]]};for(var d=1;d<a.length;++d)c.parameters.push(b[a[d]]),a[d]==="j"&&c.parameters.push("i32");return c}function gb(a,b){var c=a.slice(0,1);a=a.slice(1);var d={i:127,p:127,j:126,f:125,d:124};b.push(96);eb(a.length,b);for(var e=0;e<a.length;++e)b.push(d[a[e]]);c=="v"?b.push(0):b.push(1,d[c])}function hb(a,b){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(fb(b),a);var c=[1];gb(b,c);b=[0,97,115,109,1,0,0,0,1];eb(c.length,b);b.push.apply(b,c);b.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);c=new WebAssembly.Module(new Uint8Array(b));b=new WebAssembly.Instance(c,{e:{f:a}});c=b.exports.f;return c}function ib(a,b){if(T)for(var c=a;c<a+b;c++){var d=S(c);d&&T.set(d,c)}}var T=void 0;function jb(a){T||(T=new WeakMap(),ib(0,B.length));return T.get(a)||0}var kb=[];function lb(){if(kb.length)return kb.pop();try{B.grow(1)}catch(a){if(!(a instanceof RangeError))throw a;throw"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH."}return B.length-1}function mb(a,b){B.set(a,b)}function nb(a,b){var c=jb(a);if(c)return c;c=lb();try{mb(c,a)}catch(d){if(!(d instanceof TypeError))throw d;b=hb(a,b);mb(c,b)}T.set(a,c);return c}function ob(a){T["delete"](S(a)),kb.push(a)}function pb(a){a=c["_"+a];return a}function qb(a,b){x.set(a,b)}function rb(a,b,c,d,e){var f={string:function(a){var b=0;if(a!==null&&a!==void 0&&a!==0){var c=(a.length<<2)+1;b=tb(c);fa(a,b,c)}return b},array:function(a){var b=tb(a.length);qb(a,b);return b}};function g(a){if(b==="string")return u(a);return b==="boolean"?Boolean(a):a}a=pb(a);var h=[],i=0;if(d)for(var j=0;j<d.length;j++){var k=f[c[j]];k?(i===0&&(i=Y()),h[j]=k(d[j])):h[j]=d[j]}k=a.apply(null,h);function e(a){i!==0&&Z(i);return g(a)}k=e(k);return k}J=function(a,b,c,d){a||(a=this),this.parent=a,this.mount=a.mount,this.mounted=null,this.id=O.nextInode++,this.name=b,this.mode=c,this.node_ops={},this.stream_ops={},this.rdev=d};var U=292|73,V=146;Object.defineProperties(J.prototype,{read:{get:function(){return(this.mode&U)===U},set:function(a){a?this.mode|=U:this.mode&=~U}},write:{get:function(){return(this.mode&V)===V},set:function(a){a?this.mode|=V:this.mode&=~V}},isFolder:{get:function(){return O.isDir(this.mode)}},isDevice:{get:function(){return O.isChrdev(this.mode)}}});O.FSNode=J;O.staticInit();var sb={__cxa_find_matching_catch_2:i,__resumeException:Ea,__syscall_fstat64:Ja,__syscall_getcwd:Ka,__syscall_lstat64:La,__syscall_newfstatat:Ma,__syscall_openat:Na,__syscall_stat64:Oa,_emscripten_get_now_is_monotonic:Qa,abort:Ra,emscripten_date_now:Sa,emscripten_get_now:n,emscripten_memcpy_big:Ta,emscripten_resize_heap:Ua,environ_get:Ya,environ_sizes_get:Za,fd_close:$a,fd_read:bb,fd_write:db,getentropy:R,invoke_ii:Ab,invoke_iiii:Fb,invoke_iiiii:xb,invoke_iiiiii:Gb,invoke_iiiiiiii:Db,invoke_v:Cb,invoke_vi:wb,invoke_vii:yb,invoke_viii:zb,invoke_viiii:Eb,invoke_viiiii:Bb,invoke_viiiiii:Hb};ya();(function(){return c.asm.__wasm_call_ctors.apply(null,arguments)});c._SmaxAutomaticRunnerBuilderCreate=function(){return(c._SmaxAutomaticRunnerBuilderCreate=c.asm.SmaxAutomaticRunnerBuilderCreate).apply(null,arguments)};c._SmaxManualRunnerBuilderCreate=function(){return(c._SmaxManualRunnerBuilderCreate=c.asm.SmaxManualRunnerBuilderCreate).apply(null,arguments)};c._SmaxRunnerBuilderAddVariable=function(){return(c._SmaxRunnerBuilderAddVariable=c.asm.SmaxRunnerBuilderAddVariable).apply(null,arguments)};c._SmaxRunnerBuilderAddResponseMapping=function(){return(c._SmaxRunnerBuilderAddResponseMapping=c.asm.SmaxRunnerBuilderAddResponseMapping).apply(null,arguments)};c._SmaxRunnerBuilderAddMockFile=function(){return(c._SmaxRunnerBuilderAddMockFile=c.asm.SmaxRunnerBuilderAddMockFile).apply(null,arguments)};c._SmaxRunnerBuilderAddIdentityFolder=function(){return(c._SmaxRunnerBuilderAddIdentityFolder=c.asm.SmaxRunnerBuilderAddIdentityFolder).apply(null,arguments)};c._SmaxRunnerBuilderAddFileRepo=function(){return(c._SmaxRunnerBuilderAddFileRepo=c.asm.SmaxRunnerBuilderAddFileRepo).apply(null,arguments)};c._SmaxRunnerBuilderAddDeviceJid=function(){return(c._SmaxRunnerBuilderAddDeviceJid=c.asm.SmaxRunnerBuilderAddDeviceJid).apply(null,arguments)};c._SmaxRunnerBuilderAddLidUserJid=function(){return(c._SmaxRunnerBuilderAddLidUserJid=c.asm.SmaxRunnerBuilderAddLidUserJid).apply(null,arguments)};c._SmaxRunnerBuilderSetDictionaryVersion=function(){return(c._SmaxRunnerBuilderSetDictionaryVersion=c.asm.SmaxRunnerBuilderSetDictionaryVersion).apply(null,arguments)};c._SmaxRunnerBuilderAddDefaultIdentityName=function(){return(c._SmaxRunnerBuilderAddDefaultIdentityName=c.asm.SmaxRunnerBuilderAddDefaultIdentityName).apply(null,arguments)};c._SmaxRunnerBuilderAddRunnerMode=function(){return(c._SmaxRunnerBuilderAddRunnerMode=c.asm.SmaxRunnerBuilderAddRunnerMode).apply(null,arguments)};c._SmaxRunnerBuilderAddStoredMutationsProvider=function(){return(c._SmaxRunnerBuilderAddStoredMutationsProvider=c.asm.SmaxRunnerBuilderAddStoredMutationsProvider).apply(null,arguments)};c._SmaxRunnerBuilderBuild=function(){return(c._SmaxRunnerBuilderBuild=c.asm.SmaxRunnerBuilderBuild).apply(null,arguments)};c._SmaxRunnerBuilderFree=function(){return(c._SmaxRunnerBuilderFree=c.asm.SmaxRunnerBuilderFree).apply(null,arguments)};c._SmaxEventReaderCreate=function(){return(c._SmaxEventReaderCreate=c.asm.SmaxEventReaderCreate).apply(null,arguments)};c._SmaxEventReaderNextEvent=function(){return(c._SmaxEventReaderNextEvent=c.asm.SmaxEventReaderNextEvent).apply(null,arguments)};c._SmaxEventReaderFree=function(){return(c._SmaxEventReaderFree=c.asm.SmaxEventReaderFree).apply(null,arguments)};c._SmaxBinaryStanzaConnectionCreate=function(){return(c._SmaxBinaryStanzaConnectionCreate=c.asm.SmaxBinaryStanzaConnectionCreate).apply(null,arguments)};c._SmaxBinaryStanzaReaderNextStanzaBytes=function(){return(c._SmaxBinaryStanzaReaderNextStanzaBytes=c.asm.SmaxBinaryStanzaReaderNextStanzaBytes).apply(null,arguments)};c._SmaxBinaryStanzaReaderFree=function(){return(c._SmaxBinaryStanzaReaderFree=c.asm.SmaxBinaryStanzaReaderFree).apply(null,arguments)};c._SmaxBinaryStanzaFree=function(){return(c._SmaxBinaryStanzaFree=c.asm.SmaxBinaryStanzaFree).apply(null,arguments)};c._SmaxBinaryStanzaWriterWriteStanzaBytes=function(){return(c._SmaxBinaryStanzaWriterWriteStanzaBytes=c.asm.SmaxBinaryStanzaWriterWriteStanzaBytes).apply(null,arguments)};c._SmaxBinaryStanzaWriterFree=function(){return(c._SmaxBinaryStanzaWriterFree=c.asm.SmaxBinaryStanzaWriterFree).apply(null,arguments)};c._SmaxRunnerErrorFree=function(){return(c._SmaxRunnerErrorFree=c.asm.SmaxRunnerErrorFree).apply(null,arguments)};c._SmaxFlipperConnectionCreate=function(){return(c._SmaxFlipperConnectionCreate=c.asm.SmaxFlipperConnectionCreate).apply(null,arguments)};c._SmaxFlipperConnectionConnect=function(){return(c._SmaxFlipperConnectionConnect=c.asm.SmaxFlipperConnectionConnect).apply(null,arguments)};c._SmaxFlipperConnectionFree=function(){return(c._SmaxFlipperConnectionFree=c.asm.SmaxFlipperConnectionFree).apply(null,arguments)};c._SmaxFlipperPluginBackendCreate=function(){return(c._SmaxFlipperPluginBackendCreate=c.asm.SmaxFlipperPluginBackendCreate).apply(null,arguments)};c._SmaxFlipperPluginBackendHandleRpc=function(){return(c._SmaxFlipperPluginBackendHandleRpc=c.asm.SmaxFlipperPluginBackendHandleRpc).apply(null,arguments)};c._SmaxFlipperPluginBackendFreeResponse=function(){return(c._SmaxFlipperPluginBackendFreeResponse=c.asm.SmaxFlipperPluginBackendFreeResponse).apply(null,arguments)};c._SmaxFlipperPluginBackendFree=function(){return(c._SmaxFlipperPluginBackendFree=c.asm.SmaxFlipperPluginBackendFree).apply(null,arguments)};c._SmaxEnableLogger=function(){return(c._SmaxEnableLogger=c.asm.SmaxEnableLogger).apply(null,arguments)};c._SmaxRunnerEventsGetEventType=function(){return(c._SmaxRunnerEventsGetEventType=c.asm.SmaxRunnerEventsGetEventType).apply(null,arguments)};c._SmaxRunnerEventsFree=function(){return(c._SmaxRunnerEventsFree=c.asm.SmaxRunnerEventsFree).apply(null,arguments)};c._SmaxRunnerEventsGetInjectionEvent=function(){return(c._SmaxRunnerEventsGetInjectionEvent=c.asm.SmaxRunnerEventsGetInjectionEvent).apply(null,arguments)};c._SmaxRunnerEventsGetInjectionToServerEvent=function(){return(c._SmaxRunnerEventsGetInjectionToServerEvent=c.asm.SmaxRunnerEventsGetInjectionToServerEvent).apply(null,arguments)};c._SmaxRunnerEventsGetMockCompletedEvent=function(){return(c._SmaxRunnerEventsGetMockCompletedEvent=c.asm.SmaxRunnerEventsGetMockCompletedEvent).apply(null,arguments)};c._SmaxRunnerEventsGetSequenceCompletedEvent=function(){return(c._SmaxRunnerEventsGetSequenceCompletedEvent=c.asm.SmaxRunnerEventsGetSequenceCompletedEvent).apply(null,arguments)};c._SmaxRunnerEventsGetMockRequestMatchedEvent=function(){return(c._SmaxRunnerEventsGetMockRequestMatchedEvent=c.asm.SmaxRunnerEventsGetMockRequestMatchedEvent).apply(null,arguments)};c._SmaxPaymentsMockNotificationsCount=function(){return(c._SmaxPaymentsMockNotificationsCount=c.asm.SmaxPaymentsMockNotificationsCount).apply(null,arguments)};c._SmaxPaymentsMockNotificationsAttributeCount=function(){return(c._SmaxPaymentsMockNotificationsAttributeCount=c.asm.SmaxPaymentsMockNotificationsAttributeCount).apply(null,arguments)};c._SmaxPaymentsMockNotificationsGetAttributes=function(){return(c._SmaxPaymentsMockNotificationsGetAttributes=c.asm.SmaxPaymentsMockNotificationsGetAttributes).apply(null,arguments)};c._SmaxPaymentsMockNotificationsFree=function(){return(c._SmaxPaymentsMockNotificationsFree=c.asm.SmaxPaymentsMockNotificationsFree).apply(null,arguments)};c._SmaxRunnerPreKeyBundleFree=function(){return(c._SmaxRunnerPreKeyBundleFree=c.asm.SmaxRunnerPreKeyBundleFree).apply(null,arguments)};c._SmaxRunnerSequenceCollectionViewFree=function(){return(c._SmaxRunnerSequenceCollectionViewFree=c.asm.SmaxRunnerSequenceCollectionViewFree).apply(null,arguments)};c._SmaxAutomaticMockRunnerSend=function(){return(c._SmaxAutomaticMockRunnerSend=c.asm.SmaxAutomaticMockRunnerSend).apply(null,arguments)};c._SmaxAutomaticMockRunnerStart=function(){return(c._SmaxAutomaticMockRunnerStart=c.asm.SmaxAutomaticMockRunnerStart).apply(null,arguments)};c._SmaxAutomaticMockRunnerMatchServerStanza=function(){return(c._SmaxAutomaticMockRunnerMatchServerStanza=c.asm.SmaxAutomaticMockRunnerMatchServerStanza).apply(null,arguments)};c._SmaxManualMockRunnerStart=function(){return(c._SmaxManualMockRunnerStart=c.asm.SmaxManualMockRunnerStart).apply(null,arguments)};c._SmaxManualMockRunnerStartAndInject=function(){return(c._SmaxManualMockRunnerStartAndInject=c.asm.SmaxManualMockRunnerStartAndInject).apply(null,arguments)};c._SmaxManualMockRunnerNext=function(){return(c._SmaxManualMockRunnerNext=c.asm.SmaxManualMockRunnerNext).apply(null,arguments)};c._SmaxMockRunnerMatchStanza=function(){return(c._SmaxMockRunnerMatchStanza=c.asm.SmaxMockRunnerMatchStanza).apply(null,arguments)};c._SmaxMockRunnerComplete=function(){return(c._SmaxMockRunnerComplete=c.asm.SmaxMockRunnerComplete).apply(null,arguments)};c._SmaxMockRunnerSetVariable=function(){return(c._SmaxMockRunnerSetVariable=c.asm.SmaxMockRunnerSetVariable).apply(null,arguments)};c._SmaxMockRunnerAddResponseMapping=function(){return(c._SmaxMockRunnerAddResponseMapping=c.asm.SmaxMockRunnerAddResponseMapping).apply(null,arguments)};c._SmaxMockRunnerSetDeviceJID=function(){return(c._SmaxMockRunnerSetDeviceJID=c.asm.SmaxMockRunnerSetDeviceJID).apply(null,arguments)};c._SmaxMockRunnerSetLidUserJID=function(){return(c._SmaxMockRunnerSetLidUserJID=c.asm.SmaxMockRunnerSetLidUserJID).apply(null,arguments)};c._SmaxMockRunnerSetAddressName=function(){return(c._SmaxMockRunnerSetAddressName=c.asm.SmaxMockRunnerSetAddressName).apply(null,arguments)};c._SmaxMockRunnerSetDefaultIdentityName=function(){return(c._SmaxMockRunnerSetDefaultIdentityName=c.asm.SmaxMockRunnerSetDefaultIdentityName).apply(null,arguments)};c._SmaxMockRunnerProcessPreKeyBundleByAddress=function(){return(c._SmaxMockRunnerProcessPreKeyBundleByAddress=c.asm.SmaxMockRunnerProcessPreKeyBundleByAddress).apply(null,arguments)};c._SmaxMockRunnerProcessPreKeyBundle=function(){return(c._SmaxMockRunnerProcessPreKeyBundle=c.asm.SmaxMockRunnerProcessPreKeyBundle).apply(null,arguments)};c._SmaxMockRunnerGetPreKeyBundleForIdentity=function(){return(c._SmaxMockRunnerGetPreKeyBundleForIdentity=c.asm.SmaxMockRunnerGetPreKeyBundleForIdentity).apply(null,arguments)};c._SmaxMockRunnerAddSyncdKey=function(){return(c._SmaxMockRunnerAddSyncdKey=c.asm.SmaxMockRunnerAddSyncdKey).apply(null,arguments)};c._SmaxMockRunnerOverrideFunction=function(){return(c._SmaxMockRunnerOverrideFunction=c.asm.SmaxMockRunnerOverrideFunction).apply(null,arguments)};c._SmaxMockRunnerGetPaymentsMockNotificationsFeatures=function(){return(c._SmaxMockRunnerGetPaymentsMockNotificationsFeatures=c.asm.SmaxMockRunnerGetPaymentsMockNotificationsFeatures).apply(null,arguments)};c._SmaxMockRunnerGetSequenceCollection=function(){return(c._SmaxMockRunnerGetSequenceCollection=c.asm.SmaxMockRunnerGetSequenceCollection).apply(null,arguments)};c._SmaxMockRunnerAddMockFile=function(){return(c._SmaxMockRunnerAddMockFile=c.asm.SmaxMockRunnerAddMockFile).apply(null,arguments)};c._SmaxMockRunnerRegisterListener=function(){return(c._SmaxMockRunnerRegisterListener=c.asm.SmaxMockRunnerRegisterListener).apply(null,arguments)};c._SmaxMockRunnerDeregisterListener=function(){return(c._SmaxMockRunnerDeregisterListener=c.asm.SmaxMockRunnerDeregisterListener).apply(null,arguments)};c._SmaxMockRunnerGetRunnerMode=function(){return(c._SmaxMockRunnerGetRunnerMode=c.asm.SmaxMockRunnerGetRunnerMode).apply(null,arguments)};c._SmaxMockRunnerSetRunnerMode=function(){return(c._SmaxMockRunnerSetRunnerMode=c.asm.SmaxMockRunnerSetRunnerMode).apply(null,arguments)};c._SmaxMockRunnerFree=function(){return(c._SmaxMockRunnerFree=c.asm.SmaxMockRunnerFree).apply(null,arguments)};c._SmaxVisualizeStanza=function(){return(c._SmaxVisualizeStanza=c.asm.SmaxVisualizeStanza).apply(null,arguments)};c._SmaxVisualizeProto=function(){return(c._SmaxVisualizeProto=c.asm.SmaxVisualizeProto).apply(null,arguments)};c._SmaxDisableLocationReporting=function(){return(c._SmaxDisableLocationReporting=c.asm.SmaxDisableLocationReporting).apply(null,arguments)};c._SmaxVisualizedStanzaFree=function(){return(c._SmaxVisualizedStanzaFree=c.asm.SmaxVisualizedStanzaFree).apply(null,arguments)};c._SmaxVisualizedProtoFree=function(){return(c._SmaxVisualizedProtoFree=c.asm.SmaxVisualizedProtoFree).apply(null,arguments)};c._SmaxRunnerEventsCount=function(){return(c._SmaxRunnerEventsCount=c.asm.SmaxRunnerEventsCount).apply(null,arguments)};c._free=function(){return(c._free=c.asm.free).apply(null,arguments)};c._malloc=function(){return(c._malloc=c.asm.malloc).apply(null,arguments)};(function(){return c.asm.__errno_location.apply(null,arguments)});(function(){return c.asm.getTempRet0.apply(null,arguments)});(function(){return c.asm.htonl.apply(null,arguments)});(function(){return c.asm.htons.apply(null,arguments)});(function(){return c.asm.ntohs.apply(null,arguments)});var W=function(){return(W=c.asm.setThrew).apply(null,arguments)},X=function(){return(X=c.asm.setTempRet0).apply(null,arguments)},Y=function(){return(Y=c.asm.stackSave).apply(null,arguments)},Z=function(){return(Z=c.asm.stackRestore).apply(null,arguments)},tb=function(){return(tb=c.asm.stackAlloc).apply(null,arguments)};(function(){return c.asm.__cxa_free_exception.apply(null,arguments)});var ub=function(){return(ub=c.asm.__cxa_can_catch).apply(null,arguments)},vb=function(){return(vb=c.asm.__cxa_is_pointer_type).apply(null,arguments)};c.dynCall_jii=function(){return(c.dynCall_jii=c.asm.dynCall_jii).apply(null,arguments)};c.dynCall_vij=function(){return(c.dynCall_vij=c.asm.dynCall_vij).apply(null,arguments)};c.dynCall_iij=function(){return(c.dynCall_iij=c.asm.dynCall_iij).apply(null,arguments)};c.dynCall_viijj=function(){return(c.dynCall_viijj=c.asm.dynCall_viijj).apply(null,arguments)};c.dynCall_jiii=function(){return(c.dynCall_jiii=c.asm.dynCall_jiii).apply(null,arguments)};c.dynCall_viij=function(){return(c.dynCall_viij=c.asm.dynCall_viij).apply(null,arguments)};function wb(a,b){var c=Y();try{S(a)(b)}catch(a){Z(c);if(a!==a+0)throw a;W(1,0)}}function xb(a,b,c,d,e){var f=Y();try{return S(a)(b,c,d,e)}catch(a){Z(f);if(a!==a+0)throw a;W(1,0)}}function yb(a,b,c){var d=Y();try{S(a)(b,c)}catch(a){Z(d);if(a!==a+0)throw a;W(1,0)}}function zb(a,b,c,d){var e=Y();try{S(a)(b,c,d)}catch(a){Z(e);if(a!==a+0)throw a;W(1,0)}}function Ab(a,b){var c=Y();try{return S(a)(b)}catch(a){Z(c);if(a!==a+0)throw a;W(1,0)}}function Bb(a,b,c,d,e,f){var g=Y();try{S(a)(b,c,d,e,f)}catch(a){Z(g);if(a!==a+0)throw a;W(1,0)}}function Cb(a){var b=Y();try{S(a)()}catch(a){Z(b);if(a!==a+0)throw a;W(1,0)}}function Db(a,b,c,d,e,f,g,h){var i=Y();try{return S(a)(b,c,d,e,f,g,h)}catch(a){Z(i);if(a!==a+0)throw a;W(1,0)}}function Eb(a,b,c,d,e){var f=Y();try{S(a)(b,c,d,e)}catch(a){Z(f);if(a!==a+0)throw a;W(1,0)}}function Fb(a,b,c,d){var e=Y();try{return S(a)(b,c,d)}catch(a){Z(e);if(a!==a+0)throw a;W(1,0)}}function Gb(a,b,c,d,e,f){var g=Y();try{return S(a)(b,c,d,e,f)}catch(a){Z(g);if(a!==a+0)throw a;W(1,0)}}function Hb(a,b,c,d,e,f,g){var h=Y();try{S(a)(b,c,d,e,f,g)}catch(a){Z(h);if(a!==a+0)throw a;W(1,0)}}c.UTF8ToString=u;c.stringToUTF8=fa;c.lengthBytesUTF8=w;c.ccall=rb;c.addFunction=nb;c.removeFunction=ob;c.setValue=Ba;c.getValue=Aa;var $;D=function a(){$||Ib(),$||(D=a)};function Ib(){if(C>0)return;na();if(C>0)return;function a(){if($)return;$=!0;c.calledRun=!0;if(ca)return;oa();d(c);pa()}a()}Ib();return c.ready}}();c=a;f["default"]=c}),66);
__d("WASmaxOutPrivatestatsSignCredentialRequest",["WASmaxJsx","WAWap"],(function(a,b,c,d,e,f,g){function a(a){var b,c=a.blindedCredentialElementValue;a=a.projectNameElementValue;c=(b=d("WASmaxJsx")).smax("iq",{xmlns:"privatestats",id:d("WAWap").generateId(),type:"get",to:d("WAWap").S_WHATSAPP_NET},b.smax("sign_credential",{version:"2"},b.smax("blinded_credential",null,c),b.smax("project_name",null,a)));return c}g.makeSignCredentialRequest=a}),98);
__d("WASmaxPrivatestatsSignCredentialRPC",["WAComms","WASmaxInPrivatestatsSignCredentialResponseErrorNoRetry","WASmaxInPrivatestatsSignCredentialResponseErrorRetry","WASmaxInPrivatestatsSignCredentialResponseSuccess","WASmaxOutPrivatestatsSignCredentialRequest","WASmaxParsingFailure","WASmaxRpcUtils","regeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a,c){var e,f,g,h,i;return b("regeneratorRuntime").async(function(j){while(1)switch(j.prev=j.next){case 0:e=d("WASmaxOutPrivatestatsSignCredentialRequest").makeSignCredentialRequest(a);j.next=3;return b("regeneratorRuntime").awrap(d("WAComms").sendSmaxStanza(e,c));case 3:f=j.sent;g=d("WASmaxInPrivatestatsSignCredentialResponseSuccess").parseSignCredentialResponseSuccess(f,e);if(!g.success){j.next=7;break}return j.abrupt("return",{name:"SignCredentialResponseSuccess",value:g.value});case 7:h=d("WASmaxInPrivatestatsSignCredentialResponseErrorNoRetry").parseSignCredentialResponseErrorNoRetry(f,e);if(!h.success){j.next=10;break}return j.abrupt("return",{name:"SignCredentialResponseErrorNoRetry",value:h.value});case 10:i=d("WASmaxInPrivatestatsSignCredentialResponseErrorRetry").parseSignCredentialResponseErrorRetry(f,e);if(!i.success){j.next=13;break}return j.abrupt("return",{name:"SignCredentialResponseErrorRetry",value:i.value});case 13:throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("SignCredential",{Success:g,ErrorNoRetry:h,ErrorRetry:i}));case 14:case"end":return j.stop()}},null,this)}g.sendSignCredentialRPC=a}),98);
__d("WAWebFuzzyStreaks",[],(function(a,b,c,d,e,f){"use strict";function g(a,b,c){c===void 0&&(c=0);var d=0,e=-1,f=0,g=b.length;c=c;while(c<g){var h=!1,i=0,j=0;for(var k=0;k<a.length;k++){if(a[k]!==b[k+c]){h=!0;break}j+=k+1;i++}i>d&&(d=i,e=c,f=j);if(!h)break;i>0?c+=i:c++}if(d>0)return{length:d,index:e,score:f}}function a(a,b,c){c===void 0&&(c={breakOnFirstError:!0});var d=[],e=0;a=a;var f=0,h,i=!1;do{h=g(a,b,e);if(h!=null)f+=h.score,d.push(babelHelpers["extends"]({},h)),e=h.index+h.length,a=a.substr(h.length);else{i=!0;if(c.breakOnFirstError!==!1)break;a=a.substr(1)}}while(a.length);return{score:f,streaks:d,foundError:i}}f.fuzzyStreaks=a}),66);
__d("WAWebABPropSearchModel",["WAWebABPropsCache","WAWebABPropsConfigs","WAWebFuzzyStreaks","WAWebSearchModel","WAWebSearchUtils"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.preloadData=function(){this.allABProps=d("WAWebABPropsCache").getAllABPropConfigs().map(function(a){var b=d("WAWebABPropsCache").getABPropConfigNameFromCode(a.configCode);return{code:a.configCode,name:b,type:d("WAWebABPropsConfigs").ABPropConfigs[b][1],value:(b=a.overriddenConfigValue)!=null?b:a.configValue,originalValue:a.configValue,overridden:a.overriddenConfigValue!=null}}).sort(function(a,b){return a.name.localeCompare(b.name)})};c.queryFn=function(a){var b=d("WAWebSearchUtils").normalizeString(a),c=new Map();a=d("WAWebSearchUtils").filterPaginate(this.allABProps,function(a){if(b==="")return!0;var e=d("WAWebFuzzyStreaks").fuzzyStreaks(b,a.name),f=e.score;e=e.foundError;c.set(a.name,f);return e===!1&&f>0});a=a.results;a.sort(function(a,b){return((b=c.get(b.name))!=null?b:0)-((b=c.get(a.name))!=null?b:0)});return{results:a.map(function(a){return{id:a.name,type:"ab-prop",data:a}}),type:"ab-prop"}};return b}(d("WAWebSearchModel").Search);g.ABPropSearch=a}),98);
__d("WAWebCRUDOperationsACSTokens",["WAWebSchemaACSTokens","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){b===void 0&&(b=d("WAWebSchemaACSTokens").getACSTokensTable());return b.createOrReplace(a)}function a(a,b){var c=a+"-default";return h(babelHelpers["extends"]({project:a},b,{tokenName:c}))}function c(a,b){b=b.map(function(b,c){return babelHelpers["extends"]({},b,{project:a,tokenName:a+"-"+c})});return d("WAWebSchemaACSTokens").getACSTokensTable().bulkCreateOrReplace(b)}function i(a,b){b===void 0&&(b=d("WAWebSchemaACSTokens").getACSTokensTable());return b.anyOf(["project"],[a])}function e(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b===void 0&&(b=d("WAWebSchemaACSTokens").getACSTokensTable());a=(yield i(a,b));return a.length>0?a[0]:null});return j.apply(this,arguments)}function f(a){return d("WAWebSchemaACSTokens").getACSTokensTable().get(a)}function k(a,b){b===void 0&&(b=d("WAWebSchemaACSTokens").getACSTokensTable());return b.remove(a)}function l(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield i(a,b));yield b.bulkRemove(a.map(function(a){return a.tokenName}))});return m.apply(this,arguments)}g.upsertACSToken=h;g.storeACSTokenForProject=a;g.storeACSTokensForProject=c;g.getACSTokensByProject=i;g.getACSTokenByProject=e;g.getACSTokenByName=f;g.deleteACSTokenByName=k;g.deleteAllACSTokensByProject=l}),98);
__d("WAWebFetchACSTokens",["WAPromiseRetryLoop","WASmaxPrivatestatsSignCredentialRPC","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h=3;function i(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){return d("WASmaxPrivatestatsSignCredentialRPC").sendSignCredentialRPC({projectNameElementValue:a,blindedCredentialElementValue:b})});return j.apply(this,arguments)}function a(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=1,f=function(){var d=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var d=(yield i(a,c));switch(d.name){case"SignCredentialResponseErrorNoRetry":return b({result:null});case"SignCredentialResponseErrorRetry":e+=1;if(e>h)return b({result:null});return;default:d.name;return b({result:d.value})}});return function(a){return d.apply(this,arguments)}}();f=new(d("WAPromiseRetryLoop").PromiseRetryLoop)({name:"issueACSTokenForProject-"+a,timer:{algo:{type:"exponential",first:250},max:1e3},code:f});f.start();return f.promise()});return k.apply(this,arguments)}g.fetchACSTokenForProject=i;g.fetchACSTokenForProjectWithRetry=a}),98);
__d("WAWebACSTokenConfig",["WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h={WA_StatusMusic:{getMaxRedeemCount:function(){return 50},getMaxExpirySeconds:function(){return d("WATimeUtils").DAY_SECONDS}}};function a(a){return{maxRedeemCount:h[a].getMaxRedeemCount(),maxExpirySeconds:h[a].getMaxExpirySeconds()}}g.getACSTokenConfig=a}),98);
__d("WAWebACSTokenUtils",["WALogger","WATimeUtils","WAWebACSTokenConfig"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["The "," ACS token was redeemed maximum number of time. The client shall re-issue a new one"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["The "," ACS token expired. The client shall re-issue a new one"]);i=function(){return a};return a}function a(a){var b=a.redeemCount,c=a.creationTs;a=a.projectName;var e=d("WAWebACSTokenConfig").getACSTokenConfig(a),f=e.maxExpirySeconds;e=e.maxRedeemCount;if(!d("WATimeUtils").happenedWithin(c,f)){d("WALogger").LOG(i(),a);return!1}if(b>=e){d("WALogger").LOG(h(),a);return!1}return!0}g.isValidACSToken=a}),98);
__d("WAWebRedeemACSTokenFromStorage",["WAWebACSTokenUtils","WAWebCRUDOperationsACSTokens","WAWebModelStorageUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){return d("WAWebModelStorageUtils").getStorage().lock(["acs-tokens"],function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=b[0];var c=(yield d("WAWebCRUDOperationsACSTokens").getACSTokensByProject(a,b));if(c.length===0)return null;c=c.filter(function(b){return d("WAWebACSTokenUtils").isValidACSToken({creationTs:b.creationTs,projectName:a,redeemCount:b.redeemCount})});if(c.length===0){yield d("WAWebCRUDOperationsACSTokens").deleteAllACSTokensByProject(a,b);return null}c=i(c);if(c==null)return null;var e=c.redeemCount+1;yield d("WAWebCRUDOperationsACSTokens").upsertACSToken(babelHelpers["extends"]({},c,{redeemCount:e}),b);return c.token});return function(a){return c.apply(this,arguments)}}())});return h.apply(this,arguments)}function i(a){var b=Math.min.apply(Math,a.map(function(a){return a.redeemCount}));return a.find(function(a){return a.redeemCount===b})}g.redeemACSTokenFromStorage=a}),98);
__d("WAWebRedeemACSToken",["Promise","WAACSTokenUtils","WATimeUtils","WAWamPrivateStatsToken","WAWebCRUDOperationsACSTokens","WAWebFetchACSTokens","WAWebRedeemACSTokenFromStorage","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=5;function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a.projectName;var b=(yield d("WAWebRedeemACSTokenFromStorage").redeemACSTokenFromStorage(a));if(b!=null)return b;b=(yield k(a));if(b.length===0)return;var c=b[0];b=b.slice(1);var e=c.sharedSecret,f=c.token;c=c.t;yield d("WAWebCRUDOperationsACSTokens").storeACSTokenForProject(a,{creationTs:c,redeemCount:1,token:{sharedSecret:e,token:f}});yield d("WAWebCRUDOperationsACSTokens").storeACSTokensForProject(a,b.map(function(c){var a=c.sharedSecret,b=c.token;c=c.t;return{token:{sharedSecret:a,token:b},creationTs:c,redeemCount:0}}));return{sharedSecret:e,token:f}});return j.apply(this,arguments)}function k(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){c===void 0&&(c=i);c=Array.from({length:c}).fill().map(function(){return m(a)});c=(yield (h||(h=b("Promise"))).allSettled(c));return c.filter(function(a){return a.status==="fulfilled"}).map(function(a){return a.value}).filter(Boolean)});return l.apply(this,arguments)}function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("WAACSTokenUtils").getBlindedToken(),c=b.token,e=b.blindedToken;b=b.blindingFactor;a=(yield d("WAWebFetchACSTokens").fetchACSTokenForProjectWithRetry(a,e));if(a.result==null)return;e=a.result;a=e.signCredentialAcsPublicKeyElementValue;var f=e.signCredentialSignedCredentialElementValue;e=e.signCredentialT;f=d("WAWamPrivateStatsToken").unblindToken(f,b,a);if(f==null)return;b=d("WAACSTokenUtils").getSharedSecret({token:c,unblindedSignedToken:f});return{token:c,sharedSecret:b,t:d("WATimeUtils").castToUnixTime(e)}});return n.apply(this,arguments)}g.redeemACSToken=a}),98);
__d("WAWebRedeemACSCredential",["WABase64","WACryptoHmac","WAWebRedeemACSToken","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b===void 0&&(b=new ArrayBuffer(0));a=(yield d("WAWebRedeemACSToken").redeemACSToken({projectName:a}));if(a==null)return;var c=d("WABase64").encodeB64UrlSafe(a.token,!0);a=(yield d("WACryptoHmac").hmacSha256(a.sharedSecret,b));b=d("WABase64").encodeB64UrlSafe(a,!0);a=c+"+"+b;return a});return h.apply(this,arguments)}g.redeemACSCredential=a}),98);
__d("WAWebACSNetwork",["WAWebHttpExtendedFetch","WAWebRedeemACSCredential","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.url,c=a.project;a=a.data;c=(yield i(c,a));return d("WAWebHttpExtendedFetch").extendedFetch(b,{body:c,method:"POST"})});return h.apply(this,arguments)}function i(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=(yield d("WAWebRedeemACSCredential").redeemACSCredential(a));if(e==null)throw c("err")("Failed to redeem ACS credential");b.set("acs_token",e);b.set("acs_project",a);return b});return j.apply(this,arguments)}g.fetchWithACSCredential=a;g.addACSCredential=i}),98);
__d("WAWebCTWADebugDrawer.react",["WAWebConfirmPopup.react","WAWebConsumerTransparencyModalDialog.react","WAWebDataSharingOptOutOrUpsell","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDrawerManager","WAWebDrawerSection.react","WAWebFlex.react","WAWebModalManager","WAWebNoop","WAWebSMBDataSharingDrawer.react","WAWebSmbDataSharingOptInModalDialog","WAWebUISpacing","WAWebWDSButton","WAWebWDSText.react","WAWebWamEnumSmbDataSharingConsentScreenEntryPoint","WAWebWamEnumSmbDataSharingConsentSettingEntryPoint","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k=function(){d("WAWebModalManager").ModalManager.open(j.jsx(c("WAWebSmbDataSharingOptInModalDialog").SmbDataSharingOptInModalDialog,{entrypoint:d("WAWebWamEnumSmbDataSharingConsentScreenEntryPoint").SMB_DATA_SHARING_CONSENT_SCREEN_ENTRY_POINT.NEW_ORDER,callback:function(){return d("WAWebModalManager").ModalManager.close()}}))},l=function(){d("WAWebDrawerManager").DrawerManager.openDrawerLeft(j.jsx(c("WAWebSMBDataSharingDrawer.react"),{onClose:function(){return d("WAWebDrawerManager").DrawerManager.closeDrawerLeft()},entrypoint:d("WAWebWamEnumSmbDataSharingConsentSettingEntryPoint").SMB_DATA_SHARING_CONSENT_SETTING_ENTRY_POINT.ENTRY_POINT_SETTINGS_SCREEN}))},m=function(){d("WAWebModalManager").ModalManager.open(j.jsxs(d("WAWebConfirmPopup.react").ConfirmPopup,{okText:"Close",onOK:function(){return d("WAWebModalManager").ModalManager.close()},children:[j.jsxs("div",{children:[j.jsx(d("WAWebWDSText.react").WDSTextLarge,{weight:"semibold",children:"Orders - Upsell"}),j.jsx(d("WAWebDataSharingOptOutOrUpsell").UpsellText,{entryPoint:d("WAWebWamEnumSmbDataSharingConsentSettingEntryPoint").SMB_DATA_SHARING_CONSENT_SETTING_ENTRY_POINT.ENTRY_POINT_ORDER_SCREEN})]}),j.jsxs("div",{className:(i||(i=c("stylex")))(d("WAWebUISpacing").uiMargin.top40),children:[j.jsx(d("WAWebWDSText.react").WDSTextLarge,{weight:"semibold",children:"Labels - Upsell"}),j.jsx(d("WAWebDataSharingOptOutOrUpsell").UpsellText,{entryPoint:d("WAWebWamEnumSmbDataSharingConsentSettingEntryPoint").SMB_DATA_SHARING_CONSENT_SETTING_ENTRY_POINT.ENTRY_POINT_LABELS_SCREEN})]}),j.jsxs("div",{className:i(d("WAWebUISpacing").uiMargin.top40),children:[j.jsx(d("WAWebWDSText.react").WDSTextLarge,{weight:"semibold",children:"Orders - OptOut"}),j.jsx(d("WAWebFlex.react").FlexRow,{align:"center",children:j.jsx(d("WAWebDataSharingOptOutOrUpsell").OptOutText,{checkboxValue:!0,onCheckboxToggle:c("WAWebNoop"),theme:"order-create",entryPoint:d("WAWebWamEnumSmbDataSharingConsentSettingEntryPoint").SMB_DATA_SHARING_CONSENT_SETTING_ENTRY_POINT.ENTRY_POINT_ORDER_SCREEN})})]}),j.jsxs("div",{className:i(d("WAWebUISpacing").uiMargin.top40),children:[j.jsx(d("WAWebWDSText.react").WDSTextLarge,{weight:"semibold",children:"Labels - OptOut"}),j.jsx(d("WAWebFlex.react").FlexRow,{align:"center",children:j.jsx(d("WAWebDataSharingOptOutOrUpsell").OptOutText,{checkboxValue:!0,onCheckboxToggle:c("WAWebNoop"),theme:"labels-opt-out",entryPoint:d("WAWebWamEnumSmbDataSharingConsentSettingEntryPoint").SMB_DATA_SHARING_CONSENT_SETTING_ENTRY_POINT.ENTRY_POINT_LABELS_SCREEN})})]})]}))};b=j.forwardRef(a);function a(a,b){a=a.onBack;return j.jsxs(c("WAWebDrawer.react"),{ref:b,children:[j.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:"CTWA Debug",onBack:a,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,focusBackOrCancel:!0}),j.jsx(c("WAWebDrawerBody.react"),{children:j.jsxs(c("WAWebDrawerSection.react"),{animation:!1,xstyle:[d("WAWebUISpacing").uiPadding.horiz30,d("WAWebUISpacing").uiPadding.vert20],children:[j.jsx(d("WAWebWDSText.react").WDSTextTitle,{children:"Localisation Testing"}),j.jsxs("ul",{children:[j.jsx("li",{children:j.jsx((b=d("WAWebWDSButton")).WDSButtonSimplified,{onClick:d("WAWebConsumerTransparencyModalDialog.react").showConsumerTransparencyModalDialog,children:"Show Consumer Disclosure"})}),j.jsx("li",{children:j.jsx(b.WDSButtonSimplified,{onClick:k,children:"Show SMB Disclosure"})}),j.jsx("li",{children:j.jsx(b.WDSButtonSimplified,{onClick:l,children:"Open Data Sharing Setting Drawer"})}),j.jsx("li",{children:j.jsx(b.WDSButtonSimplified,{onClick:m,children:"Show Upsell and OptOut components"})})]})]})})]})}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),98);
__d("WAWebDebugABProps",["WALogger","WAWebABProps","WAWebABPropsCache","WAWebABPropsConfigs","WAWebABPropsUpdateFromStorage","WAWebAbPropsSyncJob","WAWebApiAbPropConfig","WAWebCmd","WAWebSchemaAbPropConfig","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(['ABProp "','" (config code: ',") new config value: [","]"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(['ABProp "','" config value: [',"]"]);i=function(){return a};return a}function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a===void 0&&(a=!0);a=(yield d("WAWebAbPropsSyncJob").syncABProps(a));yield d("WAWebABPropsUpdateFromStorage").updateABPropsFromStorage();return a});return j.apply(this,arguments)}a.doc="Sync AB Props";function c(a){return d("WAWebABProps").getABPropConfigValue(a)}c.doc="get an ABProp config value from cache";function k(a){return d("WAWebApiAbPropConfig").getConfigValue(a).then(function(b){d("WALogger").LOG(i(),a,String(b));return b})}k.doc="get an ABProp config value";function l(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c,e=d("WAWebABPropsConfigs").ABPropConfigs[a][0],f=(yield k(a)),g={configCode:String(e),configValue:String(f)};b!=null&&(g.overriddenConfigValue=String(b));var i=(c=b)!=null?c:f;return d("WAWebSchemaAbPropConfig").getAbpropConfigsTable().createOrReplace(g).then(function(){d("WALogger").LOG(h(),a,String(e),String(i));var c={service_improvement_opt_out_flag:d("WAWebABProps").getABPropConfigValue("service_improvement_opt_out_flag"),ctwa_ad_account_token_storage_kill_switch_web:d("WAWebABProps").getABPropConfigValue("ctwa_ad_account_token_storage_kill_switch_web")};return d("WAWebABPropsUpdateFromStorage").updateABPropsFromStorage().then(function(){d("WAWebCmd").Cmd.onAbPropsUpdate(c);return b})})});return m.apply(this,arguments)}function e(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){yield l(a,b);return b});return n.apply(this,arguments)}e.doc="override an ABProp config value locally";function f(a){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield l(a,void 0)});return o.apply(this,arguments)}f.doc="reset an ABProp to its original value";function p(){return d("WAWebABPropsCache").getAllABPropConfigs()}p.doc="list all ABProps";function q(){return d("WAWebApiAbPropConfig").getABPropConfigs()}q.doc="list all ABProps";a={syncABProps:a,syncABPropsTask:d("WAWebAbPropsSyncJob").syncABPropsTask,getABPropConfigValue:c,getABPropFromDb:k,overrideABProp:e,resetABProp:f,listABProps:q,listABPropsFromCache:p};g["default"]=a}),98);
__d("WAWebFetchOHAIKeyConfigJobQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"aead_id",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"expiration_date",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"kdf_id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"kem_id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"key_id",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"last_updated_time",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"public_key",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"WAWebFetchOHAIKeyConfigJobQuery",selections:[{alias:null,args:null,concreteType:"XWA2OHAIConfigsResponse",kind:"LinkedField",name:"xwa2_ohai_configurations",plural:!1,selections:[{alias:null,args:null,concreteType:"XWA2OHAIConfig",kind:"LinkedField",name:"ohai_configs",plural:!0,selections:[{kind:"RequiredField",field:a,action:"THROW",path:"xwa2_ohai_configurations.ohai_configs.aead_id"},{kind:"RequiredField",field:b,action:"THROW",path:"xwa2_ohai_configurations.ohai_configs.expiration_date"},{kind:"RequiredField",field:c,action:"THROW",path:"xwa2_ohai_configurations.ohai_configs.kdf_id"},{kind:"RequiredField",field:d,action:"THROW",path:"xwa2_ohai_configurations.ohai_configs.kem_id"},{kind:"RequiredField",field:e,action:"THROW",path:"xwa2_ohai_configurations.ohai_configs.key_id"},{kind:"RequiredField",field:f,action:"THROW",path:"xwa2_ohai_configurations.ohai_configs.last_updated_time"},{kind:"RequiredField",field:g,action:"THROW",path:"xwa2_ohai_configurations.ohai_configs.public_key"}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"WAWebFetchOHAIKeyConfigJobQuery",selections:[{alias:null,args:null,concreteType:"XWA2OHAIConfigsResponse",kind:"LinkedField",name:"xwa2_ohai_configurations",plural:!1,selections:[{alias:null,args:null,concreteType:"XWA2OHAIConfig",kind:"LinkedField",name:"ohai_configs",plural:!0,selections:[a,b,c,d,e,f,g],storageKey:null}],storageKey:null}]},params:{id:"8611051222276023",metadata:{},name:"WAWebFetchOHAIKeyConfigJobQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("WAWebFetchOHAIKeyConfigJob",["WATimeUtils","WAWebFetchOHAIKeyConfigJobQuery.graphql","WAWebMexClient","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("WAWebFetchOHAIKeyConfigJobQuery.graphql");function a(){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("WAWebMexClient").fetchQuery(i,{}));a=(a=a.xwa2_ohai_configurations)==null?void 0:a.ohai_configs;return a==null?null:a.reduce(function(a,b){var c=b.expiration_date,e=b.last_updated_time;c=Number.parseInt(c,10);e=Number.parseInt(e,10);if(!Number.isSafeInteger(c)||!Number.isSafeInteger(e))return a;return a!=null&&a.expirationDate>c?a:{aeadId:b.aead_id,expirationDate:d("WATimeUtils").castToUnixTime(c),kdfId:b.kdf_id,kemId:b.kem_id,keyId:b.key_id,lastUpdatedTime:d("WATimeUtils").castToUnixTime(e),publicKey:b.public_key}},null)});return j.apply(this,arguments)}g.mexFetchOHAIKeyConfig=a}),98);
__d("WAWebOHAIUserPrefs",["WATimeUtils","WAWebUserPrefsKeys","WAWebUserPrefsStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){c("WAWebUserPrefsStore").setUser(d("WAWebUserPrefsKeys").UserPrefs.OHAIKeyConfig,a)}function b(){var a=c("WAWebUserPrefsStore").getUser(d("WAWebUserPrefsKeys").UserPrefs.OHAIKeyConfig);if(a==null||typeof a!=="object")return null;var b=a.aeadId,e=a.kdfId,f=a.kemId,g=a.expirationDate,h=a.keyId,i=a.lastUpdatedTime;a=a.publicKey;return typeof g!=="number"||typeof b!=="number"||typeof e!=="number"||typeof f!=="number"||typeof h!=="number"||typeof i!=="number"||typeof a!=="string"?null:{aeadId:b,kdfId:e,kemId:f,keyId:h,publicKey:a,expirationDate:d("WATimeUtils").castToUnixTime(g),lastUpdatedTime:d("WATimeUtils").castToUnixTime(i)}}g.setOHAIKeyConfig=a;g.getOHAIKeyConfig=b}),98);
__d("WAWebOHAIKeyConfigProvider",["Hpke","WAHex","WALogger","WATimeUtils","WAWebFetchOHAIKeyConfigJob","WAWebNewsletterRpcUtils","WAWebOHAIUserPrefs","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[OHAI] Failed to parse OHAI key config"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[OHAI] Failed to cast OHAI parameters"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[OHAI] Failed to retrieve OHAI key"]);j=function(){return a};return a}var k=60*60;function a(){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield m());if(a==null){d("WALogger").ERROR(j()).sendLogs("ohai-retrieve-failed");return null}var b=d("Hpke").AeadID.cast(a.aeadId),c=d("Hpke").KdfID.cast(a.kdfId),e=d("Hpke").KemID.cast(a.kemId),f=a.keyId;if(b==null||c==null||e==null||f==null){d("WALogger").ERROR(i()).sendLogs("ohai-cast-failed");return null}try{return{aeadId:b,kdfId:c,kemId:e,keyId:f,expirationDate:a.expirationDate,publicKey:new Uint8Array(d("WAHex").parseHex(a.publicKey))}}catch(a){d("WALogger").ERROR(h()).devConsole(a).sendLogs("ohai-parse-failed");return null}});return l.apply(this,arguments)}function m(){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=d("WAWebOHAIUserPrefs").getOHAIKeyConfig();if(a!=null&&o(a))return a;a=(yield d("WAWebNewsletterRpcUtils").runWithBackoff(function(){return d("WAWebFetchOHAIKeyConfigJob").mexFetchOHAIKeyConfig()}));a!=null&&d("WAWebOHAIUserPrefs").setOHAIKeyConfig(a);return a});return n.apply(this,arguments)}function o(a){return a.expirationDate-k>d("WATimeUtils").unixTime()}g.provideOHAIKeyConfig=a}),98);
__d("WAWebOHAIClient",["OhaiClient","WALogger","WAWebABProps","WAWebACSNetwork","WAWebHttpExtendedFetch","WAWebOHAIKeyConfigProvider","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["No OHAI key config available"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Invalid OHAI proxy URL: ",""]);i=function(){return a};return a}var j=new Set(["https://meta-ohttp-relay-prod.fastly-edge.com/"]);function a(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.url,e=a.project;a=a.payload;var f=(yield d("WAWebOHAIKeyConfigProvider").provideOHAIKeyConfig());if(f==null){d("WALogger").ERROR(h()).sendLogs("failed-to-fetch-ohai-key").tags("ohai");throw c("err")("No OHAI key config available")}e=(yield l({project:e,url:b,payload:a}));b=(yield d("OhaiClient").encapsulateRequest(f,e,!0));a=b.ctx;f=b.enc;e=b.encapsulatedRequest;b=n();b=(yield d("WAWebHttpExtendedFetch").extendedFetch(b,{body:e,headers:{"Content-Type":"message/ohttp-req"},method:"POST"}));if(!b.ok)return b;e=(yield b.arrayBuffer());b=new Uint8Array(e);return d("OhaiClient").decapsulateResponse(a,f,b)});return k.apply(this,arguments)}function l(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.url,c=a.project;a=a.payload;if(a==null||c==null)return new Request(b);c=(yield d("WAWebACSNetwork").addACSCredential(c,a));return new Request(b,{body:c,method:"POST"})});return m.apply(this,arguments)}function n(){var a=d("WAWebABProps").getABPropConfigValue("music_ohai_proxy_url");a=new URL(a);o(a);return a}function o(a){if(!j.has(a.href)){d("WALogger").ERROR(i(),a.href).sendLogs("ohai-invalid-proxy-"+a.href).tags("ohai");throw c("err")("Invalid OHAI proxy URL")}}g.fetchOHAI=a}),98);
__d("WAWebSNAPLPersistentId",["WAArrayBufferUtils","WACryptoSha256","WALogger","WAWebUserPrefsMeUser","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["computeSNAPLPersistentId: failed to get user"]);h=function(){return a};return a}function a(){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=self.crypto.getRandomValues(new Uint8Array(32));a=a.buffer;try{var b=d("WAWebUserPrefsMeUser").getMeUser();b=b.user;var c=new TextEncoder();c=c.encode(b);b=c.buffer;c=d("WAArrayBufferUtils").concatBuffers([b,a]);b=(yield d("WACryptoSha256").sha256Base64(c));return b}catch(b){d("WALogger").ERROR(h()).sendLogs("snapl-failed-to-get-user").devConsole(b);c=(yield d("WACryptoSha256").sha256Base64(a));return c}});return i.apply(this,arguments)}function c(a){return a}g.computeSNAPLPersistentId=a;g.castToSNAPLPersistentId=c}),98);
__d("WAWebSNAPLUserPrefs",["WATimeUtils","WAWebSNAPLPersistentId","WAWebUserPrefsKeys","WAWebUserPrefsStore","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h=24*60*60;function i(a,b){var e=d("WATimeUtils").unixTime();c("WAWebUserPrefsStore").setUser(d("WAWebUserPrefsKeys").UserPrefs.SNAPLPersistentId,{persistentId:a,mediaId:b,epoch:e})}function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=c("WAWebUserPrefsStore").getUser(d("WAWebUserPrefsKeys").UserPrefs.SNAPLPersistentId);if(b==null||typeof b!=="object")return k(a);var e=b.persistentId,f=b.epoch;b=b.mediaId;if(typeof e!=="string"||typeof f!=="number"||typeof b!=="string")return k(a);var g=d("WATimeUtils").unixTime();return g-f<h||b===a?d("WAWebSNAPLPersistentId").castToSNAPLPersistentId(e):k(a)});return j.apply(this,arguments)}function k(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("WAWebSNAPLPersistentId").computeSNAPLPersistentId());i(b,a);return b});return l.apply(this,arguments)}g.setSNAPLPersistentId=i;g.getSNAPLPersistentId=a}),98);
__d("WAWebDebugACS",["WAWebFetchOHAIKeyConfigJob","WAWebOHAIClient","WAWebOHAIKeyConfigProvider","WAWebRedeemACSCredential","WAWebRedeemACSToken","WAWebSNAPLUserPrefs"],(function(a,b,c,d,e,f,g){"use strict";a={redeemACSCredential:d("WAWebRedeemACSCredential").redeemACSCredential,redeemACSToken:d("WAWebRedeemACSToken").redeemACSToken,mexFetchOHAIKeyConfig:d("WAWebFetchOHAIKeyConfigJob").mexFetchOHAIKeyConfig,provideOHAIKeyConfig:d("WAWebOHAIKeyConfigProvider").provideOHAIKeyConfig,getSNAPLPersistentId:d("WAWebSNAPLUserPrefs").getSNAPLPersistentId,fetchOHAI:d("WAWebOHAIClient").fetchOHAI};g["default"]=a}),98);
__d("WAWebDebugAltDeviceLinking",["WABase64","WAWebCryptoCurve25519","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=d("WABase64").decodeB64("MsKm2JQ="),b=d("WABase64").decodeB64("dVa0iwyftkpuVl0RRkbATG00utMF6HN3NQlwBlvKk7s=");a=(yield self.crypto.subtle.importKey("raw",a,{name:"PBKDF2"},!1,["deriveKey"]));b=(yield self.crypto.subtle.deriveKey({name:"PBKDF2",hash:"SHA-256",salt:b,iterations:2<<16},a,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"]));yield self.crypto.subtle.exportKey("raw",b)});return h.apply(this,arguments)}a.doc="checked derived key value";function c(){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a,b={pubKey:(a=d("WABase64")).decodeB64("nEwK7XnPjmx68KlnIosZTQzQNjgBbdEVHIYGqCmBdCU="),privKey:a.decodeB64("0Lsr1qHOQQwANO7PZA8bieCuP/RePLsd8Du4iyrFjEU=")};a={pubKey:a.decodeB64("2MuFC9muN9evLf231QvfRPxgJ77rb9DFxrjPVSAU/Qw="),privKey:a.decodeB64("4OpA/0BlZ07ZPchtdzR1/UdDxUdlv9fCy/GQYkgZXUM=")};yield d("WAWebCryptoCurve25519").sharedSecret(a.pubKey,b.privKey);yield d("WAWebCryptoCurve25519").sharedSecret(b.pubKey,a.privKey)});return i.apply(this,arguments)}c.doc="test diffie hellman";e={checkDerived:a,testDH:c};g["default"]=e}),98);
__d("WAWebDebugApi",["WALogger","WAWebApi","WAWebApiParse","WAWebExecApiCmd","WAWebModalManager","WAWebNoop","WAWebOpenChatFlow.react","WAWebSendMsgMultiModalLoadable","WAWebWidFactory","react"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["URL is an invalid command"]);i=function(){return a};return a}var j=h||c("react");function a(a,b){a=d("WAWebApiParse").parseAPICmd(a);if(a.resultType===d("WAWebApi").APICmd.INVALID){d("WALogger").LOG(i());return}a.resultType;c("WAWebExecApiCmd")({cmdData:a,isExternal:(a=b)!=null?a:!0})}a.doc="Manually execute an API command like Group Invite or CTWA (Click to WhatsApp)";function b(a,b){a==null?d("WAWebModalManager").ModalManager.open(j.jsx(d("WAWebSendMsgMultiModalLoadable").SendMsgMultiModalLoadable,{msgText:b,urlText:!0}),{transition:"modal-flow"}):d("WAWebModalManager").ModalManager.open(j.jsx(d("WAWebOpenChatFlow.react").OpenChatFlow,{targetId:d("WAWebWidFactory").createUserWid(a),msgText:b,onSuccess:c("WAWebNoop")}),{transition:"modal-flow"})}b.doc="Trigger the API link opening flow (e.g. api.whatsapp.com/send?phone=1234567890&text=Hello)";e={executeApiCmd:a,openViaAPILink:b};g["default"]=e}),98);
__d("WAWebDebugCertificates",[],(function(a,b,c,d,e,f){a="-----BEGIN CERTIFICATE-----\nMIIDxjCCAq4CAQEwDQYJKoZIhvcNAQELBQAwgagxCzAJBgNVBAYTAlVLMRcwFQYD\nVQQIDA5Vbml0ZWQgS2luZ2RvbTEPMA0GA1UEBwwGTG9uZG9uMRUwEwYDVQQKDAxU\nZXN0IENvbXBhbnkxHDAaBgNVBAsME0V4cGlyZWQgQ2VydGlmaWNhdGUxFTATBgNV\nBAMMDHRlc3RfY29tcGFueTEjMCEGCSqGSIb3DQEJARYUdGVzdEB0ZXN0X2NvbXBh\nbnkudGMwHhcNMjEwOTA3MTQyODIyWhcNMjEwOTA2MTQyODIyWjCBqDELMAkGA1UE\nBhMCVUsxFzAVBgNVBAgMDlVuaXRlZCBLaW5nZG9tMQ8wDQYDVQQHDAZMb25kb24x\nFTATBgNVBAoMDFRlc3QgQ29tcGFueTEcMBoGA1UECwwTRXhwaXJlZCBDZXJ0aWZp\nY2F0ZTEVMBMGA1UEAwwMdGVzdF9jb21wYW55MSMwIQYJKoZIhvcNAQkBFhR0ZXN0\nQHRlc3RfY29tcGFueS50YzCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEB\nAMB5kp3izI/9nPeVk+tSHSw8Si9LsGf6ZCbvCl6MamQG4fF5Yx1/Q6VsHbtMCcwj\ncZFi5fC3wlStHMlsaPnI0RPXwD0ZhHclT/H3g4BXrhJLgUUix1Fy6sZcReowusXA\nPvshQ8LyTWDebbvp+QExl4UV+t6bm1DIZK174t895Khfh8mgh8u/G+SNvtXMC3a6\nTry5d7AZpSSZGARtyw0kh2HXTtB8oPJET+cW1UR6trk53Y7rsjiS7URk8dQedmbN\njGOyzq92yOsqKhlaL5qq5pVM+Q0L5yZZe6CBpjzs1FFwh1W/uFafpKgOOMZEuAbc\nNPvFwwRbXRL1/U97SH2FuBECAwEAATANBgkqhkiG9w0BAQsFAAOCAQEAHay/o20d\nAwryRpbKup9dN1hfC5QiCQ73vmDxkrXdPc5ddJzRlmAXEMhOhHtfjfDfyQCTz39P\nrjMDPxoekD/jZ5+zoO1YUuIvrhw28CUBXNrTEIlUYdb9fmU7439hEyfPGPXNepF3\ngw2xrNfVZ2GCE5/ooWJmoWp085C5Q76Mz/YitBOIHx6Fg8MWnUdSfP/uvMkzWAH+\nnPgFXQN742vEh1ZMRepsyEPar8foqIsx5OntksweBL6ET5uY+N9oTHonV4jSDRcR\nd5nuNeTzJF4JGUfp1bGsI0I9ZyH1UDrcEg2leBHGon0fFpPUJ9t9n7XmR9q0RLD+\nzVNUcvV5ravSRA==\n-----END CERTIFICATE-----";f.EXPIRED_SELF_SIGNED=a}),66);
__d("WAWebDebugCatalog",["WALogger","WAWebApiDirectConnectionKeys","WAWebBizCatalogAddProductJob","WAWebBizCatalogManagementAppealProduct","WAWebBizCatalogManagementCreateCollection","WAWebBizCatalogManagementDeleteCollections","WAWebBizCatalogManagementFetchCatalog","WAWebBizCatalogManagementFetchCollections","WAWebBizCatalogManagementFetchProduct","WAWebBizCatalogManagementFetchProductList","WAWebBizCatalogManagementFetchSingleCollection","WAWebBizCatalogManagementUpdateCollection","WAWebBizCatalogManagementUpdateCollectionList","WAWebBizCreateProductCatalogJob","WAWebBizRemoveDirectConnectionKeysBridge","WAWebDebugCertificates","WAWebDirectConnectionX509","WAWebProductModel","WAWebUserPrefsGeneral","WAWebWidFactory"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["debug:bizManagementUpdateCollection"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["debug:bizManagementUpdateCollectionList"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["debug:bizManagementAppealProduct"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["debug:bizManagementDeleteCollections"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["debug:bizManagementCreateCollection"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["debug:bizManagementFetchProduct"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["debug:bizManagementFetchProductList"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["debug:bizManagementFetchSingleCollection"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["debug:bizManagementFetchCollections"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["debug:bizManagementFetchCatalog"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["[direct-connection] failed to fetch saved postcode data"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["[direct-connection] postcode data does not exist"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["[direct-connection] Stored key: "," value: ",""]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["[direct-connection] Postcode tooltip view config.\n        Viewed in session: ",",\n        Total times tooltip viewed: ",""]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["[direct-connection] Postcode auto open change modal config.\n    Opened in session: ","\n    Total times auto opened: ",""]);v=function(){return a};return a}function w(){var a=babelHelpers.taggedTemplateLiteralLoose(["debug:addCatalogProductMD"]);w=function(){return a};return a}function x(){var a=babelHelpers.taggedTemplateLiteralLoose(["debug:createProductCatalog"]);x=function(){return a};return a}function a(){return d("WAWebBizCreateProductCatalogJob").createProductCatalog().then(function(a){d("WALogger").LOG(x()).devConsole(a);return a})}a.doc="Create product catalog";function b(a){var b=a.name,c=a.currency,e=a.price,f=a.imageUrl,g=a.width;a=a.height;f=(f=f)!=null?f:"https://dummyimage.com/100x100/1ab029/ffffff";f=new(d("WAWebProductModel").Product)({name:b,imageCdnUrl:f,priceAmount1000:(b=e)!=null?b:void 0,currency:c});return d("WAWebBizCatalogAddProductJob").addProductMD(f,(e=g)!=null?e:100,(b=a)!=null?b:100).then(function(a){d("WALogger").LOG(w()).devConsole(a);return})}b.doc="Create catalog product";function c(a){void d("WAWebApiDirectConnectionKeys").fetchDirectConnectionKeys(a).then(function(a){if(a==null)return;void d("WAWebApiDirectConnectionKeys").createOrUpdateDirectConnectionKeys(babelHelpers["extends"]({},a,{cypherExpirationTimestamp:"20011210T101452Z"}))})}c.doc='takes the row in `direct_connection_keys` table for the id (string, eg: "16005554444@s.whatsapp.net") passed and expires its cypher';function e(a){void d("WAWebApiDirectConnectionKeys").fetchDirectConnectionKeys(a).then(function(a){if(a==null)return;void d("WAWebDirectConnectionX509").extractCertificates(d("WAWebDebugCertificates").EXPIRED_SELF_SIGNED).then(function(a){return d("WAWebDirectConnectionX509").encodeToString(a)}).then(function(b){void d("WAWebApiDirectConnectionKeys").createOrUpdateDirectConnectionKeys(babelHelpers["extends"]({},a,{certificateChain:d("WAWebDirectConnectionX509").certificateStringToString(b),cypherExpirationTimestamp:"20011210T101452Z"}))})})}e.doc='takes the row in `direct_connection_keys` table for the id (string, eg: "16005554444@s.whatsapp.net") passed and expires its certificate';function f(a){void d("WAWebApiDirectConnectionKeys").fetchDirectConnectionKeys(a).then(function(b){if(b==null)return;void d("WAWebBizRemoveDirectConnectionKeysBridge").removeDirectConnectionKeys(d("WAWebWidFactory").createWid(a))})}f.doc="removes postcode and direct connection keys used by JioMart direct connection catalog";function y(){d("WAWebUserPrefsGeneral").setPostcodeAutoOpenChangePostcodeDone(!1),d("WAWebUserPrefsGeneral").setPostcodeAutoOpenChangePostcodeCount(0)}y.doc="removes flags and resets count related to auto open change postcode modal";function z(){var a=d("WAWebUserPrefsGeneral").getPostcodeAutoOpenChangePostcodeDone(),b=d("WAWebUserPrefsGeneral").getPostcodeAutoOpenChangePostcodeCount();d("WALogger").LOG(v(),a,b)}z.doc="print config related to auto open postcode change modal";function A(){var a=d("WAWebUserPrefsGeneral").getPostcodeTooltipViewCount(),b=d("WAWebUserPrefsGeneral").getPostcodeTooltipViewedInSession();d("WALogger").LOG(u(),b,a)}A.doc="prints postcode tooltip view config";function B(a){d("WAWebUserPrefsGeneral").setPostcodeTooltipViewCount(0),d("WAWebUserPrefsGeneral").setPostcodeTooltipViewedInSession(!1)}B.doc="resets view count for postcode tooltip to zero and also resets viewed in session flag";function C(a){d("WAWebApiDirectConnectionKeys").fetchDirectConnectionKeys(a).then(function(a){a?Object.entries(a).forEach(function(a){var b=a[0];a=a[1];d("WALogger").LOG(t(),b,a)}):d("WALogger").LOG(s())})["catch"](function(a){return d("WALogger").ERROR(r()).verbose().devConsole(a)})["finally"](function(){A(),z()})}C.doc="prints direct connection postcode info";function D(a){return d("WAWebBizCatalogManagementFetchCatalog").fetchCatalog(a).then(function(a){d("WALogger").LOG(q()).devConsole(a)})}D.doc="Fetch catalog for a business (business context)";function E(a){return d("WAWebBizCatalogManagementFetchCollections").fetchCollections(a).then(function(a){d("WALogger").LOG(p()).devConsole(a)})}E.doc="Fetch collections for a business (business context)";function F(a){return d("WAWebBizCatalogManagementFetchSingleCollection").fetchSingleCollection(a).then(function(a){d("WALogger").LOG(o()).devConsole(a)})}F.doc="Fetch a single collection for a business (business context)";function G(a){return d("WAWebBizCatalogManagementFetchProductList").fetchProductList(a).then(function(a){d("WALogger").LOG(n()).devConsole(a)})}G.doc="Fetch product list for a business (business context)";function H(a){return d("WAWebBizCatalogManagementFetchProduct").fetchProduct(a).then(function(a){d("WALogger").LOG(m()).devConsole(a)})}H.doc="Fetch a single product for a business (business context)";function I(a){return d("WAWebBizCatalogManagementCreateCollection").createCollection(a).then(function(a){d("WALogger").LOG(l()).devConsole(a)})}I.doc="Create a collection for a business (business context)";function J(a){return d("WAWebBizCatalogManagementDeleteCollections").deleteCollections(a).then(function(a){d("WALogger").LOG(k()).devConsole(a)})}J.doc="Delete collections for a business (business context)";function K(a){return d("WAWebBizCatalogManagementAppealProduct").appealProduct(a).then(function(a){d("WALogger").LOG(j()).devConsole(a)})}K.doc="Appeal a product by a business (business context)";function L(a){return d("WAWebBizCatalogManagementUpdateCollectionList").updateCollectionList(a).then(function(a){d("WALogger").LOG(i()).devConsole(a)})}L.doc="Update collection list for a business (business context)";function M(a){return d("WAWebBizCatalogManagementUpdateCollection").updateCollection(a).then(function(a){d("WALogger").LOG(h()).devConsole(a)})}M.doc="Update collection list for a business (business context)";a={createProductCatalog:a,addCatalogProductMD:b,directConnectionExpireCypher:c,directConnectionExpireCertificate:e,directConnectionRemovePostcodeAndKeys:f,resetAutoOpenChangePostcodeConfig:y,printAutoOpenChangePostcodeConfig:z,resetPostcodeTooltipViewConfig:B,printPostcodeInfo:C,printPostcodeTooltipViewConfig:A,bizManagementFetchCatalog:D,bizManagementFetchCollections:E,bizManagementFetchSingleCollection:F,bizManagementFetchProductList:G,bizManagementFetchProduct:H,bizManagementCreateCollection:I,bizManagementDeleteCollections:J,bizManagementAppealProduct:K,bizManagementUpdateCollectionList:L,bizManagementUpdateCollection:M};g["default"]=a}),98);
__d("WAWebDebugChatLock",["WAProtobufsUserPassword.pb","WAWebChatLockCrypto","WAWebChatLockSettings","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return btoa(Array.from(new Uint8Array(a),function(a){return String.fromCodePoint(a)}).join(""))}function a(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("WAWebChatLockCrypto")._deriveBitsFromSecretCode(a,b));var c;if(a!=null)switch(b.encoding){case d("WAProtobufsUserPassword.pb").UserPassword$Encoding.UTF8:c=h(a);break;case d("WAProtobufsUserPassword.pb").UserPassword$Encoding.UTF8_BROKEN:c=h(a);break}return{derived:a,base64:c}});return i.apply(this,arguments)}c={validateChatLockSecretCode:d("WAWebChatLockCrypto").validateChatLockSecretCode,getChatLockSettings:d("WAWebChatLockSettings").getChatLockSettings,evaluateChatLockSecretCode:a};g["default"]=c}),98);
__d("WAWebDebugCollections",["WAWebChatCollection","WAWebContactCollection","WAWebFavoriteStickerCollection","WAWebMsgCollection","WAWebNewsletterReportCollection","WAWebProfilePicThumbCollection","WAWebQuickPromotionCollection","WAWebRecentStickerCollectionMd"],(function(a,b,c,d,e,f,g){a={ChatCollection:d("WAWebChatCollection").ChatCollection,MsgCollection:d("WAWebMsgCollection").MsgCollection,ContactCollection:d("WAWebContactCollection").ContactCollection,FavoriteStickerCollection:d("WAWebFavoriteStickerCollection").FavoriteStickerCollection,RecentStickerCollectionMd:d("WAWebRecentStickerCollectionMd").RecentStickerCollectionMd,ProfilePicThumbCollection:d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection,QuickPromotionCollection:d("WAWebQuickPromotionCollection").QuickPromotionCollection,NewsletterReportCollection:d("WAWebNewsletterReportCollection").NewsletterReportCollection};g["default"]=a}),98);
__d("WAWebDebugComments",["Promise","WALogger","WAWebAddonConstants","WAWebAddonDBTable","WAWebMsgCollection","WAWebSendCommentMessageAction","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["sendNCommentDebugMsg:error ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["sendNCommentDebugMsg: log ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["createOrUpdateCommentsStorage: error ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["createOrUpdateCommentsStorage: ",""]);l=function(){return a};return a}function a(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){c===void 0&&(c=1);var e=[];if(typeof a==="string"){var f=(yield d("WAWebMsgCollection").MsgCollection.getMessagesById([a]));f=f.messages;f=f[0]}else f=a;for(a=0;a<c;a++)e.push(d("WAWebSendCommentMessageAction").sendCommentMessage(f,"This is comment message number"+a.toString()));try{c=(yield (h||(h=b("Promise"))).all(e));d("WALogger").LOG(j(),String(c))}catch(a){d("WALogger").WARN(i(),a)}});return m.apply(this,arguments)}a.doc="Send N Comment Messages";function c(a){d("WAWebAddonDBTable").addonInternalDBTable.bulkUpsert(d("WAWebAddonConstants").AddonTableMode.Comment,a).then(function(){d("WALogger").LOG(l(),String(a))})["catch"](function(a){d("WALogger").WARN(k(),a)})}c.doc="Store in database comments, use msg key from param if available";e={sendCommentDebugMsg:a,createOrUpdateCommentsStorageDebug:c};g["default"]=e}),98);
__d("WAWebDebugContactManagement",["err"],(function(a,b,c,d,e,f,g){var h={delaySaveMs:0,simulateErrorOnSaveOrDeleteContact:null};function a(a){a===void 0&&(a=1e4),h.delaySaveMs=Math.max(a,0)}function b(a){a=a==null?void 0:a.toUpperCase();if(a!=="USYNC"&&a!=="NETWORK"&&a!=="CLIENT")throw c("err")("Unsupported error type");h.simulateErrorOnSaveOrDeleteContact=a}d={delaySaveContactAction:a,simulateErrorOnSaveOrDeleteContact:b,debugConfigs:h};g["default"]=d}),98);
__d("WAWebDebugDB",["WALogger","WAWebDBMessageSerialization","WAWebDBTableUsage","WAWebLidAwareContactsDB","WAWebSchemaChat","WAWebSchemaContact_DEPRECATED","WAWebSchemaMessage","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(['Could not find a message key that contains Stanza ID "','"']);h=function(){return a};return a}function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("WAWebSchemaMessage").getMessageTable().all({returnKeyType:"primary_key"}));b=b.find(function(b){return b.match(a)});if(b==null){d("WALogger").LOG(h(),a);return null}return j(b)});return i.apply(this,arguments)}a.doc="get message row and decrypted data from DB";function j(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=typeof a==="string"?a:a.toString();a=(yield d("WAWebSchemaMessage").getMessageTable().get(a));if(a){var b=d("WAWebDBMessageSerialization").messageFromDbRow(a);return{msgRow:a,msgData:b}}return null});return k.apply(this,arguments)}j.doc="get message row and decrypted data from DB";function e(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=typeof a==="string"?a:a.toString();a=(yield d("WAWebSchemaChat").getChatTable().get(a));return a});return l.apply(this,arguments)}e.doc="get chat row from DB";f={beginDBTableUsage:d("WAWebDBTableUsage").beginDBTableUsage,getMessageFromDBBYStanzaId:a,getMessageFromDBByMsgKey:j,getChatFromDBById:e,getContactTable:d("WAWebSchemaContact_DEPRECATED").getContactTable,LidAwareContactsDB:c("WAWebLidAwareContactsDB")};g["default"]=f}),98);
__d("WAWebDebugDownFunnelSignals",["WAArrayBufferUtils","WALogger","WASmaxInBizSettingsEnums","WATimeUtils","WAWebBizLabelItemParentType","WAWebCTWADataSharingModel","WAWebChatCollection","WAWebCmd","WAWebCommonCTWAConsumerTransparency","WAWebConsumerTransparencyInfoIconModel","WAWebConversionTupleCollection","WAWebConversionTupleModel","WAWebDataSharingOptInCoolOffModel","WAWebDataSharingUpsellModel","WAWebLabelCollection","WAWebMessageLabelDeprecationUtils","WAWebMsgCollection","WAWebSMBDataSharingSettingAction","WAWebUserPrefsKeys","WAWebUserPrefsStore","WAWebWamEnumMessageLabelDeprecationEntryPoint","asyncToGeneratorRuntime","nullthrows"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["debug:labelsUnassignAllMessageLabelsFromAllMessages: Removed "," labels successfully"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["labelsUnassignAllLabelsFromChat: Error unassigning labels from chats"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["labelsUnassignAllLabelsFromChat: Error chatId or 'all' param is not provided"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["debug:dfsShouldShowUpdatedConsumerDisclosureForChat: ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["error:debug:dfsConsumerIconMockForChat: chatId is not provided"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["error:debug:dfsMockCtwaPayloadForCurrentChatOrChatId: please open any 1:1 chat you would like to mock by clicking on it in the chat list. Or provide a chatId to the method. Or provide 'all' to remove CTWA payload for all chats."]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["debug:dfsUnmockCtwaPayloadForCurrentChatOrChatId: Removed CTWA payload for chat "," successfully"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["debug:dfsUnmockCtwaPayloadForCurrentChatOrChatId: Mocked CTWA payload for all chats successfully"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["error:debug:dfsMockCtwaPayloadForCurrentChatOrChatId: Error adding CTWA payload to chat ",""]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(['debug:dfsMockCtwaPayloadForCurrentChatOrChatId: Mocked CTWA payload for chat "','" with value of "','" succesfully']);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["error:debug:dfsMockCtwaPayloadForCurrentChatOrChatId: please open any 1:1 chat you would like to mock by clicking on it in the chat list. Or provide a chatId to the method."]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["error:debug:dataSharingSettingFetch"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["debug:dataSharingSettingFetch"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["error:debug:resetDataSharingToNotset"]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["debug:resetDataSharingToNotset"]);v=function(){return a};return a}var w;function a(){d("WAWebCmd").Cmd.on("open_chat",function(a){w=a})}e=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return d("WAWebSMBDataSharingSettingAction").setSMBDataSharingSettingAction(d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE.notset).then(function(a){d("WALogger").LOG(v()).devConsole(a);return a})["catch"](function(a){d("WALogger").ERROR(u()).devConsole(a)})});return function(){return a.apply(this,arguments)}}();e.doc='DFS - resets SMB Data Sharing setting. Sets the value to "notset"';e.paramsToExecute=[];f=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return d("WAWebSMBDataSharingSettingAction").getSMBDataSharingSettingAction().then(function(a){d("WALogger").LOG(t()).devConsole(a);return a})["catch"](function(a){d("WALogger").ERROR(s()).devConsole(a)})});return function(){return a.apply(this,arguments)}}();f.doc="DFS - Fetches the SMB Data Sharing setting from the server";f.paramsToExecute=[];var x=function(a){var b;b=(a==null?void 0:a.chatId)||((b=w)==null?void 0:b.id);a=(a=a==null?void 0:a.payload)!=null?a:"mock_data";if(b==null){d("WALogger").ERROR(r());return}var e=new(d("WAWebConversionTupleModel").ConversionTuple)({id:b,timestamp:d("WATimeUtils").unixTime(),conversionSource:"FB_Ads",conversionData:d("WAArrayBufferUtils").stringToArrayBuffer(a)});try{c("WAWebConversionTupleCollection").remove(b),c("WAWebConversionTupleCollection").add(e,{merge:!0}),d("WALogger").LOG(q(),b,a)}catch(a){d("WALogger").ERROR(p(),b).devConsole(a)}};x.doc="DFS - Adds CTWA payload to current chat. This will be used by the l10n team and in bug bashes.";x.paramsToExecute=[];var y=function(a){a=a||((a=w)==null?void 0:a.id);a==="all"?(c("WAWebConversionTupleCollection")["delete"](),d("WALogger").LOG(o())):a!=null?(c("WAWebConversionTupleCollection").remove(a),d("WALogger").LOG(n(),a)):d("WALogger").ERROR(m())};y.doc="DFS - Removes CTWA payload from the current chat, or all chats if chatId is not provided. Will be used in bug bashes";y.paramsToExecute=[];var z=function(){c("WAWebUserPrefsStore").set(d("WAWebUserPrefsKeys").KEYS.CTWA_DATA_SHARING_UPSELL_ACTIVE,null)};z.doc="DFS - Resets value of the flag used to control whether to show Data sharing Upsell on the first order creation if OptIn was cancelled";z.paramsToExecute=[];var A=function(a){if(a){var b;(b=c("WAWebConversionTupleCollection").get(a))==null?void 0:b["delete"]();d("WAWebConsumerTransparencyInfoIconModel").ConsumerTransparencyInfoIconModel.chatIds["delete"](a.toString());c("WAWebUserPrefsStore").setUser(d("WAWebUserPrefsKeys").KEYS.CTWA_CONSUMER_TRANSPARENCY_INFO_ICON,Array.from(d("WAWebConsumerTransparencyInfoIconModel").ConsumerTransparencyInfoIconModel.chatIds))}else c("WAWebConversionTupleCollection")["delete"](),d("WAWebConsumerTransparencyInfoIconModel").ConsumerTransparencyInfoIconModel.chatIds=new Set(),c("WAWebUserPrefsStore").setUser(d("WAWebUserPrefsKeys").KEYS.CTWA_CONSUMER_TRANSPARENCY_INFO_ICON,[])};A.doc="DFS - Resets Consumer Transparency Icon. If no chat id provided clears all conversion tuples and permanent storage for icon markers";A.paramsToExecute=[];var B=function(a){a=a||((a=w)==null?void 0:a.id);if(a==null){d("WALogger").ERROR(l());return}d("WAWebConsumerTransparencyInfoIconModel").ConsumerTransparencyInfoIconModel.add(a);a=Array.from(d("WAWebConsumerTransparencyInfoIconModel").ConsumerTransparencyInfoIconModel.chatIds);c("WAWebUserPrefsStore").setUser(d("WAWebUserPrefsKeys").KEYS.CTWA_CONSUMER_TRANSPARENCY_INFO_ICON,a)};B.doc="DFS - adds chatId to the perm storage. This will be used by l10n team. They do not need e2e, just to see the consumer dialog";B.paramsToExecute=[];var C=function(){var a=d("WAWebCommonCTWAConsumerTransparency").shouldShowUpdatedConsumerDisclosure();d("WALogger").DEV(k(),a)};C.doc="DFS - checks if the updated consumer UI should be shown. This will be used by testers and bug bashers";C.paramsToExecute=[];var D=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a||((a=w)==null?void 0:a.id);if(a==null){d("WALogger").DEV(j());return}var b=new Map([]);if(a==="all")d("WAWebChatCollection").ChatCollection.forEach(function(a){var c;if(((c=(c=a.labels)==null?void 0:c.length)!=null?c:0)>0){b.set(a.id.toString(),(c=a.labels)!=null?c:[])}});else{b.set(a.toString(),(a=c("nullthrows")(d("WAWebChatCollection").ChatCollection.get(a)).labels)!=null?a:[])}try{b.forEach(function(b,a){a=c("nullthrows")(d("WAWebChatCollection").ChatCollection.get(a));b=b.map(function(a){return{id:a,type:"remove"}});d("WAWebLabelCollection").LabelCollection.addOrRemoveLabels(b,[a])})}catch(a){d("WALogger").DEV(i()).devConsole(a)}});return function(b){return a.apply(this,arguments)}}();D.doc="Lists - util to unapply all labels from a given chat, the current chat, or from all chats.";D.paramsToExecute=[];var E=function(){var a=0,b=new Map();d("WAWebLabelCollection").LabelCollection.forEach(function(c){c.labelItemCollection.forEach(function(e){if(e.parentType===d("WAWebBizLabelItemParentType").LabelItemParentType.Msg){var f;f=(f=b.get(c.id))!=null?f:[];f.push(e.parentId);b.set(c.id,f);a++}})});b.forEach(function(a,b){a=a.map(function(a){return c("nullthrows")(d("WAWebMsgCollection").MsgCollection.get(a))});b=[{id:b,type:"remove"}];d("WAWebLabelCollection").LabelCollection.addOrRemoveLabels(b,a)});d("WALogger").DEV(h(),a)};E.doc="Lists - test util to unapply all labels from all messages.";E.paramsToExecute=[];var F=function(){return d("WAWebMessageLabelDeprecationUtils").getMessageLabelDeprecationPhase()};F.doc="Lists - test util to get the phase of the message label deprecation";F.paramsToExecute=[];var G=function(){return d("WAWebMessageLabelDeprecationUtils").shouldShowMessageLabelDeprecationBanner()};G.doc="Lists - test util to calculate if the message label deprecation banner should be shown";G.paramsToExecute=[];var H=function(){d("WAWebMessageLabelDeprecationUtils").openLabelDeprecationModal(d("WAWebWamEnumMessageLabelDeprecationEntryPoint").MESSAGE_LABEL_DEPRECATION_ENTRY_POINT.CHAT_LIST_BANNER)};H.doc="Lists - test util to open the label deprecation modal. Will be used by l10n team and bug bashers";H.paramsToExecute=[];e={dfsSmbSettingReset:e,dfsSmbSettingServerFetch:f,dfsSmbUpsellReset:z,dfsMockCtwaPayloadForCurrentChatOrChatId:x,dfsUnmockCtwaPayloadForCurrentChatOrChatId:y,dfsConsumerIconReset:A,dfsConsumerMockInfoIconForCurrentChatOrChatId:B,dfsSmbSettingModel:d("WAWebCTWADataSharingModel").CTWADataSharingModel,dfsSmbCoolOffModel:d("WAWebDataSharingOptInCoolOffModel").DataSharingOptInCoolOffModel,dfsSmbUpsellModel:c("WAWebDataSharingUpsellModel"),dfsConsumerInfoIconModel:d("WAWebConsumerTransparencyInfoIconModel").ConsumerTransparencyInfoIconModel,dfsInitialize:a,dfsShouldShowUpdatedConsumerDisclosure:C,labelsUnassignAllLabelsFromChat:D,labelsUnassignAllMessageLabelsFromAllMessages:E,labelsGetLabelMessageDeprecationPhase:F,labelsShouldShowMessageLabelDeprecationBanner:G,labelsOpenLabelDeprecationModal:H};g["default"]=e}),98);
__d("WAWebDebugEphemerality",["WAWebChatCollection","WAWebEphemeralSyncResponse","WAWebEphemeralityTypes","WAWebWidFactory","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){function a(a,b,c,d,e){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g){f=d("WAWebEphemeralityTypes").DisappearingModeInitiator.cast(f);g=d("WAWebEphemeralityTypes").DisappearingModeTrigger.cast(g);if(f==null||g==null)throw c("err")("initator or trigger is not a valid enum");var h=d("WAWebWidFactory").createUserWid(a),i=d("WAWebChatCollection").ChatCollection.get(h);if(i==null)throw c("err")("Couldn't find chat for number "+a);yield d("WAWebEphemeralSyncResponse")._sendEphemeralSyncResponse(h,{duration:b,settingTimestamp:e,initiator:f,disappearingModeTrigger:g})});return h.apply(this,arguments)}a.doc="Sends an ESR message to the give number with provided duration, ts, and initiator";e={sendEphemeralSyncResponse:a};g["default"]=e}),98);
__d("WAWebDebugEvents",["WANullthrows","WATimeUtils","WAWebChatCollection","WAWebFrontendMsgGetters","WAWebMsgGetters","WAWebMsgType","WAWebSendEventCreationMsgAction","WAWebSendEventEditMsgAction","WAWebUserPrefsMeUser","err"],(function(a,b,c,d,e,f,g){function a(a){var b=a.name,e=a.startTime,f=a.description,g=a.location;a=a.callType;var h=d("WAWebChatCollection").ChatCollection.getActive();if(h==null)throw c("err")("[Debug][Send-Event-Message] You must open a chat first");var i=h==null?void 0:h.composeQuotedMsg;void d("WAWebSendEventCreationMsgAction").sendEventCreationMessage({chat:h,eventCreationOpts:{name:b,description:f,location:g,startTime:e,callType:a},quotedMsg:i});h.composeQuotedMsg=null}a.doc="Send an event message to currently active chat";function b(a){var b=a.name;b=b===void 0?"Edited name":b;var e=a.startTime;e=e===void 0?d("WATimeUtils").unixTime():e;var f=a.description;f=f===void 0?"Edited description":f;var g=a.location;g=g===void 0?"Edited location":g;var h=a.callType;h=h===void 0?"voice":h;a=a.isEventCanceled;a=a===void 0?!1:a;var i=d("WAWebChatCollection").ChatCollection.getActive();if(i==null)throw c("err")("[Debug][Edit-Event-Message] You must open a chat first");i=i.msgs.findFirst(function(a){return a.type===d("WAWebMsgType").MSG_TYPE.EVENT_CREATION&&!a.isEventCanceled&&d("WAWebUserPrefsMeUser").isMeAccount(d("WAWebMsgGetters").getSender(a))});if(i==null)throw c("err")("[Debug][Edit-Event-Message] No event message present to be edited in active chat");void d("WAWebSendEventEditMsgAction").sendEventEditMessage({name:b,description:f,location:g,startTime:e,callType:h,isEventCanceled:a},c("WANullthrows")(d("WAWebFrontendMsgGetters").getAsEventCreation(i)))}b.doc="Edit the last event message sent from current user in currently active chat";e={sendEventMessageToActiveChat:a,editLastEventMessageFromMeInChat:b};g["default"]=e}),98);
__d("WAWebDebugFavorites",["WAWebFavoritesSync","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield c("WAWebFavoritesSync").applyMutations(a)});return h.apply(this,arguments)}a.doc="Apply favorites mutations to the DB. This is used for testing purposes only.";d={applyFavoritesMutations:a};g["default"]=d}),98);
__d("WAWebDebugFlipper",["JSResourceForInteraction","Promise","ReconnectingWebSocket","WAComms","WALogger","WASmaxMockRunner","WASmaxMockRunnerBackend","WASmaxMocksWasm","WAWap","WAWebBuildConstants","WAWebNoop","WAWebSignalKeyApi","WAWebSignalStoreApi","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[smax] Disconnecting Flipper Connection.."]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[smax] ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[smax] Enabling Flipper Connection..."]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[smax] Disconnected from Flipper SMAX Plugin"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[smax]: ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[smax] ",""]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["[smax] ",""]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["[smax] ",""]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["[smax] Connected to Flipper SMAX Plugin"]);q=function(){return a};return a}var r="WhatsApp Web";function a(){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("js-flipper").__setRef("WAWebDebugFlipper").load());a=a.flipperClient;var e=!0;d("WALogger").DEV(k());a.start(r,{websocketFactory:function(a){a=new(c("ReconnectingWebSocket"))(a,void 0,{reconnectInterval:2e3,timeoutInterval:1e4,automaticOpen:!1});e&&(a.open(!1),e=!1);return a},onError:c("WAWebNoop"),reconnectTimeout:1e4});var f=(yield (h||(h=b("Promise"))).all([d("WAComms").getComms(),c("WASmaxMocksWasm")({instantiateWasm:function(a,b){WebAssembly.instantiateStreaming(self.fetch(d("WAWebBuildConstants").WEB_PUBLIC_PATH+"smax-mocks/smax_mocks_wasm.wasm"),a).then(function(a){b(a.instance)})["catch"](function(a){d("WALogger").ERROR(j(),a)});return{}}})])),g=f[0];f=f[1];if(g==null)throw c("err")("[smax] Failed to get comms");a.addPlugin(new u(g,f))});return s.apply(this,arguments)}function e(){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("js-flipper").__setRef("WAWebDebugFlipper").load());a=a.flipperClient;d("WALogger").DEV(i());a.stop()});return t.apply(this,arguments)}var u=function(){function a(a,b){this.backend=null,this.loggerId=null,this.comms=a,this.wasmModule=b}var e=a.prototype;e.getId=function(){return"wa-smax"};e.onConnect=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=this;d("WALogger").DEV(q());var f=new(d("WASmaxMockRunnerBackend").SmaxMockRunnerBackend)(this.wasmModule,function(b,c){try{a.send(b,JSON.parse(c))}catch(a){d("WALogger").ERROR(p(),a)}}),g=d("WASmaxMockRunner").SmaxAutomaticMockRunner.fromRunner(f.wasmModule,f.runnerPointer);g.addSyncdKey(new Uint8Array(32));var i=(yield (h||(h=b("Promise"))).all([d("WAWebSignalStoreApi").waSignalStore.getRegistrationInfo(),d("WAWebSignalStoreApi").waSignalStore.getOrGenSinglePreKey(d("WAWebSignalKeyApi").generatePreKeyPair),d("WAWebSignalStoreApi").waSignalStore.getSignedPreKey()])),j=i[0],k=i[1];i=i[2];yield d("WAWebSignalStoreApi").waSignalStore.markKeyAsUploaded(k.keyId);if(j==null||i==null)throw c("err")("[smax] Registration info is null");g.processPreKeyBundle("alice",{registrationId:j.registrationId,identity:new Uint8Array(j.identityKeyPair.pubKey),preKeys:[{id:k.keyId,data:new Uint8Array(k.keyPair.pubKey),signature:null}],signedPreKey:{id:i.keyId,data:new Uint8Array(i.keyPair.pubKey),signature:new Uint8Array(i.signature)},privateIdentity:null});g.subscribe(function(a){if(a.type==="Injection"){var c=d("WAWap").decodeStanzaDebug(a.data);c=(h||(h=b("Promise"))).resolve(e.comms.handleStanza(c,e.comms.socketId,a.data.byteLength));c.then(function(a){if(a==="CLOSE_SOCKET"||a==="NO_ACK")return;return e.comms.castStanza(a)})["catch"](function(a){d("WALogger").ERROR(o(),a)})}});a.receive("rpc",function(a){return f.handleRpc(a)});this.backend=f;this.comms.config.handlers.onBeforeCastStanzaForE2E=function(b){try{b=d("WAWap").encodeStanza(b);g.match(b);return[]}catch(c){d("WALogger").WARN(n(),c);a.send("log",{message:(b=c==null?void 0:c.message)!=null?b:""})}};this.loggerId=d("WASmaxMockRunner").getSmaxLogEmitter(this.wasmModule).subscribe(function(b){d("WALogger").DEV(m(),b),a.send("log",{message:b})})});function e(b){return a.apply(this,arguments)}return e}();e.onDisconnect=function(){d("WALogger").DEV(l());this.backend!=null&&(this.backend.cleanup(),this.backend=null);var a=this.loggerId;a!=null&&(d("WASmaxMockRunner").getSmaxLogEmitter(this.wasmModule).unsubscribe(a),this.loggerId=null);this.comms!=null&&(this.comms.config.handlers.onBeforeCastStanzaForE2E=void 0)};return a}();f={enableFlipperConnection:a,disableFlipperConnection:e};g["default"]=f}),98);
__d("WAWebDebugGDPR",["WADeprecatedSendIq","WAWap","WAWebGdprConstants","WAWebGdprHookUtils","WAWebUseGdprStatusAction","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=d("WAWebGdprConstants").ReportType.cast(a);if(a==null)throw c("err")("reportType string must be passed");a=d("WAWebGdprHookUtils").getGdprIq(d("WAWap").generateId(),a,"delete");return d("WADeprecatedSendIq").deprecatedSendIq(a,d("WAWebUseGdprStatusAction").GdprStatusWapParser)});return h.apply(this,arguments)}a.doc="cancels any current existing GDPR request";e={cancelGDPRRequest:a};g["default"]=e}),98);
__d("WAWebDebugUtils",["err"],(function(a,b,c,d,e,f,g){function a(){var a=window.chat;if(!a)throw c("err")("Please open a chat");return a}function b(){var a=window.msg;if(!a)throw c("err")("Please select a message by right clicking on its message bubble.");return a}g.getSelectedChat=a;g.getSelectedMsg=b}),98);
__d("WAWebDebugGroup",["Promise","WALogger","WAWebApiParticipantStore","WAWebChatCollection","WAWebContactModel","WAWebCreateGroupAction","WAWebDebugUtils","WAWebDeleteChatAction","WAWebExitGroupAction","WAWebFrontendMsgGetters","WAWebHandleSingleMsg","WAWebModifyParticipantsGroupAction","WAWebMsgGetters","WAWebMsgKey","WAWebMsgType","WAWebQueryAndUpdateGroupMetadataJob","WAWebSendTextMsgChatAction","WAWebSetArchiveChatAction","WAWebUserPrefsMeUser","WAWebViewMode.flow","WAWebWidFactory","asyncToGeneratorRuntime","err","escapeRegex"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["bulkDeleteGroups: requires a tag"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["debug: finished bulkSendGroupMessage ("," messages) in "," ms ("," ms per message)"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["debug: bulkSendGroupMessage: no group found with RegExp:\n      /^","/."]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["debug: bulkSendGroupMessage: trying to bulk send more than 1 message\n        with group name filter length < 2. To avoid mass pinging all your\n        groups, please use a longer group name filter (current is filter is\n        /^","/)."]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["debug: finished bulkArchiveGroups ("," groups) in "," ms ("," ms per group)"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["debug: bulkArchiveGroups: no chats to (un)archive."]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["debug: finished bulkCreateGroup ("," groups) in "," ms"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["creating ","-"," chat"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["you are not an admin in this chat"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["the current chat is not a group chat"]);r=function(){return a};return a}function a(){void d("WAWebQueryAndUpdateGroupMetadataJob").queryAndUpdateAllGroupMetadata()}a.doc="Use this to query and update all group metadata";function e(){var a=d("WAWebDebugUtils").getSelectedChat();if(!a||!a.groupMetadata){d("WALogger").WARN(r());return}var b=a.groupMetadata.participants;if(!b.iAmAdmin()){d("WALogger").WARN(q());return}b=b.filter(function(a){return!a.isAdmin});void d("WAWebModifyParticipantsGroupAction").promoteParticipants(a,b)}e.doc="Make everyone in the group an admin";e.paramsToExecute=[];function f(a,e,f){f===void 0&&(f="Test");var g=self.performance.now();e=e.map(function(a){return new(c("WAWebContactModel"))({id:d("WAWebWidFactory").createWid(a+"@s.whatsapp.net")})});var i=[];for(var j=0;j<a;j++)d("WALogger").DEV(p(),f,j),i.push(d("WAWebCreateGroupAction").createGroup({title:f+"-"+j,thumb:null,full:null},e));return(h||(h=b("Promise"))).all(i).then(function(){d("WALogger").DEV(o(),a,Math.floor(self.performance.now()-g))})}f.doc="Create [n] groups, each with the given [members]";function s(a,b,c){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){f===void 0&&(f="Group name filter as a RegExp excluding leading ^");if(a>1&&f.length<2){d("WALogger").DEV(l(),f);return}var g=self.performance.now(),i=new RegExp("^"+c("escapeRegex")(f)),m=d("WAWebChatCollection").ChatCollection.filter(function(a){return a.isGroup&&i.test(a.title())});if(m.length===0){d("WALogger").DEV(k(),f);return}f=[];for(var n of m)for(var o=0;o<a;o++)f.push(d("WAWebSendTextMsgChatAction").sendTextMsgToChat(n,e+" | "+o));yield (h||(h=b("Promise"))).all(f);o=a*m.length;n=Math.floor(self.performance.now()-g);d("WALogger").DEV(j(),o,n,Math.floor(n/o))});return t.apply(this,arguments)}s.doc="Send [message], [n] times, to every group starting with /^[groupNameFilter]/.";function u(a,e){e===void 0&&(e="Test");var f=self.performance.now(),g=new RegExp("^"+c("escapeRegex")(e)),i=d("WAWebChatCollection").ChatCollection.filter(function(a){return a.isGroup&&g.test(a.title())&&a.canArchive()});if(i.length===0){d("WALogger").DEV(n());return(h||(h=b("Promise"))).resolve()}e=[];for(var j of i)e.push(d("WAWebSetArchiveChatAction").setArchive(j,a,!0));return(h||(h=b("Promise"))).all(e).then(function(){var a=Math.floor(self.performance.now()-f);d("WALogger").DEV(m(),i.length,a,Math.floor(a/i.length))})}u.doc="(un)archive every group starting with [tag].";function v(a){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(a==null){d("WALogger").ERROR(i());return}var e=new RegExp("^"+c("escapeRegex")(a));a=d("WAWebChatCollection").ChatCollection.filter(function(a){return a.isGroup&&e.test(a.title())});if(prompt("exit and delete the following groups (y/n)? \n"+a.map(function(a){return a.title()}).join("\n"))!=="y")return;var f=a.filter(function(a){return a==null?void 0:(a=a.groupMetadata)==null?void 0:a.participants.iAmMember()});yield (h||(h=b("Promise"))).all(f.map(function(a){return d("WAWebExitGroupAction").sendExitGroup(a)}));yield h.all(a.map(function(a){return d("WAWebDeleteChatAction").sendDelete(a)}))});return w.apply(this,arguments)}function x(){void d("WAWebApiParticipantStore").pruneExpiredPastParticipants()}x.doc="Prunes past participants older than 60 days";function y(a,b){return z.apply(this,arguments)}function z(){z=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=d("WAWebDebugUtils").getSelectedMsg();if(!e)throw c("err")("You need to select a message by right clicking it");if(!d("WAWebMsgGetters").getIsGroupMsg(e))throw c("err")("You need to select a group message");var f=d("WAWebUserPrefsMeUser").getMeUser(),g=d("WAWebFrontendMsgGetters").getChat(e),h;if(a)h=f;else if(b!=null)h=d("WAWebWidFactory").createWid(b+"@c.us");else{h=(b=g.groupMetadata)==null?void 0:b.participants.filter(function(a){return!a.id.equals(f)&&a.isAdmin})[0].id}if(!h)throw c("err")("No admin found");b=e.id;e=Math.round(Date.now()/1e3);a={id:new(c("WAWebMsgKey"))({fromMe:a,remote:b.remote,id:"ADMIN-REVOKE-MSG-ID-"+e,participant:h}),from:b.remote,to:f,type:d("WAWebMsgType").MSG_TYPE.PROTOCOL,kind:d("WAWebMsgType").MsgKind.ProtocolRevoke,viewMode:d("WAWebViewMode.flow").ViewModeType.VISIBLE,t:e,ack:1,author:h,broadcast:!1,notifyName:"Mock",protocolMessageKey:b,subtype:"admin_revoke",requiresDirectConnection:!1,recvFresh:!0,isNewMsg:!0};yield d("WAWebHandleSingleMsg").handleSingleMsg(g.id,a,"debugGroup")});return z.apply(this,arguments)}y.doc="Mocks an incoming admin revoke";a={queryAndUpdateAllGroupMetadata:a,makeEveryoneAdmin:e,bulkCreateGroup:f,bulkDeleteGroups:v,bulkSendGroupMessage:s,bulkArchiveGroups:u,cleanPastParticipants:x,mockIncomingAdminRevoke:y};g["default"]=a}),98);
__d("WAWebDebugL10N",["WAWebL10N","WAWebL10NConstants","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a,b,c){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){b===void 0&&(b=d("WAWebL10NConstants").L10N_PRIORITY.DEBUG),e===void 0&&(e=!0),yield c("WAWebL10N").setLocale(a,b,e)});return h.apply(this,arguments)}a.doc="Sets the locale for debug, saved, or phone priority. Defaults to debug priority.";function e(){c("WAWebL10N").getLocale()==="fb_AR"||c("WAWebL10N").getLocale()==="ar-XB"?void c("WAWebL10N").setLocale("en",d("WAWebL10NConstants").L10N_PRIORITY.DEBUG,!0):void c("WAWebL10N").setLocale("fb_AR",d("WAWebL10NConstants").L10N_PRIORITY.DEBUG,!0)}e.doc="Toggles between RTL (the ar-XB pseudolocale) and LTR (English)";e.paramsToExecute=[];f={debugSetLocale:a,toggleRTL:e,l10n:c("WAWebL10N")};g["default"]=f}),98);
__d("WAWebDebugLidMigration",["Promise","WALogger","WAWebApiContact","WAWebChatCollection","WAWebDBCreateLidPnMappings","WAWebDBIdentityTableMigrationJob","WAWebDBSenderKeyStoreMigrationJob","WAWebDBSessionStoreTableMigrationJob","WAWebDBSignalStorage","WAWebDebugUtils","WAWebGroupHandleAddressingModeMismatch","WAWebGroupMetadataCollection","WAWebHandleMsgCommon","WAWebSchemaGroupMetadata","WAWebSchemaIdentity","WAWebSchemaParticipant","WAWebSchemaSenderkey","WAWebSchemaSession","WAWebSignalAddress","WAWebSingleSignalSession","WAWebWamEnumMismatchOriginType","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["toggleAddressingModeForActiveGroupChat - after"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["toggleAddressingModeForActiveGroupChat - before"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["toggleAddressingModeForActiveGroupChat: no active group chat"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["toggleAddressingModeForActiveGroupChat: no active chat"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["printGroup: ","\n  ->  Db:\n  isLidAddressingMode: ","\n\n  admins: ","\n\n  participants: ","\n\n  senderKey: ","\n\n  rotateKey: ","\n\n\n\n  -> Model:\n  isLidAddressingMode: ","\n\n  admins: ","\n\n  participants: ","\n\n  "],["printGroup: ","\n  ->  Db:\n  isLidAddressingMode: ","\\n\n  admins: ","\\n\n  participants: ","\\n\n  senderKey: ","\\n\n  rotateKey: ","\\n\\n\n\n  -> Model:\n  isLidAddressingMode: ","\\n\n  admins: ","\\n\n  participants: ","\\n\n  "]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["migrateAddressingMode: migrated "," to ",""]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["migrateAddressingMode: starting migration of "," to ",""]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["migrateAddressingMode: please open a group chat or pass 1 or more group ids"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["migrateAddressingMode: unable to find the specified groups"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["populateSignalStorageDbWithRandomData - finished ",""]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["populateSignalStorageDbWithRandomData - started"]);s=function(){return a};return a}function t(a,b){return Math.floor(Math.random()*(b-a+1)+a)}function u(){return d("WAWebWidFactory").createUserWid("1650555"+t(1e3,9999)+"@s.whatsapp.net")}function v(){return d("WAWebWidFactory").createUserWid(t(1e5,999999)+"@lid")}function a(){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(s());var a=5e3,b=Date.now(),c=[],e=[],f=[],g=(yield d("WAWebSchemaIdentity").getTable().all()),h=(yield d("WAWebSchemaSession").getTable().all()),i=(yield d("WAWebSchemaSenderkey").getTable().all()),j=[],k=new Set();for(var l=0;l<a;l++){var m=u(),n=v();k.has(n.toString())||(k.add(n.toString()),j.push({lid:n,pn:m}));n=new(d("WAWebSignalAddress").SignalAddress)(m,!1).toString()+".0";m=g[t(0,g.length-1)];c.push(babelHelpers["extends"]({},m,{identifier:n}));m=h[t(0,h.length-1)];e.push(babelHelpers["extends"]({},m,{address:n}));m=i[t(0,i.length-1)];f.push(babelHelpers["extends"]({},m,{senderId:n,senderKey:m.senderKeyName.split("::")[0]+"::"+n}))}yield d("WAWebDBCreateLidPnMappings").createLidPnMappings({mappings:j,flushImmediately:!0});yield d("WAWebSchemaIdentity").getTable().bulkCreateOrReplace(c);yield d("WAWebSchemaSession").getTable().bulkCreateOrReplace(e);yield d("WAWebSchemaSenderkey").getTable().bulkCreateOrReplace(f);d("WALogger").LOG(r(),Date.now()-b)});return w.apply(this,arguments)}function x(){return y.apply(this,arguments)}function y(){y=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a;for(var b=arguments.length,e=new Array(b),f=0;f<b;f++)e[f]=arguments[f];if(e.length){a=e.map(d("WAWebWidFactory").createWid).map(function(a){return c("WAWebGroupMetadataCollection").get(a)}).filter(Boolean);if(a.length!==e.length){d("WALogger").LOG(q());return}}else{a=[d("WAWebDebugUtils").getSelectedChat().groupMetadata].filter(Boolean);if(a.length===0){d("WALogger").LOG(p());return}}for(var g of a){var h=Boolean(g.isLidAddressingMode)?d("WAWebHandleMsgCommon").STANZA_MSG_ADDRESSING_MODE.lid:d("WAWebHandleMsgCommon").STANZA_MSG_ADDRESSING_MODE.pn,i=Boolean(g.isLidAddressingMode)?d("WAWebHandleMsgCommon").STANZA_MSG_ADDRESSING_MODE.pn:d("WAWebHandleMsgCommon").STANZA_MSG_ADDRESSING_MODE.lid;d("WALogger").LOG(o(),g.id.toString(),i);yield d("WAWebGroupHandleAddressingModeMismatch").handleAddressingModeMismatch(g.id,{localAddressingMode:h,serverAddressingMode:i,mismatchOrigin:d("WAWebWamEnumMismatchOriginType").MISMATCH_ORIGIN_TYPE.GROUP_NOTIFICATION},{force:!0});d("WALogger").LOG(n(),g.id.toString(),i)}});return y.apply(this,arguments)}x.doc="Migrate the current group to the given addressing mode without triggering a group IQ.";function z(a){return A.apply(this,arguments)}function A(){A=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("WAWebSchemaParticipant").getParticipantTable().get(a.toString())),c=(yield d("WAWebSchemaGroupMetadata").getGroupMetadataTable().get(a.toString())),e=d("WAWebChatCollection").ChatCollection.get(a.toString()),f=b?b.senderKey:new Map();d("WALogger").LOG(m(),a.toString(),c==null?void 0:c.isLidAddressingMode,b==null?void 0:b.admins,b==null?void 0:b.participants,Array.from(f.entries()),b==null?void 0:b.rotateKey,e==null?void 0:(a=e.groupMetadata)==null?void 0:a.isLidAddressingMode,e==null?void 0:(c=e.groupMetadata)==null?void 0:c.participants.toArray().filter(function(a){return a.isAdmin}).map(function(a){return a.id.toString()}),e==null?void 0:(f=e.groupMetadata)==null?void 0:f.participants.toArray().map(function(a){return a.id.toString()}))});return A.apply(this,arguments)}function e(){return B.apply(this,arguments)}function B(){B=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a,c=d("WAWebDebugUtils").getSelectedChat();if(c==null){d("WALogger").WARN(l());return(h||(h=b("Promise"))).resolve()}if(!(c==null?void 0:c.id.isGroup())){d("WALogger").WARN(k());return(h||(h=b("Promise"))).resolve()}a=(a=c.groupMetadata)==null?void 0:a.isLidAddressingMode;d("WALogger").LOG(j());yield z(c.id);yield x(a===!0?"pn":"lid");d("WALogger").LOG(i());yield z(c.id)});return B.apply(this,arguments)}f={migrateAddressingMode:x,migrateIdentityTable:d("WAWebDBIdentityTableMigrationJob").migrateIdentityTable,migrateSessionStoreTable:d("WAWebDBSessionStoreTableMigrationJob").migrateSessionStoreTable,migrateSenderKeyStoreTable:d("WAWebDBSenderKeyStoreMigrationJob").migrateSenderKeyStoreTable,migrateSignalStorageDb:d("WAWebDBSignalStorage").migrateSignalStorageDb,isUsingAccountIdentifierForSignalStorage:d("WAWebSingleSignalSession").isUsingAccountIdentifierForSignalStorage,populateSignalStorageDbWithRandomData:a,printGroup:z,toggleAddressingModeForActiveGroupChat:e,createLidPnMappings:d("WAWebDBCreateLidPnMappings").createLidPnMappings,createOrMergeAddressBookContacts:d("WAWebApiContact").createOrMergeAddressBookContacts,createUserWid:d("WAWebWidFactory").createUserWid};g["default"]=f}),98);
__d("WAWebDebugLists",["WAWebLabelSync","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield c("WAWebLabelSync").applyMutations(a)});return h.apply(this,arguments)}a.doc="Apply lists mutations to the DB. This is used for testing purposes only.";d={applyListsMutations:a};g["default"]=d}),98);
__d("WAWebDebugLocalStorage",["WAMd5","WANullthrows","WAWebLocalStorage","WAWebUserPrefsKeys","WAWebUserPrefsLocalStorage","WAWebUserPrefsMeUser","err"],(function(a,b,c,d,e,f,g){function h(a){var b={keyWithoutHash:a,keyInLocalStorage:a,value:null},e=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(a);if(e!=null){b.value=e;return b}var f=c("WANullthrows")(d("WAWebUserPrefsMeUser").getMeUser()).toString();f=c("WAMd5")(f+":"+a);e=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(f);e!=null&&(b.keyInLocalStorage=f,b.value=e);return b}function a(){var a=babelHelpers["extends"]({},d("WAWebUserPrefsKeys").KEYS,d("WAWebUserPrefsKeys").MD_KEYS,d("WAWebUserPrefsKeys").COLLECTIONS_KEYS);a=Object.values(a).map(function(a){if(typeof a!=="string")throw c("err")("Keys in localStorage can only be strings");return h(a)}).filter(function(a){return a.value!=null});return a}a.doc="Retrieve all of the key value pairs in localStorage with their keys before hashing and the key that is currently stored.";function b(a){a=h(a);return a.value==null?null:a}b.doc="Retrieve an item from localStorage and get the current stored key if it was hashed.";function e(a,b){c("WAWebUserPrefsLocalStorage").setItemToLocalStorage(a,b)}e.doc="Set an item in localStorage.";function f(a){if(!c("WAWebLocalStorage"))return;c("WAWebLocalStorage").removeItem(a)}f.doc="Remove an item entry from localStorage";a={retrieveAllLocalStorageItems:a,retrieveLocalStorageItem:b,setLocalStorageItem:e,removeLocalStorageItem:f};g["default"]=a}),98);
__d("WAWebQplTestMethods",["WAQplTypes","WAWebQplQuickPerformanceLoggerModule","qpl"],(function(a,b,c,d,e,f,g){var h=c("qpl")._(891422769,"2324"),i={string:{testKey:"testing"}},j={string:{testKey2:"testing2"}},k=7;function a(){var a=d("WAWebQplQuickPerformanceLoggerModule").QPL.markerStart(h,{instanceKey:k});a.addPoint("testpoint");a.annotate(i);a.annotate(j);a.end(d("WAQplTypes").QuickLogActionType.SUCCESS)}g.testQplEvent=a}),98);
__d("WAWebDebugLogging",["WAAsyncSleep","WALogger","WANullthrows","WAQplUploader","WAWebApiQplEvents","WAWebChatThreadLogging","WAWebCrashlog","WAWebLoggerImpl","WAWebQplQuickPerformanceLoggerModule","WAWebQplTestMethods","WAWebTasksDailyStatsTask","WAWebTimeSpentLoggingNavigation","WAWebTimeSpentLoggingSession","WAWebUserPrefsKeys","WAWebUserPrefsStore","WAWebWamGlobals","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["logging test message from WAWebDebugLogging"]);h=function(){return a};return a}function a(){d("WAWebQplQuickPerformanceLoggerModule").QPL.logActiveQplMarkers()}a.doc="Log the number of active QPL calls";function e(){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAAsyncSleep").asyncSleep(d("WAWebApiQplEvents").WRITE_THROTTLE_INTERVAL+250),yield d("WAQplUploader").forceQplUpload()});return i.apply(this,arguments)}e.doc="Immediately trigger a QPL upload";function f(){return d("WAWebCrashlog").upload({reason:d("WAWebCrashlog").MANUAL_UPLOAD,isHighPri:!0,immediate:!0})}f.doc="Upload Crashlogs with reason: "+d("WAWebCrashlog").MANUAL_UPLOAD+", ignores sampling";function j(a){a===void 0&&(a="testing");return d("WAWebCrashlog").upload({reason:a})}j.doc="Upload Crashlogs with reason: testing, or supply a reason. Dev env blocks all uploads but: testing";function k(){void d("WAWebTasksDailyStatsTask").logDailyStats()}k.doc="log wam daily stats";function l(){return c("WANullthrows")(d("WAWebChatThreadLogging").getChatThreadLoggingStateDebug())}l.doc="thread logging internal API";function m(a){var b=window.performance.now();for(b=0;b<a;b++)d("WALogger").LOG(h())}m.doc="test logging perf";function n(){var a=c("WAWebUserPrefsStore").get(d("WAWebUserPrefsKeys").UserPrefs.PageLoadDebug)===!0;if(!a){c("WAWebUserPrefsStore").set(d("WAWebUserPrefsKeys").UserPrefs.PageLoadDebug,!0);return!0}c("WAWebUserPrefsStore").set(d("WAWebUserPrefsKeys").UserPrefs.PageLoadDebug,!1);return!1}n.doc="toggle page load QPL mirrored performance markers";function o(){return d("WAWebWamGlobals").Global}o.doc="Get wam global fields";a={Logger:d("WAWebLoggerImpl").Logger,logActiveQplMarkers:a,logWamDailyStats:k,uploadLogs:f,uploadLogsTesting:j,uploadQplMarkers:e,testQplEvent:d("WAWebQplTestMethods").testQplEvent,getThreadLogging:l,loggingPerfTest:m,getOrInitTimeSpentSession:d("WAWebTimeSpentLoggingSession").getOrInitTimeSpentSession,markTimeSpentActivity:d("WAWebTimeSpentLoggingSession").markTimeSpentActivity,toggleTsNavigationDebug:d("WAWebTimeSpentLoggingNavigation").toggleTsNavigationDebug,togglePageLoadDebug:n,getWamGlobal:o};g["default"]=a}),98);
__d("WAWebDebugMedia",["WAWebMedia","WAWebMediaDownloadMmsThumbnail","WAWebMmsClient"],(function(a,b,c,d,e,f,g){a={checkMediaExistence:d("WAWebMedia").checkMediaExistence,mmsClient:c("WAWebMmsClient"),downloadMmsThumbnail:c("WAWebMediaDownloadMmsThumbnail"),downloadProgressiveJpegThumbnail:d("WAWebMedia").downloadProgressiveJpegThumbnail,downloadStatusThumbnail:d("WAWebMedia").downloadStatusThumbnail};g["default"]=a}),98);
__d("WAWebDebugMessageEdit",["WANullthrows","WAPromiseDelays","WAWebChatCollection","WAWebMessageEditGatingUtils","WAWebMsgCollection","WAWebMsgModel","WAWebMsgType","WAWebSendMessageEditAction","WAWebSendMsgRecordAction","WAWebSendTextMsgChatAction","WAWebToast.react","WAWebToastManager","WAWebUserPrefsDebugMsgEdit","asyncToGeneratorRuntime","err","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function j(a){d("WAWebToastManager").ToastManager.open(i.jsx(d("WAWebToast.react").Toast,{msg:a}))}function k(){var a=d("WAWebChatCollection").ChatCollection.getActive();if(!a)throw c("err")("You must open a chat first.");if(!d("WAWebMessageEditGatingUtils").sendTextEditEnabled())throw c("err")("Message edit must be enabled first.");return a}function a(){d("WAWebUserPrefsDebugMsgEdit").setMessageEditRestriction(!d("WAWebUserPrefsDebugMsgEdit").messageEditRestrictionEnabled())}a.doc="Allowed editing messages sent by others or exceed 15m editing window.";a.paramsToExecute=[];function e(){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a="On the receiver client, if you see this message, it has *successfully* processed the orphan message edit.",b="On the receiver client, if you see this message, it has *failed* to process the orphan messag eedit.",e=k();b=c("WANullthrows")(yield d("WAWebSendTextMsgChatAction").createTextMsgData(e,b));var f=new(d("WAWebMsgModel").Msg)(b);a=d("WAWebSendMessageEditAction").createEditMsgData(f,a,{});j("Sending orphan message edit. Will pause for 10s after this.");yield d("WAWebSendMessageEditAction").addAndSendMessageEdit(f,a);yield d("WAPromiseDelays").delayMs(1e4);j("Sending parent message");yield d("WAWebSendTextMsgChatAction").addAndSendTextMsg(e,b);j("Done. Check the receiver client")});return l.apply(this,arguments)}e.doc="Simulate orphan message edit.";e.paramsToExecute=[];function f(){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a="If you see this message, it has *successfully* processed the out of order edits",b="If you see this message, it has *failed* to process the out of order edits",e=k();j("Sending parent message.");var f=c("WANullthrows")(yield d("WAWebSendTextMsgChatAction").createTextMsgData(e,"parent message"));yield d("WAWebSendTextMsgChatAction").addAndSendTextMsg(e,f);e=c("WANullthrows")(d("WAWebMsgCollection").MsgCollection.get(f.id));j("Sending out of order message edits");f=[10,20,15,5].map(function(a){return Date.now()+a*1e3});var g=f.toSorted(function(a,b){return b-a})[0];for(f of f){var h=g===f?a:b;h=babelHelpers["extends"]({},d("WAWebSendMessageEditAction").createEditMsgData(e,h,{}),{latestEditSenderTimestampMs:f});yield d("WAWebSendMessageEditAction").addAndSendMessageEdit(e,h)}yield d("WAPromiseDelays").delayMs(1e3);j("Done. Check the result on receivers.")});return m.apply(this,arguments)}f.doc="Simulate out of order message edits.";f.paramsToExecute=[];function n(){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a,b,e=k();j("Sending test messages.");var f=(b=c("WANullthrows"))(yield (a=d("WAWebSendTextMsgChatAction")).createTextMsgData(e,"quoted message")),g=b(yield a.createTextMsgData(e,"parent message"));yield a.addAndSendTextMsg(e,f);yield a.addAndSendTextMsg(e,g);yield d("WAPromiseDelays").delayMs(1e3);j("Sending malformed message edit");a=b(d("WAWebMsgCollection").MsgCollection.get(g.id));g=b(d("WAWebMsgCollection").MsgCollection.get(f.id));b=babelHelpers["extends"]({},d("WAWebSendMessageEditAction").createEditMsgData(a,"This edit is sent as a reply message. However, it should be shown as a regular text messge, or the client has *failed* to exclude unallowed properties.",{}),g.msgContextInfo(e.id));yield d("WAWebSendMessageEditAction").addAndSendMessageEdit(a,b);yield d("WAPromiseDelays").delayMs(1e3);j("Done. Check the result on receivers.")});return o.apply(this,arguments)}n.doc="Simulate sending malformed message edit.";n.paramsToExecute=[];function p(){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=k(),b=c("WANullthrows")(yield d("WAWebSendTextMsgChatAction").createTextMsgData(a,"Sending an unknown message edit. Receiver should not show a FP message for it"));yield d("WAWebSendTextMsgChatAction").addAndSendTextMsg(a,b);a=new(d("WAWebMsgModel").Msg)(b);b=babelHelpers["extends"]({},d("WAWebSendMessageEditAction").createEditMsgData(a,"",{}),{editMsgType:d("WAWebMsgType").MSG_TYPE.AUDIO});a=new(d("WAWebMsgModel").Msg)(b);yield d("WAWebSendMsgRecordAction").sendMsgRecord(a);yield d("WAPromiseDelays").delayMs(1e3);j("Done. Check the result on receivers.")});return q.apply(this,arguments)}p.doc="Simulate sending an unknown message edit.";p.paramsToExecute=[];function r(a){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(a.type!==d("WAWebMsgType").MSG_TYPE.CHAT){j("Message must be a text message");return}var b=k(),c=a.body;a.body="Altered quoted text! You should not see this!";yield d("WAWebSendTextMsgChatAction").sendTextMsgToChat(b,"This reply message should be shown with the original quoted content on the receiver side.",{quotedMsg:a});a.body=c});return s.apply(this,arguments)}r.doc="Simulate sending a reply message with misleading quoted content.";r.paramsToExecute=[];a={toggleMessageEditRestriction:a,testOrphanMessageEdit:e,testOutOfOrderMessageEdits:f,testMalformedMessageEdit:n,testUnknownMessageEdit:p,testMisleadingReplyMessage:r};g["default"]=a}),98);
__d("WAWebDebugMessagingInfra",["Promise","WABase64","WAJids","WALogger","WAWebAddonEncryption","WAWebApiDeviceList","WAWebApiParticipantStore","WAWebChatCollection","WAWebDBDeviceListFanout","WAWebDebugUtils","WAWebDeviceListPk","WAWebFetchPrekeysJob","WAWebModelStorageUtils","WAWebMsgType","WAWebSchemaGroupMetadata","WAWebSchemaParticipant","WAWebSendClearChatAction","WAWebSendKeyDistributionMsgAction","WAWebSendTextMsgChatAction","WAWebSignal","WAWebSignalSessionApi","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["sendTextMessageToActiveChat: done sending ",' "','" message(s) to chat: ',""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["sendTextMessageToActiveChat: select a chat to send the message"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["groupChatGetGroupMetadataRecord: group metadata info missing for group ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["groupChatGetGroupMetadataRecord: the current chat is not a group"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["groupChatGetParticipantRecord: group participant info missing for group ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["groupChatGetParticipantRecord: the current chat is not a group"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["removeDeviceForActiveGroupChat: companion not found in "," record"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["removeDeviceForActiveGroupChat: group participant info missing for group ",""]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["removeDeviceForActiveGroupChat: no active group chat"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["removeDeviceForActiveChat: no active chat or chat is not a 1:1 chat"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["removeDeviceForUser: device "," has been removed from ",""]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(['removeDeviceForUser: device "','" not found in '," record"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(['removeDeviceForUser: user "','" has no companion devices']);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(['removeDeviceForUser: user "','" has been deleted']);v=function(){return a};return a}function w(){var a=babelHelpers.taggedTemplateLiteralLoose(["removeDeviceForUser: no record for ",""]);w=function(){return a};return a}function x(){var a=babelHelpers.taggedTemplateLiteralLoose(["printDevicesForActiveChat: "," devices: ",""]);x=function(){return a};return a}function y(){var a=babelHelpers.taggedTemplateLiteralLoose(['printDevicesForActiveChat: user "','" has been deleted']);y=function(){return a};return a}function z(){var a=babelHelpers.taggedTemplateLiteralLoose(["printDevicesForActiveChat: no record for ",""]);z=function(){return a};return a}function A(){var a=babelHelpers.taggedTemplateLiteralLoose(["printDevicesForActiveChat: no active chat or chat is not a 1:1 chat"]);A=function(){return a};return a}function B(){var a=babelHelpers.taggedTemplateLiteralLoose(["fetchPrekeysForActiveChat: requested "," prekeys, depleted: ",""]);B=function(){return a};return a}function C(){var a=babelHelpers.taggedTemplateLiteralLoose(["fetchPrekeysForActiveChat: requesting "," prekeys"]);C=function(){return a};return a}function D(){var a=babelHelpers.taggedTemplateLiteralLoose(["fetchPrekeysForActiveChat: no participant found"]);D=function(){return a};return a}function E(){var a=babelHelpers.taggedTemplateLiteralLoose(["fetchPrekeysForActiveChat: no active chat to fetch prekeys"]);E=function(){return a};return a}function F(){var a=babelHelpers.taggedTemplateLiteralLoose(["removeSenderKeyForActiveGroupChat: no participant found"]);F=function(){return a};return a}function G(){var a=babelHelpers.taggedTemplateLiteralLoose(["removeSenderKeyForActiveGroupChat: no active chat to remove sender key"]);G=function(){return a};return a}function H(){var a=babelHelpers.taggedTemplateLiteralLoose(["removeSignalSessionsForActiveChat: removed "," sessions"]);H=function(){return a};return a}function I(){var a=babelHelpers.taggedTemplateLiteralLoose(["removeSignalSessionsForActiveChat: no participant found"]);I=function(){return a};return a}function J(){var a=babelHelpers.taggedTemplateLiteralLoose(["removeSignalSessionsForActiveChat: no active chat to remove sessions"]);J=function(){return a};return a}function K(){var a=babelHelpers.taggedTemplateLiteralLoose(["chat "," cleared"]);K=function(){return a};return a}function L(){var a=babelHelpers.taggedTemplateLiteralLoose(["chat "," not found"]);L=function(){return a};return a}function M(){var a=babelHelpers.taggedTemplateLiteralLoose(["groupChatRotateSelfSenderKey: group participant info missing for group ",""]);M=function(){return a};return a}function N(){var a=babelHelpers.taggedTemplateLiteralLoose(["the current chat is not a group"]);N=function(){return a};return a}function aa(){var a=babelHelpers.taggedTemplateLiteralLoose(["sendKeyDistributionMsgToActiveChat: error ",""]);aa=function(){return a};return a}function ba(){var a=babelHelpers.taggedTemplateLiteralLoose(["sendKeyDistributionMsgToActiveChat: done"]);ba=function(){return a};return a}function ca(){var a=babelHelpers.taggedTemplateLiteralLoose(["sendKeyDistributionMsgToActiveChat: no active chat to send a key distribution message to"]);ca=function(){return a};return a}function a(a,b,c,d){return O.apply(this,arguments)}function O(){O=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){var f=Math.round(Date.now()/1e3),g=["\ud83d\ude00","\ud83d\ude02","\ud83d\ude07","\ud83d\ude08","\ud83d\ude0a"];g=g[Math.floor(Math.random()*g.length)];var h=self.crypto.getRandomValues(new Uint8Array(12));g={type:d("WAWebMsgType").MsgKind.ReactionDecrypted,encode:{text:g,senderTimestampMs:f}};f=(yield d("WAWebAddonEncryption").encryptAddOn(g,{messageSecret:e,iv:h,stanzaId:b,originalMessageSender:d("WAWebWidFactory").createUserWid(c),addOnSender:d("WAWebWidFactory").createUserWid(a)}));return{encPayload:d("WABase64").encodeB64(f),encIv:d("WABase64").encodeB64(h.buffer)}});return O.apply(this,arguments)}function c(){var a=d("WAWebDebugUtils").getSelectedChat();if(!a){d("WALogger").WARN(ca());return}d("WAWebSendKeyDistributionMsgAction").sendKeyDistributionMsg(a.id).then(function(){d("WALogger").LOG(ba())})["catch"](function(a){d("WALogger").WARN(aa(),a)})}c.doc="Send a sender key distribution message (invisible) to the active chat";function e(){return P.apply(this,arguments)}function P(){P=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=d("WAWebDebugUtils").getSelectedChat();if(!a){d("WALogger").WARN(J());return}var c=[];if(a.isGroup){var e=(yield d("WAWebApiParticipantStore").getGroupSenderKeyList(a.id));c=[].concat(e.skList,e.skDistribList);void d("WAWebApiParticipantStore").markForgetSenderKey(a.id,c)}else c=(yield d("WAWebDBDeviceListFanout").getFanOutList({wids:[a.id]}));if(c.length===0){d("WALogger").WARN(I());return}var f=0;yield (h||(h=b("Promise"))).all((yield d("WAWebSignal").Session.hasSignalSessions(c,!1)).map(function(a,b){if(a){f++;return d("WAWebSignal").Session.deleteRemoteSession(c[b])}}));d("WALogger").LOG(H(),f)});return P.apply(this,arguments)}e.doc="Remove sessions (to trigger prekeys fetch) for all the participants of the active chat";function f(a){return Q.apply(this,arguments)}function Q(){Q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("WAWebDebugUtils").getSelectedChat();if(!b||!b.isGroup){d("WALogger").WARN(G());return}b=(yield d("WAWebApiParticipantStore").getGroupSenderKeyList(b.id));b=[].concat(b.skList,b.skDistribList);if(b.length===0){d("WALogger").WARN(F());return}b=b;if(a!=null){var c=d("WAWebWidFactory").createWid(a);b=b.filter(function(a){return a.user===c.user&&a.server===c.server})}b.forEach(function(a){return d("WAWebSignalSessionApi").deleteDeviceSenderKey(a)})});return Q.apply(this,arguments)}f.doc="Remove sender key for active group chat (to trigger read-receipt) when receiving a message from target participant";function da(){return R.apply(this,arguments)}function R(){R=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=d("WAWebDebugUtils").getSelectedChat();if(!a){d("WALogger").WARN(E());return}var b=[];if(a.isGroup){var c=(yield d("WAWebApiParticipantStore").getGroupSenderKeyList(a.id));b=[].concat(c.skList,c.skDistribList)}else b=(yield d("WAWebDBDeviceListFanout").getFanOutList({wids:[a.id]}));if(b.length===0){d("WALogger").WARN(D());return}d("WALogger").LOG(C(),b.length);c=(yield d("WAWebFetchPrekeysJob").fetchPrekeys(b));a=c.depletedPrekeyCount;d("WALogger").LOG(B(),b.length,a)});return R.apply(this,arguments)}da.doc="Fetch prekeys for all the participants of the active chat";function ea(){return S.apply(this,arguments)}function S(){S=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=d("WAWebDebugUtils").getSelectedChat();if(!a||!a.isUser){d("WALogger").WARN(A());return}var b=d("WAWebDeviceListPk").createDeviceListPK(a.id),c=(yield d("WAWebApiDeviceList").getDeviceRecord(a.id));if(c==null){d("WALogger").WARN(z(),b);return}else if(c.deleted){d("WALogger").WARN(y(),b);return}d("WALogger").LOG(x(),b,c.devices.map(function(a){a=a.id;return c.id+":"+a}).join(",")).devConsole(c)});return S.apply(this,arguments)}ea.doc="Return list of the devices of the active chat";function fa(a,b){return T.apply(this,arguments)}function T(){T=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=d("WAWebDeviceListPk").createDeviceListPK(a);a=(yield d("WAWebApiDeviceList").getDeviceRecord(a));if(a==null){d("WALogger").WARN(w(),c);return}else if(a.deleted){d("WALogger").WARN(v(),c);return}var e=b;if(e==null){b=(b=a.devices.find(function(a){a=a.id;return a!==d("WAJids").DEFAULT_DEVICE_ID}))==null?void 0:b.id;if(b==null){d("WALogger").WARN(u(),c);return}e=b}b=babelHelpers["extends"]({},a,{devices:(b=a.devices)==null?void 0:b.filter(function(a){a=a.id;return a!==e})});if(((a=a.devices)==null?void 0:a.length)===((a=b.devices)==null?void 0:a.length)){d("WALogger").WARN(t(),e,c);return}yield d("WAWebApiDeviceList").createOrReplaceDeviceRecord(b);d("WALogger").LOG(s(),e,c);return d("WAWebWidFactory").createDeviceWidFromDeviceListPk(b.id,e)});return T.apply(this,arguments)}function ga(a){return U.apply(this,arguments)}function U(){U=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("WAWebDebugUtils").getSelectedChat();if(!b||!b.isUser){d("WALogger").WARN(r());return}yield fa(b.id,a)});return U.apply(this,arguments)}ga.doc="Remove one of the devices for the active chat.";function V(){return W.apply(this,arguments)}function W(){W=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=d("WAWebDebugUtils").getSelectedChat();if(!(a==null?void 0:a.id.isGroup())){d("WALogger").WARN(q());return}var b=a==null?void 0:a.id.toString(),c=null;yield d("WAWebModelStorageUtils").getStorage().lock(["participant"],function(a){var e=a[0];return e.get(b).then(function(a){if(!a){d("WALogger").WARN(p(),b);return}var f=new Map(a.senderKey);f.forEach(function(a,b){a=d("WAWebWidFactory").createDeviceWid(b);c==null&&a.device!=null&&(c=a.toString(),f["delete"](c))});if(c==null){d("WALogger").WARN(o(),f);return}return e.createOrReplace({groupId:a.groupId,senderKey:f,participants:a.participants,pastParticipants:a.pastParticipants,admins:a.admins,rotateKey:a.rotateKey,deviceSyncComplete:a.deviceSyncComplete})})})});return W.apply(this,arguments)}V.doc="Remove one of the devices for the active group chat.";function ha(){var a=d("WAWebChatCollection").ChatCollection.getActive();if(!(a==null?void 0:a.id.isGroup())){d("WALogger").WARN(N());return(h||(h=b("Promise"))).resolve()}var c=a==null?void 0:a.id.toString();return d("WAWebModelStorageUtils").getStorage().lock(["participant"],function(a){var b=a[0];return b.get(c).then(function(a){if(!a){d("WALogger").LOG(M(),c);return}return b.createOrReplace({groupId:a.groupId,senderKey:a.senderKey,participants:a.participants,pastParticipants:a.pastParticipants,admins:a.admins,rotateKey:!0,deviceSyncComplete:a.deviceSyncComplete})})})}ha.doc="Rotate the self sender key for the active group chat";function ia(){return X.apply(this,arguments)}function X(){X=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=d("WAWebChatCollection").ChatCollection.getActive();if(!(a==null?void 0:a.id.isGroup())){d("WALogger").WARN(n());return}a=a==null?void 0:a.id.toString();var b=(yield d("WAWebSchemaParticipant").getParticipantTable().get(a));if(b==null){d("WALogger").LOG(m(),a);return}return b});return X.apply(this,arguments)}ia.doc="Get Participant Table for the active group chat";function ja(){return Y.apply(this,arguments)}function Y(){Y=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=d("WAWebChatCollection").ChatCollection.getActive();if(!(a==null?void 0:a.id.isGroup())){d("WALogger").WARN(l());return}a=a==null?void 0:a.id.toString();var b=(yield d("WAWebSchemaGroupMetadata").getGroupMetadataTable().get(a));if(b==null){d("WALogger").LOG(k(),a);return}return b});return Y.apply(this,arguments)}ja.doc="Get GroupMetadata Table for the active group chat";V.doc="Remove one of the devices for the active group chat.";function ka(a,b){return Z.apply(this,arguments)}function Z(){Z=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){c===void 0&&(c=1);var e=d("WAWebDebugUtils").getSelectedChat();if(!e){d("WALogger").WARN(j());return}var f=[];for(var g=0;g<c;g++)f.push(d("WAWebSendTextMsgChatAction").sendTextMsgToChat(e,a+" | "+g));yield (h||(h=b("Promise"))).all(f);d("WALogger").LOG(i(),c,a,e.id)});return Z.apply(this,arguments)}ka.doc="Send [message], [n] times to the active chat.";function $(a){var c=d("WAWebChatCollection").ChatCollection.get(d("WAWebWidFactory").createWid(a));if(!c){d("WALogger").LOG(L(),a);return(h||(h=b("Promise"))).resolve()}return d("WAWebSendClearChatAction").sendClear(c,!1)["finally"](function(){d("WALogger").LOG(K(),a)})}$.doc="Clear chat passing chatId string. The same as clear chat from dropdown menu.";$={clearChat:$,encryptMockReactionMsg:a,groupChatGetParticipantRecord:ia,groupChatGetGroupMetadataRecord:ja,groupChatRotateSelfSenderKey:ha,sendKeyDistributionMsgToActiveChat:c,removeSignalSessionsForActiveChat:e,removeSenderKeyForActiveGroupChat:f,fetchPrekeysForActiveChat:da,printDevicesForActiveChat:ea,removeDeviceForActiveChat:ga,removeDeviceForActiveGroupChat:V,sendTextMessageToActiveChat:ka};g["default"]=$}),98);
__d("WAWebDebugMex",["WALogger","WAWebMexUsync","WAWebUserPrefsMeUser","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[DEBUG][MEX] MexUsync query result"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[DEBUG][MEX] executing MexUsync query"]);i=function(){return a};return a}function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a==null?{users:[{jid:d("WAWebUserPrefsMeUser").assertGetMe().toJid()}],telemetry:{context:"INTERACTIVE"},fetch:{username:!0}}:a;d("WALogger").LOG(i()).devConsole(a);a=(yield d("WAWebMexUsync").mexUsyncQuery(a));d("WALogger").LOG(h()).devConsole(a);return a});return j.apply(this,arguments)}a.doc="Manually execute Usync queries through the MEX GraphQL API";c={executeMexUsyncQuery:a};g["default"]=c}),98);
__d("WAWebDebugMisc",["JSResourceForInteraction","Promise","WALogger","WATimeUtils","WAWebBuildConstants","WAWebChatCollection","WAWebClientFeatureFlags","WAWebDebugUtils","WAWebEmojiVariantCollection","WAWebExternalLink.react","WAWebNoop","WAWebRecentEmojiCollection","WAWebSchemaChat","WAWebSendTextMsgChatAction","WAWebSetUsernameJob","WAWebUpdateUnreadChatAction","WAWebUserPrefsKeys","WAWebUserPrefsStore","WAWebUsernameTypes","WAWebWidFactory","asyncToGeneratorRuntime","cr:10197"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["startUsernameChat: error ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["startUsernameChat: with "," (LID: ",") "]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["User set to ACTIVE Status User"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["User set to INACTIVE Status User"]);l=function(){return a};return a}function a(a){return Math.floor(Math.random()*a)}a.doc="Gimme a random numbuh";a.paramsToExecute=[100];function e(){var a=!d("WAWebClientFeatureFlags").isFeatureEnabled("debug_commands");a===!0?d("WAWebClientFeatureFlags").debugEnableFeatureFlag("debug_commands"):d("WAWebClientFeatureFlags").debugDisableFeatureFlag("debug_commands")}e.doc="Toggle debug commands in compose box";e.paramsToExecute=[];function f(){d("WAWebRecentEmojiCollection").RecentEmojiCollection.reset()}f.doc="Resets the recent emojis for the current session";f.paramsToExecute=[];function m(){d("WAWebEmojiVariantCollection").EmojiVariantCollection.reset()}m.doc="Resets the currently selected emoji skin tones";m.paramsToExecute=[];function n(){return d("WAWebDebugUtils").getSelectedChat().id.toString()}n.doc="Copies the current chat's ID to the clipboard";n.paramsToExecute=[];n.displayName="chat.id";function o(){return d("WAWebBuildConstants").VERSION_STR}o.doc="Copies the current app's version to the clipboard";o.paramsToExecute=[];o.displayName="VERSION";function p(){d("WAWebExternalLink.react").openExternalLink("https://fburl.com/wa-wc-qa")}p.doc="Opens Intern Q&A to ask a question";p.paramsToExecute=[];p.displayName="\u2753Intern Q&A";function q(){return(h||(h=b("Promise"))).all(d("WAWebChatCollection").ChatCollection.map(function(a){if(a.hasUnread)return d("WAWebUpdateUnreadChatAction").markSeen(a)})).then(c("WAWebNoop"))}q.doc="Mark all chats as read";q.paramsToExecute=[];function r(a){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield c("JSResourceForInteraction")("WAWebShowroom.react").__setRef("WAWebDebugMisc").load());b=b.openShowroom;b(a)});return s.apply(this,arguments)}r.doc="Open UI Showroom";function t(){c("WAWebUserPrefsStore").setUser(d("WAWebUserPrefsKeys").KEYS.LAST_STATUS_USAGE,Date.now()-15*d("WATimeUtils").DAY_MILLISECONDS),d("WALogger").LOG(l())}t.doc="Set the last usage of Status to 15 days in the past, so the user is considered inactive.";function u(){c("WAWebUserPrefsStore").setUser(d("WAWebUserPrefsKeys").KEYS.LAST_STATUS_USAGE,Date.now()),d("WALogger").LOG(k())}u.doc="Set the last usage of Status to now, so the user is considered active.";function v(){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("WAWebSchemaChat").getChatTable().all());if(!a||a.length===0)return;a=a.map(function(a){return{id:a.id,tcToken:null,tcTokenTimestamp:null}});yield d("WAWebSchemaChat").getChatTable().bulkCreateOrMerge(a)});return w.apply(this,arguments)}v.doc="Deletes all received tokens";function x(a){return b("cr:10197")==null?void 0:b("cr:10197").getMessageByMsgId(a)}function y(a){return b("cr:10197")==null?void 0:b("cr:10197").getMessagesByParentMsgId(a)}function z(){return A.apply(this,arguments)}function A(){A=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("WAWebSchemaChat").getChatTable().all());if(!a||a.length===0)return;a=a.map(function(a){return{id:a.id,tcTokenSenderTimestamp:null}});yield d("WAWebSchemaChat").getChatTable().bulkCreateOrMerge(a)});return A.apply(this,arguments)}z.doc="Deletes all metadata related with the sent tokens";function B(a,b){return C.apply(this,arguments)}function C(){C=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=b,e=d("WAWebWidFactory").createWid(a+"@lid");yield d("WAWebSetUsernameJob").setUsernamesJob([{userId:d("WAWebWidFactory").toUserWid(e),username:c}]);c=d("WAWebChatCollection").ChatCollection.get(e);if(c)throw new Error("Existing chat found");c=d("WAWebChatCollection").ChatCollection.gadd(e);c.lidOriginType=d("WAWebUsernameTypes").LidOriginType.USERNAME;d("WAWebSendTextMsgChatAction").sendTextMsgToChat(c,"Helloworld").then(function(){d("WALogger").LOG(j(),b,a)}).then(function(){var a=e.toString();return d("WAWebSchemaChat").getChatTable().createOrReplace({id:a,t:1,unreadCount:0,archive:!1,isReadOnly:!1,isAnnounceGrpRestrict:null,modifyTag:0,muteExpiration:0,isAutoMuted:!1,name:"",notSpam:!1,pin:null,changeNumberOldJid:null,changeNumberNewJid:null,lidOriginType:d("WAWebUsernameTypes").LidOriginType.USERNAME})})["catch"](function(a){d("WALogger").WARN(i(),a)})});return C.apply(this,arguments)}B.doc="Start a username chat";a={randInt:a,toggleDebugCommands:e,resetRecentEmoji:f,resetEmojiVariant:m,getChatId:n,VERSION:d("WAWebBuildConstants").VERSION_STR,getVersion:o,openInternQA:p,markAllAsRead:q,openUIShowroom:r,deleteReceivedTcTokens:v,getMessageProtobufByMsgId:x,getMessagesByParentMsgId:y,deleteTcTokenSenderMetadata:z,startUsernameChat:B,UserPrefs:{setActiveStatusUser:u,setInactiveStatusUser:t}};g["default"]=a}),98);
__d("WAWebDebugNewsletter",["Promise","WAComms","WAJids","WALinkify","WALogger","WANullthrows","WAWap","WAWebChangeNewsletterOwnerAction","WAWebChatEntryPoint","WAWebCmd","WAWebCommonNewsletterEnums","WAWebContactCollection","WAWebContactModel","WAWebDebugABProps","WAWebDebugUtils","WAWebE2EProtoUtils","WAWebGetUserDisclosuresAction","WAWebLoadNewsletterPreviewChatAction","WAWebMexFetchNewsletterIsDomainPreviewableJob","WAWebMexFetchNewsletterMessageReactionSenderListJob","WAWebMexFetchNewsletterPendingInvitesJob","WAWebMexFetchNewsletterSubscribersJob","WAWebMsgKey","WAWebNewsletterBridgeApi","WAWebNewsletterBulkSendAdminInviteAction","WAWebNewsletterCleanupTasks","WAWebNewsletterCollection","WAWebNewsletterCreateAction","WAWebNewsletterCreateJob","WAWebNewsletterDirectorySearchAction","WAWebNewsletterGetReportsAction","WAWebNewsletterMetadataCollection","WAWebNewsletterOpenAtAction","WAWebNewsletterSendMsgAction","WAWebNewsletterSubscribeAction","WAWebPrimaryFeatures","WAWebPrimaryFeaturesModel","WAWebProfilePicThumbCollection","WAWebProfilePicThumbModel","WAWebQueryAndUpdateNewslettersMetadataAction","WAWebUserPrefsMeUser","WAWebWidFactory","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Invalid newsletter id ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Invalid contact or newsletter"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[debug][mexFetchNewsletterPendingInvites] Response"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[debug][mexFetchNewsletterIsDomainPreviewable] Response"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[debug][mexFetchNewsletterMessageReactionSenderList] Response"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[debug][mexFetchSubscriberList] Response"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["Invalid contact or newsletter"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["Newsletter enabled"]);p=function(){return a};return a}var q=function(a){return c("WANullthrows")(d("WAComms").getComms()).handleStanza(a,d("WAComms").DEFAULT_SOCKET_ID,0)},r=function(){return Math.round(Date.now()/1e3)};function s(a,b){var c;a=(c=d("WAWap")).makeWapNode("notification",{from:c.JID(d("WAJids").toNewsletterJid(a)),type:"newsletter",id:c.INT(r()),t:c.INT(r())},b);void q(a)}function t(){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWebQueryAndUpdateNewslettersMetadataAction").queryAndUpdateAllNewsletterMetadataAction(d("WAWebQueryAndUpdateNewslettersMetadataAction").NewsletterMetadataUpdateEntryPoint.Debug)});return u.apply(this,arguments)}a={enableNewsletter:function(){var a;void d("WAWebPrimaryFeatures").setPrimaryFeatures(Array.from(new Set([].concat((a=d("WAWebPrimaryFeaturesModel").PrimaryFeatures.features)!=null?a:[],["newsletter"])))).then(function(){void c("WAWebDebugABProps").overrideABProp("channels_enabled",2),d("WALogger").DEV(p())})},deleteAllNewsletters:function(){c("WAWebNewsletterMetadataCollection")["delete"](),d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection["delete"](),c("WAWebNewsletterCollection")["delete"]()},createNewsletter:function(a){void d("WAWebNewsletterCreateJob").createNewsletter({name:a,description:null,picture:null})},createAndOpenNewsletter:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("WAWebNewsletterCreateAction").createNewsletterAction(a));a!=null&&d("WAWebCmd").Cmd.openCreatedNewsletter(a)});function c(b){return a.apply(this,arguments)}return c}(),inviteUserToAdminChannel:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=d("WAWebContactCollection").ContactCollection.getModelsArray();e=e.find(function(a){return a.searchMatch(b,b)===!0});a=c("WAWebNewsletterCollection").get(a);if(e==null||a==null){d("WALogger").DEV(o());return!1}e=(yield d("WAWebNewsletterBulkSendAdminInviteAction").sendBulkNewsletterAdminInviteAction({invitees:[e],chat:a,inviteMessage:"Accept this invitation to be an admin for my WhatsApp channel, "+a.name,base64Thumb:null}));a=e.allFailed;return!a});function e(b,c){return a.apply(this,arguments)}return e}(),mockNewsletterCollection:function(a){var b=d("WAWebWidFactory").createWid("123@newsletter"),e="NY Times",f=Date.now()/1e3,g={id:b,name:e,nameUpdateTime:f,description:"Regular articles from New York Times",descriptionUpdateTime:f,handle:"nytimes",inviteCode:"test-newsletter-invite-code",size:12345,verified:!0,membershipType:d("WAWebCommonNewsletterEnums").NewsletterMembershipType.Subscriber,privacy:d("WAWebCommonNewsletterEnums").NewsletterPrivacy.Public,website:d("WALinkify").findLink("https://www.nytimes.com/")},h=new(c("WAWebContactModel"))({id:b,name:e}),i=new(d("WAWebProfilePicThumbModel").ProfilePicThumb)({id:b,tag:"1234",previewEurl:"https://images.unsplash.com/photo-1617854818583-09e7f077a156?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80",eurl:"https://images.unsplash.com/photo-1617854818583-09e7f077a156?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80",stale:!1,timestamp:f});d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.add(i);d("WAWebContactCollection").ContactCollection.add(h);c("WAWebNewsletterMetadataCollection").add(g);c("WAWebNewsletterCollection").add([{id:b,name:e,t:f,isReadOnly:Boolean(a==null?void 0:a.readOnly)}]);i=c("WAWebNewsletterCollection").get(b);i==null?void 0:i.msgs.add({id:new(c("WAWebMsgKey"))({fromMe:!1,remote:b,id:b.toJid()}),t:f,from:b,notifyName:e,body:"hello",type:"chat"})},sendMuteNotification:function(a){a===void 0&&(a="123@newsletter"),s(a,d("WAWap").makeWapNode("metadata",null,d("WAWap").makeWapNode("muted",{state:"on"})))},sendUnmuteNotification:function(a){a===void 0&&(a="123@newsletter"),s(a,d("WAWap").makeWapNode("metadata",null,d("WAWap").makeWapNode("muted",{state:"off"})))},sendJoinNotification:function(a){a===void 0&&(a="123@newsletter"),s(a,d("WAWap").makeWapNode("join",null,d("WAWap").makeWapNode("metadata",null,[d("WAWap").makeWapNode("name",{id:"1",update_time:d("WAWap").INT(r()),text:d("WAWap").CUSTOM_STRING("My Channel")})])))},sendLeaveNotification:function(a){a===void 0&&(a="123@newsletter"),s(a,d("WAWap").makeWapNode("leave",null))},sendMessageToNewsletter:function(a){a===void 0&&(a="123@newsletter");var b=new Uint8Array([50,24,10,22,84,104,105,115,32,105,115,32,97,32,116,101,115,116,32,109,101,115,115,97,103,101]);a=d("WAWap").makeWapNode("message",{from:d("WAWap").JID(d("WAJids").toNewsletterJid(a)),type:"text",id:d("WAWap").INT(r()),server_id:d("WAWap").INT(r()),t:d("WAWap").INT(r())},d("WAWap").makeWapNode("plaintext",null,b));void q(a)},loadNewsletterPreviewChat:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("WAWebLoadNewsletterPreviewChatAction").loadNewsletterPreviewChat(a));a!=null&&(yield d("WAWebCmd").Cmd.openChatBottom(a,d("WAWebChatEntryPoint").ChatEntryPoint.Link))});function c(b){return a.apply(this,arguments)}return c}(),getNewsletterDirectoryList:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("WAWebNewsletterDirectorySearchAction").getNewsletterDirectoryListAction(babelHelpers["extends"]({},a,{skipSubscribedNewsletters:!1})));a=a.newsletters;return a});function c(b){return a.apply(this,arguments)}return c}(),getNewsletterDirectorySearchResults:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("WAWebNewsletterDirectorySearchAction").getNewsletterDirectorySearchResultsAction(babelHelpers["extends"]({},a,{skipSubscribedNewsletters:!1})));a=a.newsletters;return a});function c(b){return a.apply(this,arguments)}return c}(),getNewsletterDirectoryCategoriesPreview:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){return d("WAWebNewsletterDirectorySearchAction").getNewsletterDirectoryCategoriesPreviewAction(a)});function c(b){return a.apply(this,arguments)}return c}(),getRecommendedNewsletters:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("WAWebNewsletterDirectorySearchAction").getRecommendedNewslettersAction());return a});function c(){return a.apply(this,arguments)}return c}(),refreshAllNewsletters:t,getUserNotices:function(){return d("WAWebGetUserDisclosuresAction").getUserDisclosuresAction()},openChannelAt:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){yield d("WAWebNewsletterOpenAtAction").openNewsletterAt({newsletterJid:a,serverId:b})});function c(b,c){return a.apply(this,arguments)}return c}(),mexFetchSubscriberList:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("WAWebMexFetchNewsletterSubscribersJob").mexFetchNewsletterSubscribers(a,b));d("WALogger").DEV(n()).devConsole(a)});function c(b,c){return a.apply(this,arguments)}return c}(),mexFetchNewsletterReactionSenderList:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("WAWebMexFetchNewsletterMessageReactionSenderListJob").mexFetchNewsletterMessageReactionSenderList(a,b));d("WALogger").DEV(m()).devConsole(a)});function c(b,c){return a.apply(this,arguments)}return c}(),mexFetchNewsletterIsDomainPreviewable:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("WAWebMexFetchNewsletterIsDomainPreviewableJob").mexFetchNewsletterIsDomainPreviewable(a));d("WALogger").DEV(l()).devConsole(a)});function c(b){return a.apply(this,arguments)}return c}(),mexFetchNewsletterPendingInvites:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("WAWebMexFetchNewsletterPendingInvitesJob").mexFetchNewsletterPendingInvites(a));d("WALogger").DEV(k()).devConsole(a)});function c(b){return a.apply(this,arguments)}return c}(),deletePreviewNewsletters:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWebNewsletterCleanupTasks").deletePreviewNewsletters()});function c(){return a.apply(this,arguments)}return c}(),sendNewsletterAdminInviteMessage:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("WAWebDebugUtils").getSelectedChat();a=d("WAWebE2EProtoUtils").strictDecodeJid(a);if(b==null||a==null)throw c("err")("No selected chat or invalid jid");yield d("WAWebNewsletterSendMsgAction").sendNewsletterAdminInviteMessage(b,{newsletterWid:a,invitee:d("WAWebWidFactory").createUserWid(b.id.toString()),inviteMessage:"Please become an admin!",base64Thumb:null})});function e(b){return a.apply(this,arguments)}return e}(),showDemoteNotif:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=d("WAWebContactCollection").ContactCollection.at(Math.floor(Math.random()*d("WAWebContactCollection").ContactCollection.length));void d("WAWebNewsletterBridgeApi").NewsletterBridgeApi.displayRoleChangeDesktopNotification({notification:{xwa2_notify_newsletter_admin_demote:{id:d("WAWebDebugUtils").getSelectedChat().id.toString(),admin:{id:null,pn:d("WAWebUserPrefsMeUser").getMeUser().toString()},user:{id:null,pn:a==null?void 0:a.id.toString()},actor:{id:null,pn:d("WAWebUserPrefsMeUser").getMeUser().toString()},user_new_role:"SUBSCRIBER"}}})});function c(){return a.apply(this,arguments)}return c}(),showPromoteNotif:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=d("WAWebContactCollection").ContactCollection.at(Math.floor(Math.random()*d("WAWebContactCollection").ContactCollection.length));void d("WAWebNewsletterBridgeApi").NewsletterBridgeApi.displayRoleChangeDesktopNotification({notification:{xwa2_notify_newsletter_admin_promote:{id:d("WAWebDebugUtils").getSelectedChat().id.toString(),admin:{id:null,pn:d("WAWebUserPrefsMeUser").getMeUser().toString()},user:{id:null,pn:a==null?void 0:a.id.toString()},actor:{id:null,pn:d("WAWebUserPrefsMeUser").getMeUser().toString()},user_new_role:"ADMIN"}}})});function c(){return a.apply(this,arguments)}return c}(),getNewsletterReports:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWebNewsletterGetReportsAction").getNewsletterReportsAction()});function c(){return a.apply(this,arguments)}return c}(),changeNewsletterOwner:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=d("WAWebContactCollection").ContactCollection.get(b);a=c("WAWebNewsletterCollection").get(a);if(b==null||a==null){d("WALogger").DEV(j());return}yield d("WAWebChangeNewsletterOwnerAction").changeNewsletterOwnerAction(a,b)});function e(b,c){return a.apply(this,arguments)}return e}(),subscribeToTestNewsletters:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield (h||(h=b("Promise"))).all(a.map(function(a){var b=d("WAWebE2EProtoUtils").strictDecodeJid(a);if(b==null){d("WALogger").DEV(i(),a);return}return d("WAWebNewsletterSubscribeAction").subscribeToNewsletterWidAction(d("WAWebWidFactory").toNewsletterWid(b))})),yield t()});function c(b){return a.apply(this,arguments)}return c}()};g["default"]=a}),98);
__d("WAWebDebugNewsletterAdminInsights",["WALogger","WATimeUtils","WAWebNewsletterAdminInsightsModel"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(['Please select a channel you own before calling "mockAdminInsightsForChat"']);h=function(){return a};return a}function a(){var a=window.chat;if(a==null){d("WALogger").WARN(h());return}var b=new(d("WAWebNewsletterAdminInsightsModel").NewsletterAdminInsights)({id:a.id,rangeStart:d("WATimeUtils").unixTime()-2628e3,rangeEnd:d("WATimeUtils").unixTime(),accountsReached:5924187,reachDelta:.107,followersReached:42e5,nonFollowersReached:1724187,reachByCountry:[{label:"Colombia",percentage:.401,value:23e5},{label:"Brazil",percentage:.201,value:11e5},{label:"Peru",percentage:.153,value:902e3},{label:"United Kingdom",percentage:.102,value:601e3}],followers:6854382,followersDelta:.013,followersByCountry:[{label:"Colombia",percentage:.401,value:23e5},{label:"Brazil",percentage:.201,value:11e5},{label:"Peru",percentage:.153,value:902e3},{label:"United Kingdom",percentage:.102,value:601e3}],netFollows:974e3,growthChart:i});(a=a.newsletterMetadata)==null?void 0:a.set("adminInsights",b)}c={mockAdminInsightsForChannel:a};e=Array(30).fill().map(function(a,b){return new Date(2024,11,b)});function b(a){return a.map(function(a){return[a.valueOf(),Math.random()*1e6]})}var i=[{data:[b(e),b(e),b(e)],dataLabels:["Net follows","Follows","Unfollows"],dataSetLabel:"Growth"}];g["default"]=c}),98);
__d("WAWebDebugNewsletterPolls",["Promise","WAJids","WALogger","WANullthrows","WATimeUtils","WAWebCRUDOperationsNewsletterPollsVotes","WAWebMexFetchNewsletterPollVotersJob","WAWebNewsletterFetchPollVotersAction","WAWebNewsletterPollsVotesUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["fetchPollVotersActionDebug: results"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["No message selected (right click on the poll message)"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["fetchNewsletterPollVotersDebug: results"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["No message selected (right click on the poll message)"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["createOrUpdateNewsletterReactionsDebug: ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["createOrUpdateNewsletterPollVoteDebug: SUCCESS"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["No message selected (right click on the poll message)"]);o=function(){return a};return a}function p(){return Math.trunc(Math.random()*(Math.pow(10,6)-10)+10)}function q(a){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(a=a.pollOptions)!=null?a:[];a=(yield (h||(h=b("Promise"))).all(a.map(function(a){return d("WAWebNewsletterPollsVotesUtils").getPollOptionHash(a.name)})));return new Map(a.map(function(a){return[a,p()]}))});return r.apply(this,arguments)}function a(){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=window.msg;if(a==null){d("WALogger").WARN(o());return}a=[{parentMsgKey:a.id.toString(),serverTimestamp:d("WATimeUtils").unixTime(),votesMap:yield q(a)}];try{yield d("WAWebCRUDOperationsNewsletterPollsVotes").bulkCreateOrUpdateVotes(a),d("WALogger").LOG(n())}catch(a){d("WALogger").WARN(m(),a)}});return s.apply(this,arguments)}function e(){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=window.msg;if(a==null){d("WALogger").WARN(l());return}a=(yield c("WAWebMexFetchNewsletterPollVotersJob")({newsletterId:d("WAJids").toNewsletterJid(a.id.remote.toString()),serverId:c("WANullthrows")(a.serverId),limit:100,voteHash:null}));d("WALogger").DEV(k()).devConsole(a)});return t.apply(this,arguments)}function f(a){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=window.msg;if(b==null){d("WALogger").WARN(j());return}b=(yield d("WAWebNewsletterFetchPollVotersAction").fetchPollVotersAction({msg:b,pollVoteLocalId:a}));d("WALogger").DEV(i()).devConsole(b)});return u.apply(this,arguments)}a={createOrUpdateNewsletterPollVoteDebug:a,fetchNewsletterPollVotersDebug:e,fetchPollVotersActionDebug:f};g["default"]=a}),98);
__d("WAWebDebugNewsletterReaction",["WAAckLevel","WALogger","WATimeUtils","WAWebDBCreateOrUpdateReactions","WAWebDebugUtils","WAWebMsgKey","WAWebNewsletterDBUtils","WAWebNewsletterGetMyAddOnsJob","WAWebNewsletterReactionCollection","WAWebNewsletterSendReactionAction","WAWebUserPrefsMeUser","WAWebdbCRUDOperationsNewsletterReaction","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[sendReaction] Failed to send reaction: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[sendReaction] collection ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[sendReaction]: SUCCESS"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[sendReaction] Select a message first to send a reaction (right click on msg bubble)"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["createOrUpdateNewsletterReactionsDebug: ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["createOrUpdateNewsletterReactionsDebug: SUCCESS"]);m=function(){return a};return a}function a(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b&&a.forEach(function(a){a.parentMsgKey=b.id.toString(),a.serverTimestamp=Date.now()});try{yield d("WAWebdbCRUDOperationsNewsletterReaction").createOrUpdateNewsletterReactions(a),d("WALogger").LOG(m())}catch(a){d("WALogger").WARN(l(),a)}});return n.apply(this,arguments)}a.doc="Create or update newsletter reactions";function e(a){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=window.msg;b||d("WALogger").DEV(k());try{yield d("WAWebNewsletterSendReactionAction").sendNewsletterReaction(b,a),d("WALogger").DEV(j()),d("WALogger").DEV(i(),d("WAWebNewsletterReactionCollection").NewsletterMessageReactionsCollection.getModelsArray())}catch(a){d("WALogger").WARN(h(),a)}});return o.apply(this,arguments)}e.doc="Send newsletter reaction";function f(a){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("WAWebDebugUtils").getSelectedChat();a={msgKey:yield c("WAWebMsgKey").newId(),parentMsgKey:d("WAWebNewsletterDBUtils").craftNewsletterMsgKeyFromServerId(a,b.id).toString(),senderUserJid:d("WAWebUserPrefsMeUser").getMeUser().toString(),reactionText:"\u2764\ufe0f",timestamp:d("WATimeUtils").unixTime()*1e3,orphan:1,read:!0,ack:d("WAAckLevel").ACK.SENT};yield d("WAWebDBCreateOrUpdateReactions").createOrUpdateReactions([a])});return p.apply(this,arguments)}function q(){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWebNewsletterGetMyAddOnsJob").getMyNewsletterAddOnsJob({count:5e3})});return r.apply(this,arguments)}a={createOrUpdateNewsletterReactionsDebug:a,sendReaction:e,createNewsletterOrphanReaction:f,getMyNewsletterAddOns:q};g["default"]=a}),98);
__d("WAWebDebugNewsletterSimilar",["WAJids","WALogger","WAWebMexFetchSimilarNewslettersJob","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["similar channels to ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Either provide an id or open a newsletter chat to fetch similar channels"]);i=function(){return a};return a}function a(a,b,c){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){b===void 0&&(b=10);c===void 0&&(c=["US"]);a=(a=a)!=null?a:(a=window.chat)==null?void 0:a.id.toString();if(a==null){d("WALogger").DEV(i());return}a=d("WAJids").toNewsletterJid(a);b=(yield d("WAWebMexFetchSimilarNewslettersJob").mexFetchSimilarNewsletters({newsletterId:a,limit:b,countryCodes:c}));d("WALogger").DEV(h(),a).devConsole(b)});return j.apply(this,arguments)}c={fetchSimilarNewsletters:a};g["default"]=c}),98);
__d("WAWebDebugNux",["WAWebNux","WAWebNuxAction","WAWebNuxCoolOff","WAWebNuxSync","WAWebUserPrefsNuxPreferences","WAWebUserPrefsStore"],(function(a,b,c,d,e,f,g){function a(){var a=Object.keys(d("WAWebNux").NuxKeyTypes.VIEW_COUNT_NUX);a.forEach(function(a){d("WAWebUserPrefsNuxPreferences").removeNUX(d("WAWebNux").NuxKeyTypes.VIEW_COUNT_NUX[a])});a=d("WAWebUserPrefsNuxPreferences").getNuxSyncList();a.forEach(function(a){c("WAWebUserPrefsStore").setUser(a)});d("WAWebUserPrefsNuxPreferences").removeAllNuxSync()}a.doc="Clear all data for ViewCountNux banners from storage.";a.paramsToExecute=[];function b(){var a=Object.keys(d("WAWebNux").NuxKeyTypes.VIEW_COUNT_NUX);a.forEach(function(a){void d("WAWebNuxAction").dismissNux(d("WAWebNux").NuxKeyTypes.VIEW_COUNT_NUX[a])})}b.doc="Set Data for for ViewCountNux banners from storage.";b.paramsToExecute=[];function e(){c("WAWebUserPrefsStore").setUser("chat_assignment_agent_has_assigned_chats",null)}e.doc="Resets flag indicating whether the user assigned a chat";e.paramsToExecute=[];function f(){c("WAWebUserPrefsStore").setUser(d("WAWebNux").asCoolOffNuxType(d("WAWebNux").NuxKeyTypes.COOL_OFF_NUX.MESSAGE_LABEL_DEPRECATION_MIGRATED_CHAT_LIST)),c("WAWebUserPrefsStore").setUser(d("WAWebNux").CoolOffPeriodKeys.MESSAGE_LABEL_DEPRECATION_MIGRATED_CHAT_LIST)}f.doc="Resets cool off banner for message label deprecation";f.paramsToExecute=[];function h(){var a=Object.keys(d("WAWebNux").NuxKeyTypes.COOL_OFF_NUX);a.forEach(function(a){d("WAWebNuxCoolOff").resetNuxCoolOff(d("WAWebNux").NuxKeyTypes.COOL_OFF_NUX[a])});d("WAWebNuxCoolOff").resetCoolOffNuxDate()}h.doc="Clear all data in local storage on NUX that acts based on cool-offs.";h.paramsToExecute=[];function i(a){return c("WAWebNuxSync").acknowledgeNux(a)}function j(a){return c("WAWebNuxSync").unAcknowledgeNux(a)}function k(a){return d("WAWebUserPrefsNuxPreferences").shouldShowNUX(a)}function l(){return d("WAWebNux").NuxSyncKey}l.doc="return NuxSyncKey enum";l.paramsToExecute=[];i={acknowledgeNux:i,unAcknowledgeNux:j,dismissAllNux:b,dismissNux:d("WAWebNuxAction").dismissNux,getNuxSyncList:d("WAWebUserPrefsNuxPreferences").getNuxSyncList,nuxExistsInNuxSync:d("WAWebUserPrefsNuxPreferences").nuxExistsInNuxSync,resetAllNuxCoolOff:h,resetAllNux:a,resetChatAssignmentNux:e,shouldShowNux:k,resetMessageLabelDeprecationNux:f,getNuxSyncKey:l};g["default"]=i}),98);
__d("WAWebDebugPollFixtures",[],(function(a,b,c,d,e,f){a="Lorem Ipsum is simply placeholder text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard placeholder text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.";b=[{name:"Pizza"},{name:"Sushi"},{name:"Tacos"},{name:"Pasta"},{name:"Burgers"}];f.question=a;f.foodOptions=b}),66);
__d("WAWebPollsSendPollResultSnapshotMsgAction",["Promise","WATimeUtils","WAWebAck","WAWebGetEphemeralFieldsMsgActionsUtils","WAWebLidMigrationUtils","WAWebMsgKey","WAWebMsgKeyUtils","WAWebMsgType","WAWebNewsletterSendMsgAction","WAWebSendMsgChatAction","WAWebViewMode.flow","WAWebWid","WAWebWidFactory","WAXplatTrim","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a.pollResultSnapshot,f=a.chat;a=a.quotedMsg;e=(yield j({pollResultSnapshot:e,chat:f,quotedMsg:a}));a=c("WAWebWid").isNewsletter(f.id);a?yield d("WAWebNewsletterSendMsgAction").sendNewsletterPollResultSnapshotMsg({msgData:e,chat:f}):yield (h||(h=b("Promise"))).all(d("WAWebSendMsgChatAction").addAndSendMsgToChat(f,e))});return i.apply(this,arguments)}function j(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.pollResultSnapshot,e=a.chat;a=a.quotedMsg;var f=e.id,g=d("WAWebLidMigrationUtils").getMeUserLidOrJidForChat(e,d("WAWebMsgKeyUtils").TranslateMsgKeyType.Message);a=(a=a==null?void 0:a.msgContextInfo(e.id))!=null?a:{};return babelHelpers["extends"]({id:new(c("WAWebMsgKey"))({from:g,to:f,id:yield c("WAWebMsgKey").newId(),participant:e.isGroup?d("WAWebWidFactory").toUserWid(g):void 0,selfDir:"out"}),type:d("WAWebMsgType").MSG_TYPE.POLL_RESULT_SNAPSHOT,kind:d("WAWebMsgType").MsgKind.PollResultSnapshot,t:d("WATimeUtils").unixTime(),from:g,to:f,isNewMsg:!0,local:!0,ack:d("WAWebAck").ACK.CLOCK,pollName:d("WAXplatTrim").trim(b.name),pollVotesSnapshot:b.pollVotesSnapshot},a,d("WAWebGetEphemeralFieldsMsgActionsUtils").getEphemeralFields(e),{viewMode:d("WAWebViewMode.flow").ViewModeType.VISIBLE})});return k.apply(this,arguments)}g.sendPollResultSnapshotMsg=a}),98);
__d("WAWebDebugPolls",["WALogger","WANullthrows","WATimeUtils","WAWebChatCollection","WAWebDBStoreMessageOrphans","WAWebDebugPollFixtures","WAWebFrontendMsgGetters","WAWebMsgKey","WAWebMsgModel","WAWebMsgType","WAWebNewsletterCollection","WAWebPollsPollVoteCollection","WAWebPollsPollVoteModel","WAWebPollsSendPollCreationMsgAction","WAWebPollsSendPollResultSnapshotMsgAction","WAWebPollsSendVoteMsgAction","WAWebSendMsgChatAction","WAWebUserPrefsMeUser","WAWebWidFactory","asyncToGeneratorRuntime","err","filterNulls"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["You must have a chat active to use this command."]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(['No early votes have been sent. First call "Debug.sendOrphanPollVote()"']);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["You must have a chat active to use this command."]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["You must have a chat active to use this command."]);k=function(){return a};return a}function l(a){var b,e,f=a.pollName,g=a.pollOptions,h=a.autoUpdate;a=a.initialVotes;b=(b=d("WAWebChatCollection").ChatCollection.getActive())!=null?b:c("WAWebNewsletterCollection").getActive();if(b==null)throw c("err")("You must open a chat first");var i=d("WAWebUserPrefsMeUser").getMeUser(),j=b.contact.id,k=Math.round(Date.now()/1e3),l=new(c("WAWebMsgKey"))({fromMe:!0,remote:j,id:"fake-poll-"+k});e=new(d("WAWebMsgModel").Msg)({id:l,from:i,to:j,type:d("WAWebMsgType").MSG_TYPE.POLL_CREATION,serverId:b.isNewsletter?(e=b.msgs.last())==null?void 0:e.serverId:void 0,t:k,ack:1,pollName:f,pollOptions:g.map(function(a,b){return{name:a,localId:b}}),pollSelectableOptionsCount:g.length-1});b.msgs.add(e);for(f=0;f<a;f++){b="fake-poll-"+(k+Math.random().toString());d("WAWebPollsPollVoteCollection").PollVoteCollection.add(new(d("WAWebPollsPollVoteModel").PollVote)({id:b,msgKey:new(c("WAWebMsgKey"))({fromMe:!0,remote:j,id:b}),parentMsgKey:l,selectedOptionLocalIds:[v(0,g.length-1)],senderTimestampMs:Date.now(),sender:i}))}if(h){var m=self.setInterval(function(){var a="fake-poll-"+(k+Math.random().toString());d("WAWebPollsPollVoteCollection").PollVoteCollection.add(new(d("WAWebPollsPollVoteModel").PollVote)({id:a,msgKey:new(c("WAWebMsgKey"))({fromMe:!1,remote:j,id:a}),parentMsgKey:l,selectedOptionLocalIds:[v(0,g.length-1)],senderTimestampMs:Date.now(),sender:i}))},1e3);self.setTimeout(function(){self.clearInterval(m)},6e4)}}function a(a){a===void 0&&(a=4),l({pollName:"What do we want to have for dinner tomorrow?",pollOptions:["Pizza","Sushi","Tacos","Pasta","Burgers"],autoUpdate:!1,initialVotes:a})}a.doc="Add a fake poll message locally. (Used for debugging view.)";a.paramsToExecute=[];function e(){l({pollName:d("WAWebDebugPollFixtures").question,pollOptions:["Pizza","Sushi","Tacos","Pasta","Burgers"],autoUpdate:!1,initialVotes:4})}e.doc="Add a fake poll message locally with large question and options. (Used for debugging view.)";e.paramsToExecute=[];function f(){l({pollName:"What do we want to have for dinner tomorrow?",pollOptions:["Pizza","Sushi","Tacos","Pasta","Burgers"],autoUpdate:!0,initialVotes:0})}f.doc="Add a fake poll message locally with results constantly updating. (Used for debugging view.)";f.paramsToExecute=[];function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=new(c("WAWebMsgKey"))({id:"key",remote:d("WAWebWidFactory").createWid("23456@c.us"),fromMe:!0});b=babelHelpers["extends"]({id:new(c("WAWebMsgKey"))({id:yield c("WAWebMsgKey").newId(),remote:d("WAWebWidFactory").createWid("23456@c.us"),fromMe:!0}),t:d("WATimeUtils").unixTime(),type:d("WAWebMsgType").MSG_TYPE.POLL_UPDATE,subtype:"poll_vote",addonEncrypted:!0,encPollVote:{encIv:new ArrayBuffer(8),encPayload:new ArrayBuffer(8)},senderTimestampMs:d("WATimeUtils").unixTimeMs(),pollUpdateParentKey:b},a);yield d("WAWebDBStoreMessageOrphans").storeMessageOrphans([b],function(a){return a.pollUpdateParentKey})});return n.apply(this,arguments)}var o=new WeakMap();function p(a){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("WAWebChatCollection").ChatCollection.getActive();if(b==null){d("WALogger").ERROR(k());return}var e=o.get(b);if(e==null){var f={name:"What should we have for dinner?",options:[{name:"Pizza"},{name:"Tacos"},{name:"Sushi"}],selectableOptionsCount:0};e=d("WAWebPollsSendPollCreationMsgAction").createPollCreationMsg({poll:f,chat:b});o.set(b,e)}f=c("WANullthrows")(e.pollOptions);a=(b=a)!=null?b:c("filterNulls")(Array.from(f.keys()).map(function(a){return a===0||Math.random()>5?a:null}));b=c("WANullthrows")(d("WAWebFrontendMsgGetters").getAsPollCreation(new(d("WAWebMsgModel").Msg)(e)));yield d("WAWebPollsSendVoteMsgAction").sendVote(b,new Set(a))});return q.apply(this,arguments)}p.doc="Send a poll vote before sending the corresponding poll. After calling this, you can send the poll by calling `sendPollForOrphanPollVotes()`. The vote will be for random options, but always include the first (Pizza).";function r(){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=d("WAWebChatCollection").ChatCollection.getActive();if(a==null){d("WALogger").ERROR(j());return}var b=o.get(a);if(b==null){d("WALogger").ERROR(i());return}o["delete"](a);yield d("WAWebSendMsgChatAction").addAndSendMsgToChat(a,b)});return s.apply(this,arguments)}r.doc="Send the poll for all queued orphan votes.";function t(){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a;a=(a=d("WAWebChatCollection").ChatCollection.getActive())!=null?a:c("WAWebNewsletterCollection").getActive();if(a==null){d("WALogger").ERROR(h());return}yield d("WAWebPollsSendPollResultSnapshotMsgAction").sendPollResultSnapshotMsg({pollResultSnapshot:{name:"Test Poll",pollVotesSnapshot:{pollVotes:[{option:{name:"Option 1",localId:0},optionVoteCount:v(1,100)},{option:{name:"Option 2",localId:1},optionVoteCount:v(100,1e3)},{option:{name:"Option 3",localId:2},optionVoteCount:v(1e4,1e6)}]}},chat:a})});return u.apply(this,arguments)}t.doc="Send a poll result snapshot message";function v(a,b){return Math.floor(Math.random()*(b-a+1)+a)}a={addFakePollHelper:l,addFakePoll:a,addFakePollMaxLength:e,addFakePollWithAutoUpdates:f,storePollVoteOrphanRecord:m,sendOrphanPollVote:p,sendPollForOrphanPollVotes:r,sendPollResultSnapshot:t,PollVoteCollection:d("WAWebPollsPollVoteCollection").PollVoteCollection};g["default"]=a}),98);
__d("WAWebDebugPrivacyExperience",["WALogger","WAWebApiChat","WAWebApiContact","WAWebChatCollection","WAWebContactCollection","WAWebContactShortName","WAWebDBCreateLidPnMappings","WAWebIsCagGroupCache","WAWebLidAwareContactsDB","WAWebSendRequestPhoneNumberChatAction","WAWebSendSharePhoneNumberChatAction","WAWebSetUsernameJob","WAWebUpdateLidMetadataJob","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["the current chat is null"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["the current chat is null"]);i=function(){return a};return a}function a(){return d("WAWebApiContact").lidPnCache}function e(){return c("WAWebIsCagGroupCache")}e.doc="Get cache object that can check if a given group ID is a CAG.";function f(a,b){return d("WAWebUpdateLidMetadataJob").updateLidMetadataJob([{lid:d("WAWebWidFactory").toUserWid(a),data:b}])}f.doc="Update Lid Metadata for given LID contact";function j(){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WAWebApiContact").clearLidPnMappingCache();var a=(yield c("WAWebLidAwareContactsDB").all());if(!a||a.length===0)return;a=a.map(function(a){var b=d("WAWebWidFactory").createUserWid(a.id);return!b.isLid()?null:{id:a.id,phoneNumber:void 0,phoneNumberCreatedAt:void 0,requestedPnTimestamp:void 0,shareOwnPn:void 0,displayNameLID:void 0}}).filter(Boolean);yield c("WAWebLidAwareContactsDB").bulkCreateOrMerge(a);d("WAWebContactCollection").ContactCollection.forEach(function(a){if(!a.id.isLid())return;a.phoneNumber=null;a.displayNameLID=null;a.shareOwnPn=!1;a.requestedPnTimestamp=null})});return k.apply(this,arguments)}j.doc="Deletes all information related with LID (displayName, shareOwnPn, lidXPn mapping, requestedPnTimestamp)";function l(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield d("WAWebSetUsernameJob").setUsernamesJob(a)});return m.apply(this,arguments)}function n(a,b){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=d("WAWebWidFactory").createUserWid(a);b={id:a,name:b,shortName:(a=d("WAWebContactShortName").getShortName(b))!=null?a:"",type:"in",isAddressBookContact:1,isContactSyncCompleted:0};yield c("WAWebLidAwareContactsDB").bulkCreateOrMerge([b]);d("WAWebContactCollection").ContactCollection.add(babelHelpers["extends"]({},b,{id:e}),{merge:!0})});return o.apply(this,arguments)}n.doc="Saves a lid contact to contact collection and database.";function p(){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("WAWebLidAwareContactsDB").all());if(!a||a.length===0)return;a=a.map(function(a){var b=d("WAWebWidFactory").createUserWid(a.id);if(!b.isLid()||!a.isAddressBookContact)return null;b=d("WAWebContactCollection").ContactCollection.get(b);b!=null&&b.setNotMyContact();return a.id}).filter(Boolean);a.length>0&&(yield d("WAWebApiContact").setNotAddressBookContacts(a))});return q.apply(this,arguments)}p.doc="Removes all lid contacts from address book.";function r(a,b){b===void 0&&(b=!0),void d("WAWebDBCreateLidPnMappings").createLidPnMappings({mappings:a.map(function(a){return{lid:d("WAWebWidFactory").createUserWid(a.lid,"lid"),pn:d("WAWebWidFactory").createUserWid(a.pn)}}),flushImmediately:b})}r.doc="Updates the LIDxPN mapping";function s(a){return d("WAWebApiContact").getCurrentLid(d("WAWebWidFactory").createUserWid(a))}s.doc="Get a current LID for a given Phone Number";function t(a){return d("WAWebApiContact").getPhoneNumber(d("WAWebWidFactory").createUserWid(a,"lid"))}t.doc="Get the Phone Number for a given LID";function u(){var a=d("WAWebChatCollection").ChatCollection.getActive();if(!a){d("WALogger").WARN(i());return}void d("WAWebSendRequestPhoneNumberChatAction").sendRequestPhoneNumber(a)}u.doc="Send a request phone number message";function v(){var a=d("WAWebChatCollection").ChatCollection.getActive();if(!a){d("WALogger").WARN(h());return}void d("WAWebSendSharePhoneNumberChatAction").sendSharePhoneNumber(a)}v.doc="Send a share phone number message";function w(){return d("WAWebApiChat").matChatCache}w.doc="Get all data in matChatCache";function x(){d("WAWebApiChat").clearMatChatCache_DEPRECATED()}function y(a){void d("WAWebSetUsernameJob").setUsernameQueryJob(a)}y.doc="Set the own username at the account level.";y={setUsername:y,clearMatChatMappingCache:x,createLidPnMappingsJob:r,setUsernames:l,createLidContact:n,resetLidContacts:p,getCurrentLid:s,getPhoneNumber:t,getLidPnCache:a,getIsCagGroupCache:e,getMatChatMappingCache:w,sendRequestPhoneNumber:u,sendSharePhoneNumber:v,updateLidMetadataJob:f,clearLidMetadata:j};g["default"]=y}),98);
__d("WAWebDebugReactions",["WALogger","WAWebCheckUpdateOrphanReactions","WAWebDBCreateOrUpdateReactions","WAWebMsgCollection","WAWebSchemaReactions","WAWebSendReactionMsgAction","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["getReactionsByParentDebug: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["sendReactionMsg: error ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["sendReactionMsg: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["changeOrphanStateReactionsDebug: error ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["changeOrphanStateReactionsDebug: ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["createOrUpdateReactionsDebug: error ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["createOrUpdateReactionsDebug: ",""]);n=function(){return a};return a}function a(a,b){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){try{if(typeof a==="string"){var c=(yield d("WAWebMsgCollection").MsgCollection.getMessagesById([a]));c=c.messages;c=(yield d("WAWebSendReactionMsgAction").sendReactionToMsg(c[0],b))}else c=(yield d("WAWebSendReactionMsgAction").sendReactionToMsg(a,b));d("WALogger").LOG(j(),String(c))}catch(a){d("WALogger").WARN(i(),a)}});return o.apply(this,arguments)}a.doc="Send a reaction message";function c(a,b){b&&a.forEach(function(a){a.parentMsgKey=b.id.toString()}),d("WAWebDBCreateOrUpdateReactions").createOrUpdateReactions(a).then(function(a){d("WALogger").LOG(n(),String(a))})["catch"](function(a){d("WALogger").WARN(m(),a)})}c.doc="Store in database reactions, use msg key from param if available";function e(a){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=String(a.id!=null?a.id:a);a=(yield d("WAWebSchemaReactions").getReactionsTable().equals(["parentMsgKey"],a));d("WALogger").LOG(h(),JSON.stringify(a));return a});return p.apply(this,arguments)}e.doc="Get reactions from table based on parent msg";function f(a){d("WAWebCheckUpdateOrphanReactions").checkUpdateForOrphanReactions(a).then(function(a){d("WALogger").LOG(l(),String(a))})["catch"](function(a){d("WALogger").WARN(k(),a)})}f.doc="Update orphans from reactions table database";a={sendReactionMsg:a,createOrUpdateReactionsDebug:c,getReactionsByParentDebug:e,changeOrphanStateReactionsDebug:f};g["default"]=a}),98);
__d("WAWebDebugScreenLock",["WALogger","WAWebLocalStorage","WAWebUserPrefsInfoStore","WAWebUserPrefsScreenLock","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["App Lock Debug: After trying to remove the lock from the noise info."]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["App Lock Debug: Before trying to remove the lock from the noise info."]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["App Lock Debug: After trying to lock the noise info."]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["App Lock Debug: Before trying to lock the noise info."]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["App Lock Debug: ",""]);l=function(){return a};return a}function m(){d("WALogger").DEV(l(),c("WAWebLocalStorage")==null?void 0:c("WAWebLocalStorage").getItem("WANoiseInfo"))}m.doc="Outputs the noise info from local storage.";function a(){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").DEV(k());m();var a=String(window.prompt("Create a password to lock WhatsApp."));a=(yield d("WAWebUserPrefsInfoStore").waNoiseInfo.lockNoiseInfo(a));a&&d("WAWebUserPrefsScreenLock").setScreenLockDurationInSeconds(900);d("WALogger").DEV(j());m()});return n.apply(this,arguments)}a.doc="Test locking the noise info with a user set password.";function e(){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").DEV(i());m();var a=String(window.prompt("Enter your current password to remove the app lock."));a=(yield d("WAWebUserPrefsInfoStore").waNoiseInfo.removeLockOnNoiseInfo(a));a?d("WAWebUserPrefsScreenLock").setScreenLockDurationInSeconds(0):alert("Incorrect password! Failed to remove the lock from the noise info.");d("WALogger").DEV(h());m()});return o.apply(this,arguments)}e.doc="Test removing the lock on the noise info with a user set password.";f={displayLocalStorageNoiseInfo:m,lockNoiseInfo:a,removeLockOnNoiseInfo:e};g["default"]=f}),98);
__d("WAWebDebugSendOrderDetailsMessage",["WALogger","WAWebBizOrderGetFriendlyRandomIdAction","WAWebBizSendOrderAction","WAWebOrderCollection","WAWebOrderItemModel"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["sendOrderDetailsMessageAsMerchantMD: error ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["sendOrderDetailsMessageAsMerchantMD: done"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["sendOrderDetailsMessageAsMerchantMD: no active chat to send an order message to"]);j=function(){return a};return a}function a(){var a=window.chat;if(!a){d("WALogger").WARN(j());return}var b=d("WAWebOrderCollection").OrderCollection.addOrder();b.products=[new(c("WAWebOrderItemModel"))({id:c("WAWebBizOrderGetFriendlyRandomIdAction")(),price:1e3,name:"Custom item",quantity:1,isCustomItem:!0,isQuantitySet:!0})];b.currency="USD";b.subtotal=1e3;b.triggerItemCollectionUpdate();d("WAWebBizSendOrderAction").sendOrderDetailsMessageAsMerchant({order:b,chat:a,orderNote:"",offset:1e3,total:1e3,discount:null,shipping:null,tax:null}).then(function(){d("WALogger").LOG(i())})["catch"](function(a){d("WALogger").WARN(h(),a)})}a.doc="Send order details in chat";g["default"]=a}),98);
__d("WAWebDebugSocket",["WAComms","WALogger","WAWebJSHaltDetector","WAWebLogoutReasonConstants","WAWebSocketModel"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[comms] Socket "," closed"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["closeSocket called"]);i=function(){return a};return a}function a(){d("WAWebSocketModel").Socket.socket.close(!1,"debug-close")}a.doc="Close the web socket";function b(){d("WAWebSocketModel").Socket.takeover()}b.doc="Use this web client session over other active ones";function c(a){if(a){d("WAWebSocketModel").Socket.logout(a);return}d("WAWebSocketModel").Socket.logout(d("WAWebLogoutReasonConstants").LogoutReason.UserInitiated)}c.doc="Log out of the web client";function e(){var a=d("WAComms").singletonOrThrowIfUninitialized("closeSocket"),b=a.socket;b&&(d("WALogger").LOG(i()),b.setOnClose(function(){var b=a.socketId;d("WALogger").LOG(h(),b);a.activePing&&b===a.activePing.socketId&&(a.activePing.handler.resolve(),a.activePing=null);a.filterPending(function(a){return a.attachedToSocketId===b}).forEach(function(b){return void a.removeHandler(b)});if(b!==a.socketId)return;a.socketId=d("WAComms").DEFAULT_SOCKET_ID;a.socket=null}),b.close())}e.doc="Take client offline";function f(){void d("WAComms").socketLoopIteration()}f.doc="Take client back online";a={Socket:d("WAWebSocketModel").Socket,disconnectSocket:a,logout:c,takeover:b,closeSocket:e,reopenSocket:f,jsHaltDetector:d("WAWebJSHaltDetector").jsHaltDetector};g["default"]=a}),98);
__d("WAWebDebugStickerPack",["WALogger","WAWebAttachMediaCollection","WAWebCanvasUtils","WAWebChatCollection","WAWebFileSaver","WAWebFileSaverTypes","WAWebFileUtils","WAWebMediaInMemoryBlobCache","WAWebRecentStickerCollectionMd","WAWebStickerPackConstants","WAWebStickerPackUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["No attached media"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["No media collection"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["No active chat"]);j=function(){return a};return a}function a(){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=d("WAWebRecentStickerCollectionMd").RecentStickerCollectionMd.map(function(a){return a.sticker});a=d("WAWebMediaInMemoryBlobCache").InMemoryMediaBlobCache.get(a[0].mediaData.filehash);if(a==null)return null;yield d("WAWebFileSaver").FileSaver.downloadData(a,"sticker",d("WAWebFileSaverTypes").AllowedFileExtensions.WEBP)});return k.apply(this,arguments)}function e(){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("WAWebStickerPackUtils").compressedRecentStickers(d("WAWebStickerPackConstants").MAX_RECENT_STICKERS));yield d("WAWebFileSaver").FileSaver.downloadData(a.stickerPackZip,"sticker_pack",d("WAWebFileSaverTypes").AllowedFileExtensions.ZIP)});return l.apply(this,arguments)}function f(){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("WAWebStickerPackUtils").generateStickerPackThumbnail());a=(yield d("WAWebCanvasUtils").canvasToBlob(a,"image/png"));yield d("WAWebFileSaver").FileSaver.downloadData(a,"stickers",d("WAWebFileSaverTypes").AllowedFileExtensions.PNG)});return m.apply(this,arguments)}function n(a){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("WAWebStickerPackUtils").compressedRecentStickers(d("WAWebStickerPackConstants").MAX_RECENT_STICKERS)),e=d("WAWebChatCollection").ChatCollection.getActive();if(e==null){d("WALogger").ERROR(j());return}e.attachMediaContents||e.setAttachMediaContents(new(c("WAWebAttachMediaCollection"))({chatParticipantCount:e.getParticipantCount()}));var f=e.attachMediaContents;if(f==null){d("WALogger").ERROR(i());return}a=(yield d("WAWebStickerPackUtils").generateStickerPackThumbnail(a,d("WAWebStickerPackConstants").THUMBNAIL_LENGTH,d("WAWebStickerPackConstants").THUMBNAIL_WIDTH,d("WAWebStickerPackConstants").IMAGE_LENGTH,d("WAWebStickerPackConstants").IMAGE_WIDTH));a=(yield d("WAWebCanvasUtils").canvasToBlob(a,"image/png"));yield f.processAttachments([{file:d("WAWebFileUtils").createFile([b.stickerPackZip],"Kewwl Emoji",{type:"application/zip"}),type:"sticker-pack"}],void 0,e);yield f.processAttachments([{file:d("WAWebFileUtils").createFile([a],"sticker_pack_thumbnail",{type:"image/png"}),type:"image"}],void 0,e);a=f.getValidMedias().find(function(a){return a.filename==="Kewwl Emoji"});if(a==null){d("WALogger").ERROR(h());return}f=f.getValidMedias()[1];var g={};g.type=a.type;g.caption="This is a caption";g.description="Your fav creepy emoji";g.publisher="Ana M";g.thumbnailFilehash=f.mediaPrep._mediaData.filehash;g.stickersInformation=b.stickerPackStickers;g.fileLength=b.stickerPackZip.size;a.preview=f.preview;a.mediaPrep._mediaData.preview=f.mediaPrep._mediaData.preview;yield a.mediaPrep.sendToChat(e,g)});return o.apply(this,arguments)}a={downloadRecentSticker:a,downloadStickerPack:e,sendStickerPack:n,downloadStickerPackThumbnailImage:f};g["default"]=a}),98);
__d("WAWebDebugSyncd",["Promise","WALogger","WASentinel","WASyncAction.pb","WASyncdCollectionHandlerTypesConverter","WASyncdConst","WASyncdKeyTypes","WATimeUtils","WAWebApiActiveMessageRanges","WAWebDeleteMessageForMeSync","WAWebMsgKey","WAWebPrimaryVersion","WAWebSchemaSyncActions","WAWebStarMessageSync","WAWebSyncdActionUtils","WAWebSyncdDb","WAWebSyncdFatal","WAWebSyncdWamUtils","WAWebWidFactory","asyncToGeneratorRuntime","decodeProtobuf","encodeProtobuf"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["decodeSyncAction : ",""]);i=function(){return a};return a}function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;a=(yield d("WAWebSchemaSyncActions").getSyncActionsTable().get(a));a&&(b=d("decodeProtobuf").decodeProtobuf(d("WASyncAction.pb").SyncActionDataSpec,a.binarySyncData).value);d("WALogger").LOG(i(),JSON.stringify(b));return b});return j.apply(this,arguments)}a.doc="Decode binary sync action value from sync-actions table";function e(a){void d("WAWebSyncdFatal").handleFatalError(a)}e.doc="enter syncd fatal state";function f(a){return d("WAWebApiActiveMessageRanges").getActiveMessageRanges(a)}f.doc="get all active message ranges for a chat";function k(){return d("WAWebSyncdDb")}k.doc="SyncDB internal API";function l(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a===void 0&&(a=10);a=(yield (h||(h=b("Promise"))).all(Array(a).fill(null).map(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return new(c("WAWebMsgKey"))({id:yield c("WAWebMsgKey").newId(),remote:d("WAWebWidFactory").createWid("12345@c.us"),fromMe:!0})}))));a=(yield c("WAWebStarMessageSync").getStarMessageMutations(a,!0)).map(function(a){var b=d("WASyncdCollectionHandlerTypesConverter").syncActionToSyncData(a.binarySyncAction);return d("WASyncdCollectionHandlerTypesConverter").setMutationToSyncAction({index:a.index,version:a.version,keyId:d("WASyncdKeyTypes").toSyncKeyId(new ArrayBuffer(6)),indexMac:new ArrayBuffer(32),valueMac:new ArrayBuffer(32),collection:a.collection,binarySyncData:b,timestamp:a.timestamp},d("WASyncdConst").SyncActionState.Orphan,d("WASyncdConst").Actions.Star,d("WAWebSyncdActionUtils").getMsgKeyFromStarActionIndex(a.index).toString(),d("WASyncdConst").SyncModelType.Msg)});yield d("WAWebSyncdDb").setSyncActionRows(a.map(d("WAWebSchemaSyncActions").convertFromSyncActionToRow))});return m.apply(this,arguments)}l.doc="generate orphan mutations for star message with random message keys";function n(a){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a===void 0&&(a=10);a=Array.from(Array(a).keys(),function(){return{id:new(c("WAWebMsgKey"))({id:c("WAWebMsgKey").newId_DEPRECATED(),remote:d("WAWebWidFactory").createWid("12345@c.us"),fromMe:!0}),t:d("WATimeUtils").unixTimeMs()}});a=(yield c("WAWebDeleteMessageForMeSync").getDeleteForMeMutations(a,!0)).map(function(a){var b=d("decodeProtobuf").decodeProtobuf(d("WASyncAction.pb").SyncActionValueSpec,a.binarySyncAction);b=d("encodeProtobuf").encodeProtobuf(d("WASyncAction.pb").SyncActionDataSpec,{value:b}).readBuffer();return d("WASyncdCollectionHandlerTypesConverter").setMutationToSyncAction({index:a.index,version:a.version,keyId:d("WASyncdKeyTypes").toSyncKeyId(new ArrayBuffer(6)),indexMac:new ArrayBuffer(32),valueMac:new ArrayBuffer(32),collection:a.collection,binarySyncData:b,timestamp:a.timestamp},d("WASyncdConst").SyncActionState.Orphan,d("WASyncdConst").Actions.DeleteMessageForMe,d("WAWebSyncdActionUtils").getMsgKeyFromStarActionIndex(a.index).toString(),d("WASyncdConst").SyncModelType.Msg)});yield d("WAWebSyncdDb").setSyncActionRows(a.map(d("WAWebSchemaSyncActions").convertFromSyncActionToRow))});return o.apply(this,arguments)}n.doc="generate orphan mutations for delete message for me with random message keys";function p(){return d("WAWebSyncdWamUtils").getKeyStats()}p.doc="SyncD key statistics";function q(){return d("WAWebPrimaryVersion").getPrimaryCurrentVersion()}q.doc="current primary app version";function r(){return d("WAWebPrimaryVersion").getPrimarySessionStartVersion()}r.doc="primary app version at the time of syncd session start";function s(){return c("WASentinel")()}e={enterSyncdFatalState:e,getActiveMessageRanges:f,decodeBinarySyncAction:a,generateOrphanStarMessageMutations:l,generateOrphanDeleteMessageForMeMutations:n,getSyncDB:k,getSyncdKeyStats:p,getPrimaryCurrentVersion:q,getPrimarySessionStartVersion:r,sendSentinelPatch:s};g["default"]=e}),98);
__d("WAWebDebugToast.react",["WAWebToast.react","WAWebToastManager","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a,b){a===void 0&&(a="Something you just did actually happened"),d("WAWebToastManager").ToastManager.open(i.jsx(d("WAWebToast.react").Toast,{msg:a,duration:b,action:[{actionText:"Action",dismiss:!0},{actionText:"Dismiss",dismiss:!0}]}))}a.doc="Render a basic toast";b={renderToast:a};g["default"]=b}),98);
__d("WAWebE2ETestRobots",[],(function(a,b,c,d,e,f){a={"compose-box":"ComposeRobot","conversation-panel-body":"ConversationPanelRobot","conversation-header":"ConversationPanelHeaderRobot","conversation-subheader":"ConversationSubheaderBannerRobot","msg-container":"MessageRobot","ui-showroom":"UiShowroomRobot","spam-banner":"SpamBannerRobot","lock-screen-landing-window":"LockScreenRobot","blocked-contacts-drawer":"BlockedContactsSettingsRobot","newsletter-drawer":"ChannelDrawerRobot","chat-butterbar":"ChatButterbarRobot","chat-list":"ChatListRobot","community-deactivation-info-drawer":"CommunityDeactivationRobot","community-settings-drawer":"CommunitySettingsDrawerRobot","create-newsletter-drawer":"CreateChannelDrawerRobot","developer-settings-drawer":"DeveloperSettingsRobot","chatlist-header":"HeaderRobot","drawer-title-help":"HelpRobot","new-chat-drawer":"NewChatRobot","privacy-settings-drawer":"PrivacySettingsRobot","profile-drawer":"ProfileRobot","screen-lock-drawer":"ScreenLockSettingsRobot","security-settings-drawer":"SecuritySettingsRobot","settings-drawer":"SettingsRobot","multi-select-bar":"MultiselectBarRobot","link-device-phone-number-code-view":"LoggedOutPhoneNumberCodeScreenRobot","link-device-phone-number-entry-screen":"LoggedOutPhoneNumberEntryScreenRobot",qrcode:"LoggedOutQrScreenRobot","chat-info-drawer":"ChannelInfoRobot","contact-info-header":"ContactInfoRobot","chat-dm-settings-drawer":"DisappearingMessagesRobot","group-info-header":"GroupInfoRobot","group-settings-drawer":"GroupSettingsRobot","media-gallery-drawer":"MediaDrawerRobot","group-invite-link-drawer":"WAWebGroupInviteLinkDrawerRobot","chat-modal":"ChatModalRobot","block-business-popup":"BlockBusinessModalRobot","confirm-popup":"ConfirmationModalRobot","contacts-modal":"ContactsModalRobot","settings-popup":"GroupSettingsModalRobot","mute-popup":"MuteModalRobot","passcode-removal-modal":"PasscodeRemovalModalRobot","passcode-setup-modal":"PasscodeSetupModalRobot","pin-message-modal":"PinMessageModalRobot","checkmark-large":"ProfilePicEditModalRobot","popup-contents":"ProfilePicSetOrRemoveModalRobot","svg-components-modal":"SVGComponentsModalRobot","status-main-panel":"StatusMainModalRobot","status-player-uie":"StatusPlayerModalRobot","highlight-e2e-message-modal":"UnifyE2EEBottomSheetModalRobot","attach-menu-popup":"AttachMenuPopupRobot","toast-body":"ToastRobot"};f.E2E_TEST_ROBOTS=a}),66);
__d("WAWebDebugE2EMode",["WAWebE2ETestRobots"],(function(a,b,c,d,e,f,g){var h=null,i=2e3;function a(){var a;a=(a=(a=document.body)==null?void 0:a.classList.toggle("e2e"))!=null?a:!1;k();a&&j()}a.doc="Toggles E2E debug mode";a.paramsToExecute=[];function j(){var a=function(){var a=document.querySelectorAll("[data-testid]");a.forEach(function(a){var b=a.getAttribute("data-testid");if(b!=null){b=d("WAWebE2ETestRobots").E2E_TEST_ROBOTS[b];b!=null&&a.setAttribute("data-testrobot",b)}})};a();h=self.setInterval(a,i)}function k(){var a=document.querySelectorAll("[data-testrobot]");a.forEach(function(a){a.removeAttribute("data-testrobot")});h!=null&&(self.clearInterval(h),h=null)}g.toggleE2EDebugMode=a}),98);
__d("WAWebInternalToolsLoadingScreenSimulator.react",["invariant","WAPromiseDelays","WAWebLoadingScreen.react","WAWebNoop","react","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g,h){var i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useEffect,m=b.useMemo,n=b.useState,o=function(a){switch(a){case"1-stage":return[{type:"delay",value:1e3}];case"2-stages":return[{type:"delay",value:1e3},{type:"stage",value:d("WAWebLoadingScreen.react").Stage.CONNECTING},{type:"delay",value:2e3},{type:"progress",value:100}];case"3-stages":return[{type:"delay",value:1e3},{type:"stage",value:d("WAWebLoadingScreen.react").Stage.CONNECTING},{type:"delay",value:2e3},{type:"progress",value:100},{type:"delay",value:450},{type:"stage",value:d("WAWebLoadingScreen.react").Stage.ORGANIZING}];case"4-stages":return[{type:"delay",value:1e3},{type:"stage",value:d("WAWebLoadingScreen.react").Stage.CONNECTING},{type:"delay",value:2e3},{type:"stage",value:d("WAWebLoadingScreen.react").Stage.DOWNLOADING},{type:"progress",value:20},{type:"delay",value:200},{type:"progress",value:40},{type:"delay",value:200},{type:"progress",value:60},{type:"delay",value:200},{type:"progress",value:80},{type:"delay",value:200},{type:"progress",value:100},{type:"delay",value:450},{type:"stage",value:d("WAWebLoadingScreen.react").Stage.ORGANIZING}]}};function a(a){var b=a.unifiedLoadingScreen;b=b===void 0?!1:b;var e=a.variant;a=n(0);var f=a[0],g=a[1],i=c("useWAWebUnmountSignal")();a=n(0);var j=a[0],p=a[1];a=n(d("WAWebLoadingScreen.react").Stage.INITIAL_LOAD);var q=a[0],r=a[1],s=m(function(){return o(e)},[e]);l(function(){if(f<s.length){var a=s[f],b=a.type;a=a.value;switch(b){case"delay":typeof a==="number"||h(0,56361);void d("WAPromiseDelays").delayMs(a).then(function(){return!i.aborted&&g(function(a){return a+1})});break;case"progress":typeof a==="number"||h(0,56361);p(a);g(function(a){return a+1});break;case"stage":typeof a!=="number"||h(0,56362);r(a);g(function(a){return a+1});break}}},[f,s,i]);return k.jsx(d("WAWebLoadingScreen.react").LoadingScreen,{progress:j,stage:q,onLogout:c("WAWebNoop"),theme:b?d("WAWebLoadingScreen.react").LoadingScreenTheme.UNIFIED:d("WAWebLoadingScreen.react").LoadingScreenTheme.MULTI_STAGE})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebDebugUI",["ReactDOM_DEPRECATED","WANullthrows","WAWebClientFeatureFlags","WAWebCmd","WAWebDebugE2EMode","WAWebInternalToolsLoadingScreenSimulator.react","WAWebMiscBrowserUtils","WAWebThemeContext","WAWebUserPrefsGeneral","WAWebUserPrefsLocales","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(){d("WAWebUserPrefsGeneral").getSystemThemeMode()&&d("WAWebUserPrefsGeneral").setSystemThemeMode(!1),d("WAWebThemeContext").setTheme(d("WAWebThemeContext").isDarkTheme()?"light":"dark")}a.doc="Toggles between light and dark mode";a.paramsToExecute=[];function b(){var a;(a=document.body)==null?void 0:a.classList.toggle("debug")}b.doc="Toggles CSS debug mode";b.paramsToExecute=[];function e(){var a=d("WAWebUserPrefsLocales").getMarkTranslations();d("WAWebUserPrefsLocales").setMarkTranslations(!a);c("WAWebMiscBrowserUtils").hardRefresh()}e.doc="Toggles translation brackets in strings";e.paramsToExecute=[];function f(a,b){var e=c("WANullthrows")(document.getElementById("app"));d("ReactDOM_DEPRECATED").render_DEPRECATED(i.jsx(c("WAWebInternalToolsLoadingScreenSimulator.react"),{variant:a,unifiedLoadingScreen:b}),e);a=function(){window.location.reload()};window.addEventListener("keydown",a)}f.doc="Show simulation for resume screen";f.paramsToExecute=["4-stages"];function j(){var a="a11y_block";d("WAWebClientFeatureFlags").isFeatureEnabled(a)?(d("WAWebClientFeatureFlags").debugDisableFeatureFlag(a),c("WAWebMiscBrowserUtils").hardRefresh()):d("WAWebClientFeatureFlags").debugEnableFeatureFlag(a)}j.doc="Toggle red a11y block tool to check accessibility issues";j.paramsToExecute=[];function k(){var a=["[aria-rowcount][role=grid]","[data-testid=chat-modal]"],b="debug-screenshot-toggle";b=document.getElementById(b);if(b)b.remove();else{b=document.createElement("style");b.id="debug-screenshot-toggle";b.type="text/css";b.innerHTML=a.join(",")+"{filter: blur(5px);}";(a=document.querySelector("head"))==null?void 0:a.appendChild(b)}}k.doc="Blur out the message context from the chat list before taking a secreenshot";k.paramsToExecute=[];function l(){var a="lid_debug";d("WAWebClientFeatureFlags").isFeatureEnabled(a)?(d("WAWebClientFeatureFlags").debugDisableFeatureFlag(a),c("WAWebMiscBrowserUtils").hardRefresh()):(d("WAWebClientFeatureFlags").debugEnableFeatureFlag(a),d("WAWebCmd").Cmd.toggleLidDebugBadge())}l.doc="Highlight the LID chats to help an easy distinguishion among PN chats";l.paramsToExecute=[];a={toggleDarkMode:a,toggleCSSDebugMode:b,toggleE2EDebugMode:d("WAWebDebugE2EMode").toggleE2EDebugMode,toggleMarkTranslations:e,toggleResumeScreen:f,toggleA11yRedBlock:j,toggleScreenShotMode:k,toggleLidDebugMode:l};g["default"]=a}),98);
__d("WAWebLinkAdMediaInFacebook",["WASmaxBizCtwaNativeAdUploadAdMediaRPC"],(function(a,b,c,d,e,f,g){function a(a){return d("WASmaxBizCtwaNativeAdUploadAdMediaRPC").sendUploadAdMediaRPC({mediaArgs:{mediaId:a,mediaType:"image"}}).then(function(a){if(a.name==="UploadAdMediaResponseSuccess")return"success";a.name;return"error"})}g.linkAdMediaInFacebook=a}),98);
__d("WAWebSetReadReceiptJob",["Promise","WADeprecatedSendIq","WADeprecatedWapParser","WAWap","WAWebBackendErrors","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i=new(c("WADeprecatedWapParser"))("photoResponseParser",function(a){a=a.child("privacy");a=a.child("category");var b=a.attrString("name");a=a.attrString("value");return b!=="readreceipts"?{value:"error"}:{value:a}});function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c;c=(yield d("WADeprecatedSendIq").deprecatedSendIq((c=d("WAWap")).wap("iq",{to:c.S_WHATSAPP_NET,type:"set",xmlns:"privacy",id:c.generateId()},c.wap("privacy",null,c.wap("category",{name:"readreceipts",value:a?"all":"none"}))),i));return!c.success?(h||(h=b("Promise"))).reject(new(d("WAWebBackendErrors").ServerStatusCodeError)(c.errorCode,c.errorText)):c.result});return j.apply(this,arguments)}g["default"]=a}),98);
__d("WAWebUploadNativeAdMedia",["Promise","WALogger","WAWebCryptoCalculateFilehash","WAWebMmsMediaTypes","WAWebUploadManager","WAWebWamEnumUploadOriginType","err"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["uploadBlobAsNativeAdMedia: missing fbid"]);i=function(){return a};return a}function a(a,e){return d("WAWebCryptoCalculateFilehash").calculateFilehashFromBlob(a).then(function(f){return new(h||(h=b("Promise")))(function(b,g){if(e.aborted){g(c("err")("uploadBlobAsNativeAdMedia: AbortError"));return}var h=new FileReader();h.onload=function(){if(e.aborted){g(c("err")("uploadBlobAsNativeAdMedia: AbortError"));return}var a=h.result;if(a==null||typeof a!=="object"){g(c("err")("uploadBlobAsNativeAdMedia: FileReader error"));return}void c("WAWebUploadManager").unencryptedUpload({file:a,hash:f,type:d("WAWebMmsMediaTypes").MEDIA_TYPES.NATIVE_AD_IMAGE,uploadOrigin:d("WAWebWamEnumUploadOriginType").UPLOAD_ORIGIN_TYPE.UNKNOWN,signal:e,isViewOnce:!1,generateThumbnailOnServer:!1}).then(function(a){a.fbid==null&&(d("WALogger").ERROR(i()).sendLogs("ctwa-web-native-ad-media-upload-missing-fbid"),g(c("err")("uploadBlobAsNativeAdMedia: missing fbid"))),b(String(a.fbid))})};h.readAsArrayBuffer(a)})})}g.uploadBlobAsNativeAdMedia=a}),98);
__d("WAWebDebugMsg",[],(function(a,b,c,d,e,f){b=["DistributeSenderKey","GroupDirectedMessage","PHashMismatch","GroupAddressingModeMismatch","ResendRevoke","RotateSenderKey","RetryReceiptSent","RetryReceiptReceived"];function a(a){if(a==="DistributeSenderKey"||a==="GroupDirectedMessage"||a==="PHashMismatch"||a==="GroupAddressingModeMismatch"||a==="ResendRevoke"||a==="RotateSenderKey"||a==="RetryReceiptSent"||a==="RetryReceiptReceived")return a}f.DebugMessageMembers=b;f.asDebugMessage=a}),66);
__d("WAWebUserPrefsDebugMsgs",["WAWebDebugMsg","WAWebUserPrefsDebugKeys","WAWebUserPrefsStore"],(function(a,b,c,d,e,f,g){var h=new Map([["DistributeSenderKey",!0],["GroupDirectedMessage",!0],["PHashMismatch",!0],["GroupAddressingModeMismatch",!0],["ResendRevoke",!0],["RotateSenderKey",!0],["RetryReceiptSent",!1],["RetryReceiptReceived",!1]]);function a(a){c("WAWebUserPrefsStore").set(c("WAWebUserPrefsDebugKeys").DEBUG_SHOWN_MSGS,a)}function b(){var a={},b=c("WAWebUserPrefsStore").get(c("WAWebUserPrefsDebugKeys").DEBUG_SHOWN_MSGS);for(var e=d("WAWebDebugMsg").DebugMessageMembers,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(f){if(g>=e.length)break;i=e[g++]}else{g=e.next();if(g.done)break;i=g.value}i=i;if(b==null||typeof b!=="object"||b instanceof Array){var j;a[i]=(j=h.get(i))!=null?j:!1;continue}j=b[i];if(typeof j!=="boolean"){var k;a[i]=(k=h.get(i))!=null?k:!1}else a[i]=j}return a}g.DEFAULT_VALUES=h;g.setDebugShownMsgs=a;g.getDebugShownMsgs=b}),98);
__d("WAWebDebug",["JSResourceForInteraction","Promise","WAAsyncSleep","WAComms","WACryptoPkcs7","WALogger","WANullthrows","WASendPassiveModeProtocol","WATimeUtils","WAWap","WAWapJid","WAWeb-dexie","WAWeb-moment","WAWebACSNetwork","WAWebAccountSyncJob","WAWebActiveAccountInfoModel","WAWebAdEntryPointsConfigurationModel","WAWebAdvDeviceInfoCheckJob","WAWebAgentCollection","WAWebAlarm","WAWebApiChat","WAWebApiContact","WAWebApiPendingDeviceSync","WAWebBizGatingUtils","WAWebCTWABizAccessTokenNonceManager","WAWebCTWADebugDrawer.react","WAWebChatCollection","WAWebClock","WAWebCmd","WAWebContactSyncBridge","WAWebContactSystemMsg","WAWebCreateChat","WAWebDBChatSerialization","WAWebDBPurgeExpiredRecords","WAWebDBReportingTokenUtils","WAWebDebugABProps","WAWebDebugACS","WAWebDebugAltDeviceLinking","WAWebDebugApi","WAWebDebugBot","WAWebDebugCatalog","WAWebDebugChatLock","WAWebDebugCollections","WAWebDebugComments","WAWebDebugContactManagement","WAWebDebugDB","WAWebDebugDownFunnelSignals","WAWebDebugEphemerality","WAWebDebugEvents","WAWebDebugFavorites","WAWebDebugFlipper","WAWebDebugGDPR","WAWebDebugGroup","WAWebDebugL10N","WAWebDebugLidMigration","WAWebDebugLists","WAWebDebugLocalStorage","WAWebDebugLogging","WAWebDebugMedia","WAWebDebugMessageEdit","WAWebDebugMessagingInfra","WAWebDebugMex","WAWebDebugMisc","WAWebDebugNewsletter","WAWebDebugNewsletterAdminInsights","WAWebDebugNewsletterPolls","WAWebDebugNewsletterReaction","WAWebDebugNewsletterSimilar","WAWebDebugNux","WAWebDebugPins","WAWebDebugPolls","WAWebDebugPrivacyExperience","WAWebDebugReactions","WAWebDebugRichTextInput","WAWebDebugRoutingToken","WAWebDebugScreenLock","WAWebDebugSendOrderDetailsMessage","WAWebDebugSmb","WAWebDebugSocket","WAWebDebugStickerPack","WAWebDebugSyncd","WAWebDebugToast.react","WAWebDebugUI","WAWebDeleteQuickReplyAction","WAWebDomFullscreen","WAWebDrawerManager","WAWebEstimateFtsStorageApi","WAWebEstimateIndexeddbUsageApi","WAWebFetchAdAccountToken","WAWebFetchAdEntryPointsConfiguration","WAWebFetchAds","WAWebFetchQuickPromotions","WAWebFetchResendMissingKeyJob","WAWebFrontendMsgGetters","WAWebFtsClient","WAWebGifPanelGifInfo","WAWebHandleMsgTypes.flow","WAWebHandleSingleMsg","WAWebInMemoryLottieStickerCache","WAWebKeyManagementHandleKeyShareApi","WAWebLinkAdMediaInFacebook","WAWebListsIntroPopupLoadable","WAWebMediaInMemoryBlobCache","WAWebMimeTypes","WAWebMiscBrowserUtils","WAWebMiscGatingUtils","WAWebModalManager","WAWebModelStorage","WAWebModelStorageUtils","WAWebMsgCollection","WAWebMsgHandleDebug","WAWebMsgKey","WAWebMsgModel","WAWebMsgType","WAWebNetworkStatus","WAWebNonAddressBookContactsJob","WAWebNoop","WAWebOffdStorage","WAWebPersistedJobDefinitions","WAWebPersistedJobManager","WAWebPremiumAccessEngine","WAWebPremiumMessageSchema","WAWebProfilePicThumbCollection","WAWebProtobufsE2E.pb","WAWebProtobufsProtocol.pb","WAWebProtobufsWeb.pb","WAWebPttMsgAudioStore","WAWebPttPrefs","WAWebQueryExistsJob","WAWebQuickPromotionActionMutation","WAWebRevokeStatusPsaMsgAction","WAWebSchemaAgent","WAWebSchemaChat","WAWebSchemaChatAssignment","WAWebSchemaDeviceList","WAWebSchemaMessage","WAWebSchemaPrivacyDisallowedList","WAWebSchemaReportingInfo","WAWebSchemaSubscription","WAWebSendMsgJob","WAWebSendMsgMetricReporter","WAWebSendMsgTypes","WAWebSendNonMessageDataRequest","WAWebSendTextMsgChatAction","WAWebServerPropsModel","WAWebSetPrivacyForOneCategoryAction","WAWebSetPrivacyJob","WAWebSetPrivacyTokensJob","WAWebSetReadReceiptJob","WAWebSignalStorage","WAWebSignalStorageUtils","WAWebSocketConstants","WAWebSocketModel","WAWebStartBackend","WAWebStickerSuggestions","WAWebSubscriptionCollection","WAWebSubscriptionJob","WAWebSubscriptions","WAWebSyncDeviceAdvDeviceListJob","WAWebTos","WAWebUim","WAWebUnifiedSession","WAWebUpdateDraftMessageChatAction","WAWebUpdateDraftMessageChatJob","WAWebUpdateServerPropsJob","WAWebUpdaterUpdatePoll","WAWebUploadNativeAdMedia","WAWebUserPrefsDebugMsgs","WAWebUserPrefsIndexedDBStorage","WAWebUserPrefsMeUser","WAWebUserPrefsMultiDevice","WAWebUserPrefsMultiDeviceDebug","WAWebUsernameTypes","WAWebUsync","WAWebUsyncUser","WAWebWAWCStorage","WAWebWam","WAWebWidFactory","asyncToGeneratorRuntime","cr:10202","cr:10203","cr:10204","decodeProtobuf","err","react"],(function(a,b,c,d,e,f,g){var h,aa;function ba(){var a=babelHelpers.taggedTemplateLiteralLoose(["",""]);ba=function(){return a};return a}function ca(){var a=babelHelpers.taggedTemplateLiteralLoose(["sendTextStatus: only support in dev"]);ca=function(){return a};return a}function da(){var a=babelHelpers.taggedTemplateLiteralLoose(["sendTextStatus: only support in dev"]);da=function(){return a};return a}function ea(){var a=babelHelpers.taggedTemplateLiteralLoose(["sendReplyToMsg: error ",""]);ea=function(){return a};return a}function fa(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Debug] bulkSendMessageWithoutStore: sent ","th message"]);fa=function(){return a};return a}function ga(){var a=babelHelpers.taggedTemplateLiteralLoose(["debug:setPrivacyForOneCategory"]);ga=function(){return a};return a}function ha(){var a=babelHelpers.taggedTemplateLiteralLoose(["debug: setDeviceListEntry: update successful"]);ha=function(){return a};return a}function ia(){var a=babelHelpers.taggedTemplateLiteralLoose(["debug: setDeviceListEntry: unsupported key: ",""]);ia=function(){return a};return a}function ja(){var a=babelHelpers.taggedTemplateLiteralLoose(["debug: setDeviceListEntry: no entry for ",""]);ja=function(){return a};return a}function ka(){var a=babelHelpers.taggedTemplateLiteralLoose(["createPremiumMessage: error ",""]);ka=function(){return a};return a}function la(){var a=babelHelpers.taggedTemplateLiteralLoose(["createPremiumMessage: ",""]);la=function(){return a};return a}function ma(){var a=babelHelpers.taggedTemplateLiteralLoose(["PME: handler 1, hasChanged:",""]);ma=function(){return a};return a}function na(){var a=babelHelpers.taggedTemplateLiteralLoose(["createOrReplaceAgent: error ",""]);na=function(){return a};return a}function oa(){var a=babelHelpers.taggedTemplateLiteralLoose(["createOrReplaceAgent: ",""]);oa=function(){return a};return a}function pa(){var a=babelHelpers.taggedTemplateLiteralLoose(["createOrReplaceAgent: error ",""]);pa=function(){return a};return a}function qa(){var a=babelHelpers.taggedTemplateLiteralLoose(["createOrReplaceAgent: ",""]);qa=function(){return a};return a}function ra(){var a=babelHelpers.taggedTemplateLiteralLoose(["sendTextMsg: error ",""]);ra=function(){return a};return a}function sa(){var a=babelHelpers.taggedTemplateLiteralLoose(["sendTextMsg: ",""]);sa=function(){return a};return a}function ta(){var a=babelHelpers.taggedTemplateLiteralLoose(["Error uploading ad media"]);ta=function(){return a};return a}function ua(){var a=babelHelpers.taggedTemplateLiteralLoose(["Media uploaded successfully"]);ua=function(){return a};return a}function va(){var a=babelHelpers.taggedTemplateLiteralLoose(["Error uploading ad media"]);va=function(){return a};return a}function wa(){var a=babelHelpers.taggedTemplateLiteralLoose(["Media uploaded successfully"]);wa=function(){return a};return a}function xa(){var a=babelHelpers.taggedTemplateLiteralLoose(["Error executing quick promotion action"]);xa=function(){return a};return a}function ya(){var a=babelHelpers.taggedTemplateLiteralLoose(["Quick promotion action executed successfully"]);ya=function(){return a};return a}function za(){var a=babelHelpers.taggedTemplateLiteralLoose(["Error fetching quick promotions"]);za=function(){return a};return a}function Aa(){var a=babelHelpers.taggedTemplateLiteralLoose(["Quick promotions fetched successfully"]);Aa=function(){return a};return a}function Ba(){var a=babelHelpers.taggedTemplateLiteralLoose(["Entry points updated successfully (in memory only, the local storage cache remained intact)"]);Ba=function(){return a};return a}function Ca(){var a=babelHelpers.taggedTemplateLiteralLoose(["Error fetching entry points"]);Ca=function(){return a};return a}function Da(){var a=babelHelpers.taggedTemplateLiteralLoose(["Entry points fetched successfully"]);Da=function(){return a};return a}function Ea(){var a=babelHelpers.taggedTemplateLiteralLoose(["Error fetching ads"]);Ea=function(){return a};return a}function Fa(){var a=babelHelpers.taggedTemplateLiteralLoose(["Ads fetched successfully"]);Fa=function(){return a};return a}function Ga(){var a=babelHelpers.taggedTemplateLiteralLoose(["Account info not found"]);Ga=function(){return a};return a}function Ha(){var a=babelHelpers.taggedTemplateLiteralLoose(["Token"]);Ha=function(){return a};return a}function Ia(){var a=babelHelpers.taggedTemplateLiteralLoose(["Nonce"]);Ia=function(){return a};return a}function Ja(){var a=babelHelpers.taggedTemplateLiteralLoose(["debug: ignoring syncd key share once"]);Ja=function(){return a};return a}function Ka(){var a=babelHelpers.taggedTemplateLiteralLoose(["contact sync failed: ",""]);Ka=function(){return a};return a}function La(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to sync non-address book contacts with error: ",""]);La=function(){return a};return a}var Ma=aa||c("react");function a(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=a.indexOf("@lid")>0?d("WAWebWidFactory").createWid(a):d("WAWebWidFactory").createWid(a+"@s.whatsapp.net");a=(yield d("WAWebApiChat").getMatChat_DEPRECATED(c));a=d("WAWebChatCollection").ChatCollection.gadd(a);d("WAWebSendTextMsgChatAction").sendTextMsgToChat(a,b).then(function(a){d("WALogger").LOG(sa(),String(a))}).then(function(){var a=c.toString();return d("WAWebSchemaChat").getChatTable().createOrReplace({id:a,t:1,unreadCount:0,archive:!1,isReadOnly:!1,isAnnounceGrpRestrict:null,modifyTag:0,muteExpiration:0,isAutoMuted:!1,name:"",notSpam:!1,pin:null,changeNumberOldJid:null,changeNumberNewJid:null})})["catch"](function(a){d("WALogger").WARN(ra(),a)})});return i.apply(this,arguments)}a.doc="Send a text message";function Na(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{a=(yield d("WAWebSchemaAgent").getAgentTable().bulkCreateOrReplace(a));d("WALogger").LOG(qa(),String(a))}catch(a){d("WALogger").WARN(pa(),a)}});return j.apply(this,arguments)}function e(){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield Na([{id:"1",name:"Agent1",deviceId:1,isDeleted:!0},{id:"11",name:"Vasily",deviceId:2,isDeleted:!1},{id:"111",name:"Max",deviceId:3,isDeleted:!1},{id:"1111",name:"Jesse",deviceId:10,isDeleted:!1},{id:"11111",name:"Fabio",deviceId:99,isDeleted:!1}])});return k.apply(this,arguments)}function f(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;a===void 0&&(a=10);var c=d("WAWebAgentCollection").AgentCollection.getModelsArray().filter(function(a){return a.id!==-1});b=(b=d("WAWebChatCollection").ChatCollection.getModelsArray())==null?void 0:b.slice(0,a).map(function(a,b){a=a.id.toString();var d=c[b%(c.length-1)].id;return{id:""+b,chatId:a,agentId:d,chatOpenedByAgent:!1}});try{a=(yield d("WAWebSchemaChatAssignment").getChatAssignmentTable().bulkCreateOrReplace(b));d("WALogger").LOG(oa(),String(a))}catch(a){d("WALogger").WARN(na(),a)}});return l.apply(this,arguments)}function Oa(){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=[{id:"WA_PREMIUM_1",isAutoRenewing:!0,isDeactivated:!1,expirationDate:void 0},{id:"WA_PREMIUM_2",isAutoRenewing:!1,isDeactivated:!1,expirationDate:void 0},{id:"WA_PREMIUM_3",isAutoRenewing:!1,isDeactivated:!1,expirationDate:100},{id:"WA_PREMIUM_4",isAutoRenewing:!1,isDeactivated:!0,expirationDate:200}];yield d("WAWebSchemaSubscription").getSubscriptionTable().bulkCreateOrReplace(a)});return m.apply(this,arguments)}function Pa(){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a;(a=d("WAWebSubscriptionCollection")).SubscriptionCollection.reset();a.SubscriptionCollection.add({id:"WA_PREMIUM_1",isAutoRenewing:!0,isDeactivated:!1,expirationDate:null});a='{"MD_EXTENSION": ["WA_PREMIUM_1"]}';yield d("WAWebPremiumAccessEngine").initialize(a);yield (h||(h=b("Promise"))).resolve();d("WAWebSubscriptionCollection").SubscriptionCollection.reset();d("WAWebSubscriptionCollection").SubscriptionCollection.add({id:"WA_PREMIUM_1",isAutoRenewing:!1,isDeactivated:!1,expirationDate:null});d("WAWebPremiumAccessEngine").update();d("WAWebPremiumAccessEngine").listen("MD_EXTENSION",function(a,b){d("WALogger").DEV(ma(),b).devConsole(a)})});return n.apply(this,arguments)}function Qa(a){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{a=(yield d("WAWebPremiumMessageSchema").getPremiumMessageTable().bulkCreateOrReplace(a));d("WALogger").LOG(la(),String(a))}catch(a){d("WALogger").WARN(ka(),a)}});return o.apply(this,arguments)}function Ra(){return(h||(h=b("Promise"))).all([d("WAWebModelStorage").destroy(),d("WAWebSignalStorage").destroy(),d("WAWebOffdStorage").destroy()]).then(function(){return location.reload()})}Ra.doc="Reset model, signal, offd local storage, and reload";function Sa(){return(h||(h=b("Promise"))).all([d("WAWebModelStorage").destroy(),d("WAWebOffdStorage").destroy()]).then(function(){return location.reload()})}Sa.doc="Clear all model and offd local storage, and reload";function Ta(a){a=d("WAWebWidFactory").createWid(a);var b=d("WATimeUtils").unixTime();return d("WAWebSetPrivacyTokensJob").setPrivacyTokens(a,[d("WAWebSetPrivacyTokensJob").TokenType.TrustedContact],b)}Ta.doc="Sends a iq to the server, that will issue a tcToken for the given chatId";function Ua(){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWebUserPrefsMultiDevice").clearRegistrationInfo();return(h||(h=b("Promise"))).all([d("WAWebModelStorage").destroy(),d("WAWebSignalStorage").destroy(),d("WAWebOffdStorage").destroy()]).then(function(){location.reload()})});return p.apply(this,arguments)}Ua.doc="Sign out";function Va(a){var b=new(d("WAWebUsync").USyncQuery)().withContactProtocol().withFeaturesProtocol(["voip"]);a.forEach(function(a){var c=d("WAWebWidFactory").createWid(a+"@s.whatsapp.net");b.withUser(new(d("WAWebUsyncUser").USyncUser)().withId(c).withPhone(a))});return b.execute().then(c("WAWebNoop"))}Va.doc="Send an usync info query to a list of phone numbers";function Wa(a){return d("WAWebSyncDeviceAdvDeviceListJob").syncDeviceListJob(a.map(function(a){return d("WAWebWidFactory").createUserWid(a)}),null,null).then(c("WAWebNoop"))}Wa.doc="Sync device list to a list of user jids";function Xa(){var a=d("WAWebUserPrefsMeUser").assertGetMe();return a.device===void 0||a.device===0}Xa.doc="Check if the current device is a primary";function Ya(a){return!this.isPrimary()?(h||(h=b("Promise"))).reject(c("err")("only primaries can add a contact")):new(d("WAWebUsync").USyncQuery)().withMode("delta").withContactProtocol().withUser(new(d("WAWebUsyncUser").USyncUser)().withPhone(a)).execute()}Ya.doc="Add the given number as our contact in the server";function Za(a){void d("WAWebQueryExistsJob").queryWidExists(d("WAWebWidFactory").createWid(a))}Za.doc="Performs a usync query on the given number or lid";function $a(a,b){b=d("WAWebChatCollection").ChatCollection.gadd({id:d("WAWebWidFactory").createWid(b+"@broadcast")});a=a.map(function(a){return{id:d("WAWebWidFactory").createWid(a+"@s.whatsapp.net")}});(b=b.groupMetadata)==null?void 0:b.set({participants:a})}$a.doc="Create a broadcast list with a list of participants";function ab(a){return c("WAWebSetReadReceiptJob")(a).then(function(a){a.value!=="error"&&d("WAWebUserPrefsMultiDeviceDebug").setDebugReadReceipt(a.value);return a})}ab.doc="Send a debug read receipt";function bb(){return d("WAWebRevokeStatusPsaMsgAction").revokeAllStatusPSA()}bb.doc="Deletes all PSA status campaigns";function cb(a){return d("WASendPassiveModeProtocol").sendPassiveModeProtocol(a)}cb.doc="Send a passive info query (active|passive)";function db(a){a===void 0&&(a=!0);return!a?d("WAWebContactSyncBridge").doFullContactSync(!1):d("WAWebNonAddressBookContactsJob").getAndUpdateNonAddressBookContacts()["catch"](function(a){d("WALogger").ERROR(La(),a)}).then(function(){return d("WAWebContactSyncBridge").doFullContactSync(!1)})["catch"](function(a){d("WALogger").ERROR(Ka(),a)})}db.doc="Sync Contacts";function eb(){d("WAWebPersistedJobManager").getJobManager().fireAndForget(d("WAWebPersistedJobDefinitions").jobSerializers.rotateKey())}eb.doc="Fire and forget a rotateKey job";function fb(){return d("WAWebAdvDeviceInfoCheckJob").runAdvDeviceInfoCheck()}fb.doc="run adv check and removal for expired devices";function gb(a,b){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=(yield d("WAWebSchemaDeviceList").getDeviceListTable().get(a));if(c==null){d("WALogger").WARN(ja(),a);return!1}c=new Set(["timestamp","expectedTs","expectedTsLastDeviceJobTs","expectedTsUpdateTs"]);for(var e in b)if(!c.has(e)){d("WALogger").WARN(ia(),e);return!1}return d("WAWebSchemaDeviceList").getDeviceListTable().merge(a,b).then(function(){d("WALogger").LOG(ha());return!0})});return q.apply(this,arguments)}gb.doc="set field(s) for an entry in the device table for a given user";function hb(){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("WAWebSchemaPrivacyDisallowedList").getPrivacyDisallowedListTable().get("groupadd"));d("WALogger").LOG(ga()).devConsole(a);var b=d("WAWebWidFactory").createWid("18475550015@c.us");return d("WAWebSetPrivacyForOneCategoryAction").setPrivacyForOneCategory({name:"groupadd",value:"contact_blacklist",users:[{action:d("WAWebSetPrivacyJob").PrivacyUserAction.Add,wid:b}],dhash:a==null?void 0:a.dhash},[b])});return r.apply(this,arguments)}hb.doc="set privacy setting for one category";function ib(a){c("WAWebDebugRoutingToken").setDebugRoutingToken(a)}ib.doc="Pin to a specific cdev server, used when your change is canaried on a cdev server";function jb(){return d("WAWebUpdaterUpdatePoll").checkForUpdates()}jb.doc="Trigger update check polling and install if an update is available";function s(a){a===void 0&&(a="158913843221@lid");return d("WAWebCreateChat").createChat({chatId:d("WAWebWidFactory").createWid(a)},"debugCreateChat",{createdLocally:!1})}s.doc="Create a LID based chat. LID: https://fburl.com/code/h3sgykvt";s.paramsToExecute=[];function t(a){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a.indexOf("@lid")>0?d("WAWebWidFactory").createWid(a):d("WAWebWidFactory").createWid(a+"@s.whatsapp.net");var b=d("WAWebApiContact").getCurrentLid(d("WAWebWidFactory").toUserWid(a));if(b==null)throw c("err")("cannot find lid from provided: "+a.toString());yield d("WAWebCreateChat").createChat({chatId:b},"debugCreateChat",{lidOriginType:d("WAWebUsernameTypes").LidOriginType.GENERAL});return b});return u.apply(this,arguments)}t.doc="Create a general LID chat";function kb(a,b){return v.apply(this,arguments)}function v(){v=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield t(a));a=d("WAWebChatCollection").ChatCollection.gadd(a);void d("WAWebSendTextMsgChatAction").sendTextMsgToChat(a,b)});return v.apply(this,arguments)}kb.doc="Create a general LID chat and send test message";function lb(a){a===void 0&&(a="158913843221@lid");a=d("WAWebContactSystemMsg").genNotificationMsg(d("WAWebWidFactory").createWid(a),{type:"notification_template",kind:d("WAWebMsgType").MsgKind.NotificationTemplate,subtype:"masked_thread_created",templateParams:[]});return d("WAWebHandleSingleMsg").handleSingleMsg(c("WANullthrows")(a.from),a,"debugCreateChat",d("WAWebHandleMsgTypes.flow").MessageOverwriteOption.NO_OVERWRITE,!1)}lb.doc="Generates a CTWA system message, used for E2E testing purposes as this system message is only generated on phone devices, but we need to test the functionality of the system message";function mb(){}function w(){}w.doc="Toggle Sticker Maker debug mode (DEV only)";w.paramsToExecute=[];function nb(){d("WAWebKeyManagementHandleKeyShareApi").setAppStateSyncKeyShareHandler(function(a){return function(){d("WALogger").DEV(Ja());d("WAWebKeyManagementHandleKeyShareApi").setAppStateSyncKeyShareHandler(function(b){return a});return(h||(h=b("Promise"))).resolve()}})}function ob(){return c("WAWebMiscBrowserUtils").persistentExpiringId()}function pb(a,b){return d("WAWebDBPurgeExpiredRecords").purgeExpiredOrphanRecords(a,b)}function x(){return c("WAWebDebugABProps").overrideABProp("message_quick_reply",!d("WAWebBizGatingUtils").messageQuickReplyEnabled()).then(function(){return location.reload()})}x.doc="Toggle quick reply feature";x.paramsToExecute=[];function qb(a){return d("WAWebUserPrefsMultiDeviceDebug").setDebugEnableOfflineMock(a)}qb.doc="Enable/disable offline simulator.";function rb(a){return d("WAWebUserPrefsMultiDeviceDebug").setDebugOfflineMockTraffic(a)}rb.doc="Override incoming mock traffic (traffic.js).";function sb(){return d("WAWebApiChat").pruneExpiredOrphanTcTokens()}sb.doc="Prunes expired orphan tokens older than 30 days";function tb(a,b){return y.apply(this,arguments)}function y(){y=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=d("WAWebUserPrefsMeUser").getMeUser();a=d("WAWebWidFactory").createWid(a+"@c.us");for(var f=0;f<b;f++){var g="test-message-"+f;g=new(d("WAWebMsgModel").Msg)({id:new(c("WAWebMsgKey"))({from:e,to:a,id:c("WAWebMsgKey").newId_DEPRECATED()}),body:g,type:"chat",subtype:null,t:d("WATimeUtils").unixTime(),from:e,to:a,isNewMsg:!0,local:!0,ack:0});yield d("WAWebSendMsgJob").encryptAndSendMsg({type:d("WAWebSendMsgTypes").SendMessageRecordType.Message,data:g},d("WAWebSendMsgMetricReporter").createMsgModelMetricReporter(g));d("WALogger").DEV(fa(),f)}});return y.apply(this,arguments)}tb.doc="Sending multiple messages without store message in DB, which will make the sending faster";function ub(a){return z.apply(this,arguments)}function z(){z=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{if(typeof a==="string"){var b=(yield d("WAWebMsgCollection").MsgCollection.getMessagesById([a]));b=b.messages;b=b[0]}else b=a;a=d("WAWebFrontendMsgGetters").getChat(b);yield d("WAWebSendTextMsgChatAction").sendTextMsgToChat(a,"testing",{quotedMsg:b})}catch(a){d("WALogger").WARN(ea(),a)}});return z.apply(this,arguments)}ub.doc="Send a quotedMsg to selected msg";function vb(a){return A.apply(this,arguments)}function A(){A=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,d=a.mockFilePath,e=a.mockName,f=a.variables;a=a.response;var g=(yield c("JSResourceForInteraction")("WAWebCommsE2ESmaxMockInjector").__setRef("WAWebDebug").load());g=g;a=a==null?{}:(b={},b[e]=a,b);yield g.init({mockFilePaths:[d],responseMap:a,variables:f});g.start(e)});return A.apply(this,arguments)}vb.doc="Initialize a smax runner instance in debug";function wb(){return B.apply(this,arguments)}function B(){B=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebCommsE2ESmaxMockInjector").__setRef("WAWebDebug").load());return a});return B.apply(this,arguments)}wb.doc="Get the global smax runner instance in debug";function xb(a){return d("WAWap").decodeStanzaDebug(a)}xb.doc="Decode a stanza from a buffer and return the WAP node";function yb(a){a=d("WACryptoPkcs7").unpadPkcs7(new Uint8Array(c("WANullthrows")(a.futureproofBuffer)));return d("decodeProtobuf").decodeProtobuf(d("WAWebProtobufsE2E.pb").MessageSpec,a)}yb.doc="Returns the decoded message object of the given futureproof message";function zb(a){return d("WAWebSendNonMessageDataRequest").sendPeerDataOperationRequest(d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.GENERATE_LINK_PREVIEW,{urls:[a],includeHqThumbnail:!0})}zb.doc="requestUrlPreview";function Ab(){return C.apply(this,arguments)}function C(){C=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("WAWebDebugSyncd").decodeBinarySyncAction('["primary_version","current"]'));return a==null?void 0:(a=a.primaryVersionAction)==null?void 0:a.version});return C.apply(this,arguments)}Ab.doc="getPrimaryVersion";function Bb(a){a=a.map(function(a){return d("WAWebWidFactory").createWid(a+"@c.us")});return d("WAWebFetchResendMissingKeyJob").fetchResendMissingKeys(a)}Bb.doc="send fetch missing key iq for given list of phone number";function Cb(a){a=d("WAWebWidFactory").createWid(a);a=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.get(a);a&&(a.timestamp=0)}function Db(){return D.apply(this,arguments)}function D(){D=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){c("WAWebNetworkStatus").simulateNetworkStatus(!1),d("WAWebSocketModel").Socket.socket=null,d("WAWebSocketModel").Socket.state=d("WAWebSocketConstants").SOCKET_STATE.OPENING,d("WAWebSocketModel").Socket.stream=d("WAWebSocketConstants").SOCKET_STREAM.DISCONNECTED,yield d("WAComms").stopComms()});return D.apply(this,arguments)}function Eb(){return E.apply(this,arguments)}function E(){E=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){c("WAWebNetworkStatus").simulateNetworkStatus(!0),yield d("WAWebStartBackend").startBackend()});return E.apply(this,arguments)}function Fb(){return F.apply(this,arguments)}function F(){F=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WAWebCmd").Cmd.reconnectSocket()});return F.apply(this,arguments)}function Gb(){d("WAWebServerPropsModel").ServerProps.gifProvider=d("WAWebGifPanelGifInfo").getGifProvider()==="giphy"?"tenor":"giphy"}Gb.doc="Toggle between gif providers";function Hb(a,b){var c=new AbortController();return d("WAWebUpdateDraftMessageChatJob").updateDraftMessageChat({chatId:a,draftMessage:{text:b},abortSignal:c.signal})}Hb.doc="update draft message job to update the text in the chat table";function Ib(a,b){return d("WAWebUpdateDraftMessageChatAction").updateDraftMessageChat(a,{text:b})}Ib.doc="Update draft message to update the text in the chat DB table as well as the Chat model UI.";function Jb(a){return G.apply(this,arguments)}function G(){G=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=typeof a==="string"?a:a.toString();var b=(yield d("WAWebSchemaChat").getChatTable().get(a));if(b==null)throw c("err")("No chat found for id "+a);return d("WAWebDBChatSerialization").deserializeChat(b)});return G.apply(this,arguments)}Jb.doc="get chat row deserialized from DB";function H(){return d("WAWebModelStorageUtils").getStorage().lock(["quick-promotions"],function(a){a=a[0];return a.clear()})}H.doc="delete the Quick Promotion local cache";H.paramsToExecute=[];function Kb(a){d("WAWebUserPrefsMultiDeviceDebug").setDebugDecryptFail(a)}Kb.doc="Set the next N message decryptions to fail";function Lb(){return d("WAWebUserPrefsMultiDeviceDebug").getDebugDecryptFail()}Lb.doc="Check how many more message decryptions are set to fail";function Mb(a){d("WAWebUserPrefsMultiDeviceDebug").setDebugDoNotSendRetryReceipt(a)}Mb.doc="Set the next N retry receipts will not be sent";function Nb(){return d("WAWebUserPrefsMultiDeviceDebug").getDebugDoNotSendRetryReceipt()}Nb.doc="Check how many more retry receipts will be skipped";function Ob(){return I.apply(this,arguments)}function I(){I=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return(h||(h=b("Promise"))).all(Array.from(d("WAWebModelStorageUtils").getStorage().tables.keys()).map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){return[a,yield d("WAWebModelStorageUtils").getStorage().table(a).all()]});return function(b){return a.apply(this,arguments)}}()))});return I.apply(this,arguments)}Ob.doc="Dump all model data from IndexedDB";function Pb(){return J.apply(this,arguments)}function J(){J=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return(h||(h=b("Promise"))).all(Array.from(d("WAWebSignalStorageUtils").getStorage().tables.keys()).map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){return[a,yield d("WAWebSignalStorageUtils").getStorage().table(a).all()]});return function(b){return a.apply(this,arguments)}}()))});return J.apply(this,arguments)}Pb.doc="Dump all signal data from IndexedDB";function K(a){return L.apply(this,arguments)}function L(){L=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){return d("WAWebWam").sendAllLogs(a)});return L.apply(this,arguments)}K.doc="Submit all cached metrics for the given WAM buffer type ('regular' or one of Private Stats keys)";K.paramsToExecute=["regular"];function Qb(a){d("WAWebUserPrefsMultiDeviceDebug").setDebugDefaultBotOverride(a)}Qb.doc="Adds a debug default bot for testing invoke against new bot numbers";function Rb(a){return M.apply(this,arguments)}function M(){M=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(da())});return M.apply(this,arguments)}Rb.doc="Send text status message to allow list";function Sb(a){return N.apply(this,arguments)}function N(){N=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(ca())});return N.apply(this,arguments)}Sb.doc="set status message allow list user jid";function O(){return d("WAWebCTWABizAccessTokenNonceManager").fetchNonce(!0).then(function(a){d("WALogger").DEV(Ia()).devConsole(a)})}O.doc="Fetch ad account nonce";O.paramsToExecute=[];function P(){return d("WAWebFetchAdAccountToken").fetchToken(!0).then(function(a){d("WALogger").DEV(Ha()).devConsole(a)})}P.doc="Fetch ad account token";P.paramsToExecute=[];function Q(){var a=d("WAWebActiveAccountInfoModel").getActiveAccountInfo();if(a==null||a==="not-linked"||a.id==null){d("WALogger").DEV(Ga());return(h||(h=b("Promise"))).resolve()}return d("WAWebFetchAds").fetchAds(a.id).then(function(a){d("WALogger").DEV(Fa()).devConsole(a)})["catch"](function(a){d("WALogger").DEV(Ea()).devConsole(a)})}Q.doc="Fetch user ads";Q.paramsToExecute=[];function R(){return d("WAWebFetchAdEntryPointsConfiguration").fetchAdEntryPointsConfiguration("debug").then(function(a){d("WALogger").DEV(Da()).devConsole(a)})["catch"](function(a){d("WALogger").DEV(Ca()).devConsole(a)})}R.doc="Fetch ad entry points configuration";R.paramsToExecute=[];function Tb(a,b){d("WAWebAdEntryPointsConfigurationModel").setAdEntryPointsConfiguration({entryPoints:b,locale:a}),d("WALogger").DEV(Ba())}Tb.doc="Update ad entry points configuration in memory";function S(){return d("WAWebFetchQuickPromotions").fetchQuickPromotions().then(function(a){d("WALogger").DEV(Aa()).devConsole(a)})["catch"](function(a){d("WALogger").DEV(za()).devConsole(a)})}S.doc="Fetch quick promotions";S.paramsToExecute=[];function Ub(a){return d("WAWebQuickPromotionActionMutation").executeQuickPromotionActionMutation(a).then(function(a){d("WALogger").DEV(ya()).devConsole(a)})["catch"](function(a){d("WALogger").DEV(xa()).devConsole(a)})}function Vb(a){return d("WAWebLinkAdMediaInFacebook").linkAdMediaInFacebook(a).then(function(a){d("WALogger").DEV(wa()).devConsole(a)})["catch"](function(a){d("WALogger").DEV(va()).devConsole(a)})}Vb.doc="Link given ad media id in Facebook, so that it is available there for native ads creation flows";function Wb(a){var c=function(a){return d("WAWebUploadNativeAdMedia").uploadBlobAsNativeAdMedia(a,new AbortController().signal).then(function(a){d("WALogger").DEV(ua()).devConsole(a)})["catch"](function(a){d("WALogger").DEV(ta()).devConsole(a)})};return a==null?new(h||(h=b("Promise")))(function(a){var b=document.createElement("input");b.type="file";b.onchange=function(b){a(b.target.files[0])};b.click()}).then(c):c(a)}Wb.doc="Upload given blob as native ad media, so that it is available there for native ads creation flows";function Xb(a){return T.apply(this,arguments)}function T(){T=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){});return T.apply(this,arguments)}Xb.doc="send delete mutation";var U=function(){d("WAWebDrawerManager").DrawerManager.openDrawerLeft(Ma.createElement(c("WAWebCTWADebugDrawer.react"),{onBack:function(){return d("WAWebDrawerManager").DrawerManager.closeDrawerLeft()}}))};U.doc="Opens the CTWA Debug Drawer";U.paramsToExecute=[];var V=function(){d("WAWebModalManager").ModalManager.open(Ma.createElement(d("WAWebListsIntroPopupLoadable").ListsIntroPopupLoadable,null))};V.doc="Opens the Lists Intro Popup";V.paramsToExecute=[];function Yb(a){return W.apply(this,arguments)}function W(){W=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){return d("WAWebSchemaReportingInfo").getReportingInfoTable().equals(["msgKey"],[a])});return W.apply(this,arguments)}function Zb(a){return X.apply(this,arguments)}function X(){X=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a===void 0&&(a=-1);return d("WAWebDBReportingTokenUtils").cleanupReportingTokenAndContent(a)});return X.apply(this,arguments)}function Y(){return Z.apply(this,arguments)}function Z(){Z=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("WAWebSchemaChat").getChatTable().all());a.map(function(a){var b=d("WAWebWidFactory").createWid(a.id);if(!b.isUser())return;if(b.isLid())return;b=b.isLid()?a.id:d("WAWebApiContact").getCurrentLid(d("WAWebWidFactory").createUserWid(a.id));return{id:a.id,accountLid:b==null?void 0:b.toString()}}).filter(Boolean).map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{yield d("WAWebSchemaChat").getChatTable().bulkCreateOrMerge([a])}catch(a){d("WALogger").LOG(ba(),a)}});return function(b){return a.apply(this,arguments)}}())});return Z.apply(this,arguments)}Y.doc="fill the account_lid column in the chats table based on current Lid mapping";Y.paramsToExecute=[];function $(){c("WAWebDebugDownFunnelSignals").dfsInitialize()}$=babelHelpers["extends"]({initialize:$,asyncSleep:d("WAAsyncSleep").asyncSleep,_:null},c("WAWebDebugL10N"),c("WAWebDebugNewsletter"),c("WAWebDebugABProps"),c("WAWebDebugAltDeviceLinking"),c("WAWebDebugApi"),c("WAWebDebugCatalog"),c("WAWebDebugDownFunnelSignals"),c("WAWebDebugFavorites"),c("WAWebDebugGroup"),c("WAWebDebugLists"),c("WAWebDebugLocalStorage"),c("WAWebDebugLogging"),c("WAWebDebugMedia"),c("WAWebDebugMessageEdit"),c("WAWebDebugPins"),c("WAWebDebugNewsletterReaction"),c("WAWebDebugNewsletterPolls"),c("WAWebDebugNewsletterAdminInsights"),c("WAWebDebugNewsletterSimilar"),c("WAWebDebugFlipper"),c("WAWebDebugComments"),c("WAWebDebugNux"),c("WAWebDebugPolls"),c("WAWebDebugEvents"),c("WAWebDebugReactions"),c("WAWebDebugScreenLock"),c("WAWebDebugSmb"),c("WAWebDebugSocket"),c("WAWebDebugSyncd"),d("WAWebDebugRichTextInput").WAWebDebugRichTextInput,c("WAWebDebugUI"),c("WAWebDebugEphemerality"),c("WAWebDebugMessagingInfra"),c("WAWebDebugPrivacyExperience"),c("WAWebDebugDB"),c("WAWebDebugBot"),c("WAWebDebugGDPR"),c("WAWebDebugLidMigration"),c("WAWebDebugContactManagement"),c("WAWebDebugChatLock"),c("WAWebDebugMex"),c("WAWebDebugToast.react"),c("WAWebDebugStickerPack"),c("WAWebDebugACS"),c("WAWebDebugNux"),c("WAWebDebugMisc"),c("WAWebMsgHandleDebug"),c("WAWebDebugCollections"),{getMessageTable:d("WAWebSchemaMessage").getMessageTable,sendTextMsg:a,resetStorage:Ra,clearMessages:Sa,clearPSAStatus:bb,ctwaOpenDebugDrawer:U,openListsIntroPopup:V,sendTcToken:Ta,cleanExpiredOrphanTcTokens:sb,signOut:Ua,sendUsyncIq:Va,USync:{USyncQuery:d("WAWebUsync").USyncQuery,USyncUser:d("WAWebUsyncUser").USyncUser},syncDeviceList:Wa,isPrimary:Xa,addRemoteContact:Ya,createBroadcast:$a,setReadReceipt:ab,sendOrderDetailsMessageAsMerchantMD:c("WAWebDebugSendOrderDetailsMessage"),sendPassiveModeIq:cb,syncContact:db,fts:{ftsClient:d("WAWebFtsClient").ftsClient},requestUrlPreview:zb,getPrimaryVersion:Ab,rotateKey:eb,runAdvDeviceInfoCheck:fb,setDeviceListEntry:gb,setPrivacyForOneCategory:hb,getComms:d("WAComms").getComms,forceSocketReconnect:Fb,pinClientToCdev:ib,checkForUpdates:jb,accSync:d("WAWebAccountSyncJob"),createWid:d("WAWebWidFactory").createWid,ModelStorage:d("WAWebModelStorage"),queryServerProps:d("WAWebUpdateServerPropsJob").queryServerProps,mimetypes:d("WAWebMimeTypes"),stats:null,pb:{e2e:d("WAWebProtobufsE2E.pb"),protocol:d("WAWebProtobufsProtocol.pb"),web:d("WAWebProtobufsWeb.pb")},gkUtils:d("WAWebMiscGatingUtils"),TosManager:d("WAWebTos").TosManager,getEstimatedFTSDbSize:d("WAWebEstimateFtsStorageApi").getEstimatedFTSDbSize,getEstimatedIndexedDbUsage:d("WAWebEstimateIndexeddbUsageApi").getEstimatedIndexedDbUsage,MsgAudioStore:d("WAWebPttMsgAudioStore").MsgAudioStore,queryWidExists:Za,PttPrefs:d("WAWebPttPrefs").PttPrefs,Alarm:c("WAWebAlarm"),Clock:d("WAWebClock").Clock,Cmd:d("WAWebCmd").Cmd,WAWCDB:c("WAWebWAWCStorage"),WAWapJid:d("WAWapJid"),sendSmaxStanza:d("WAComms").sendSmaxStanza,Dexie:c("WAWeb-dexie"),Fullscreen:c("WAWebDomFullscreen"),UIM:d("WAWebUim").UIM,makeWapNode:d("WAWap").makeWapNode,createChatWithJid:s,createGeneralLidChat:t,createGeneralLidChatWithText:kb,generateCtwaSystemMessage:lb,getMediaEditorDebug:mb,toggleStickerMakerDebug:w,createOrReplaceAgents:Na,assignChatsToAgents:f,createTestAgents:e,getModelStorage:d("WAWebModelStorageUtils").getStorage,dumpModelStorage:Ob,dumpSignalStorage:Pb,ignoreNextSyncdKeyShare:nb,createSubscriptions:Oa,testPremiumAccessEngine:Pa,createPremiumMessage:Qa,doPendingDeviceSync:d("WAWebApiPendingDeviceSync").doPendingDeviceSync,createPersistentExpiringId:ob,toggleMessageQuickReply:x,setDebugEnableOfflineMock:qb,setDebugOfflineMockTraffic:rb,InMemoryMediaBlobCache:d("WAWebMediaInMemoryBlobCache").InMemoryMediaBlobCache,bulkSendMessageWithoutStore:tb,purgeOrphanRecords:pb,userPrefsIdb:d("WAWebUserPrefsIndexedDBStorage").userPrefsIdb,sendReplyToMsg:ub,querySubscriptions:d("WAWebSubscriptionJob").querySubscriptions,runSubscriptionsManager:d("WAWebSubscriptions").runSubscriptionsManager,initSmaxRunner:vb,getSmaxRunner:wb,getMeUser:d("WAWebUserPrefsMeUser").getMeUser,getMaybeMeLidUser:d("WAWebUserPrefsMeUser").getMaybeMeLidUser,decodeFutureproofBuffer:yb,sendFetchResendMissingKeys:Bb,setExpiredProfilePicture:Cb,toggleGifProvider:Gb,getAllChatsDeserialized:d("WAWebApiChat").getAllChatsDeserialized,getChatDeserializedFromDBById:Jb,updateDraftMessageChatDb:Hb,updateDraftMessageChatUiAndDb:Ib,deleteAllQPPromotions:H,sendAllLogs:K,fetchAdAccountNonce:O,fetchAdAccountToken:P,fetchAds:Q,fetchAdEntryPointsConfiguration:R,setAdEntryPointsConfiguration:Tb,fetchQuickPromotions:S,executeQuickPromotionActionMutation:Ub,linkAdMediaInFacebook:Vb,uploadBlobAsNativeAdMedia:Wb,decodeStanza:xb,fillAccountLid:Y,fetchWithACSCredential:d("WAWebACSNetwork").fetchWithACSCredential,networkSimulateOffline:Db,networkReconnectOnline:Eb,getStickerSuggestionsFromEmoji:d("WAWebStickerSuggestions").getStickerSuggestionsFromEmoji,getDebugShownMsgs:d("WAWebUserPrefsDebugMsgs").getDebugShownMsgs,setDebugDecryptFail:Kb,getDebugDecryptFail:Lb,setDebugDoNotSendRetryReceipt:Mb,getDebugDoNotSendRetryReceipt:Nb,setDebugIgnoreParticipantAdd:d("WAWebUserPrefsMultiDeviceDebug").setDebugIgnoreParticipantAdd,getDebugIgnoreParticipantAdd:d("WAWebUserPrefsMultiDeviceDebug").getDebugIgnoreParticipantAdd,overrideDefaultBotForTest:Qb,sendTextStatusToAllowlist:Rb,setStatusAllowList:Sb,syncQuickReplyDelete:Xb,InMemoryLottieStickerCache:d("WAWebInMemoryLottieStickerCache").InMemoryLottieStickerCache,getReportingInfoRow:Yb,triggerReportingTokenCleanup:Zb,Moment:c("WAWeb-moment"),UnifiedSessionManager:d("WAWebUnifiedSession").UnifiedSessionManager});g["default"]=$}),98);
__d("WAWebHighlightedText.react",["WAWebBox.react","WAWebFlex.react","WAWebFuzzySearch","WAWebFuzzyStreaks","WAWebText_DONOTUSE.react","WAWebUISpacing","react","useWAWebSearchQuery"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j={textMatch:{fontWeight:"x117nqv4",color:"x1cgtc05",$$css:!0},text:{color:"xy9n6vp",$$css:!0},container:{fontSize:"x1f6kntn",color:"x40yjcy",$$css:!0},space:{whiteSpace:"x1sdyfia",$$css:!0}};function a(a){var b=a.searchQuery,c=a.text;c=c===void 0?"":c;a=a.xstyle;b=d("useWAWebSearchQuery").useSearchText(b);var e=d("WAWebFuzzySearch").fuzzyMatches(b.toLowerCase(),c.toLowerCase()),f=0;b=c.split(" ").map(function(a,b){a=a.split("").map(function(a,b){var c=e.includes(f++);return i.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{xstyle:[c&&j.textMatch,!c&&j.text,d("WAWebUISpacing").uiPadding.top3],children:a},b)});f++;return i.jsxs(d("WAWebText_DONOTUSE.react").TextSpan,{children:[b>0&&i.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{xstyle:j.space,children:" "}),a]},b)});return i.jsx(d("WAWebFlex.react").FlexRow,{wrap:"wrap",xstyle:[j.container,a],children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.highlightText,c=a.sourceText;a=a.xstyle;if(b==null)return c;b=d("WAWebFuzzyStreaks").fuzzyStreaks(b.toLowerCase(),c.toLowerCase());var e=[].concat(c.split(""));b.streaks.forEach(function(a){for(var b=a.index;b<a.index+a.length;b++)e[b]=i.jsx(d("WAWebBox.react").Box,{as:"span",xstyle:j.textMatch,children:e[b]})});return i.jsx(d("WAWebBox.react").Box,{as:"span",xstyle:a,children:e})}b.displayName=b.name+" [from "+f.id+"]";g.HighlightedText=a;g.HighlightedStreaks=b}),98);
__d("WAWebLexicalMenuPaginationFooter",["Lexical","LexicalComposerContext","WAWebKeyboardShortcut.react","WAWebStaticMenuItem.react","WAWebWDSCell.react","react","useWAWebLexicalEvent"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.onDown,c=a.onUp,e=a.page;a=a.totalPages;var f=d("LexicalComposerContext").useLexicalComposerContext();f=f[0];d("useWAWebLexicalEvent").useLexicalCommandListener(f,d("Lexical").KEY_DOWN_COMMAND,function(a){a.metaKey===!0&&(a.key==="ArrowDown"&&b!=null?b():a.key==="ArrowUp"&&c!=null&&(a.preventDefault(),c()));return!1});return i.jsxs(i.Fragment,{children:[i.jsx(d("WAWebStaticMenuItem.react").MenuSeparator,{}),i.jsx(d("WAWebWDSCell.react").WDSCell,{interactive:!1,size:"small",colorScheme:"lighter",primary:i.jsxs(i.Fragment,{children:["Page ",e+1,a!=null&&" of "+a]}),primaryRight:i.jsxs(d("WAWebKeyboardShortcut.react").KeyboardKeyGroup,{children:[c!=null&&i.jsxs(i.Fragment,{children:[i.jsx(d("WAWebKeyboardShortcut.react").KeyboardKey,{value:"cmd"}),i.jsx(d("WAWebKeyboardShortcut.react").KeyboardKey,{value:"\u2191"}),b!=null&&i.jsx("span",{children:"/"})]}),b!=null&&i.jsxs(i.Fragment,{children:[i.jsx(d("WAWebKeyboardShortcut.react").KeyboardKey,{value:"cmd"}),i.jsx(d("WAWebKeyboardShortcut.react").KeyboardKey,{value:"\u2193"})]})]})})]})}a.displayName=a.name+" [from "+f.id+"]";g.LexicalMenuPaginationFooter=a}),98);
__d("WAWebWDSCopiableText.react",["WAWebBox.react","WAWebCopyIcon","WAWebCopyToClipboard","WAWebToast.react","WAWebToastManager","WAWebWDSText.react","react"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useState,l={icon:{height:"x1q3kd3q",$$css:!0}};function a(a){var b=a.children,c=a.showOnHover,e=a.text;a=k(!1);var f=a[0],g=a[1];a=function(a){a.stopPropagation(),void d("WAWebCopyToClipboard").copyTextToClipboard(e),d("WAWebToastManager").ToastManager.open(j.jsx(d("WAWebToast.react").Toast,{msg:'Copied "'+e+'" to clipboard'}))};var h=function(){return g(!0)},i=function(){return g(!1)};return j.jsxs(d("WAWebBox.react").Box,{flex:!0,align:"center",onMouseEnter:h,onMouseLeave:i,children:[j.jsx(d("WAWebBox.react").Box,{as:"span",textWrap:"ellipsis",children:b}),(c!==!0||f)&&j.jsx(d("WAWebWDSText.react").WDSClickableText,{onClick:a,highlightOnHover:!0,title:'Copy "'+e+'" to clipboard',children:j.jsx(d("WAWebCopyIcon").CopyIcon,{iconXstyle:l.icon})})]})}a.displayName=a.name+" [from "+f.id+"]";g.WDSCopiableText=a}),98);
__d("useWAWebLexicalSearchModelQuery",["LexicalComposerContext","WAWebLexicalUtils","WAWebNoop","asyncToGeneratorRuntime","react","useWAWebLexicalOnContentChange","useWAWebSearchModel"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useEffect;function a(a){var e=d("LexicalComposerContext").useLexicalComposerContext(),f=e[0],g=d("useWAWebSearchModel").useSearchModel(a);d("useWAWebLexicalOnContentChange").useLexicalOnContentChange(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield g.query(a)});return function(b){return a.apply(this,arguments)}}());i(function(){g.query(d("WAWebLexicalUtils").getTextContent(f))["catch"](c("WAWebNoop"))},[]);return g}g.useLexicalSearchModelQuery=a}),98);
__d("WAWebABPropCommandPalettePlugin",["WAWebABPropSearchModel","WAWebCommandPaletteController","WAWebDebug","WAWebExperimentIcon","WAWebFlex.react","WAWebHighlightedText.react","WAWebLexicalMenuPaginationFooter","WAWebLexicalWDSMenu.react","WAWebNoop","WAWebPencilIcon","WAWebRefreshIcon","WAWebWDSCell.react","WAWebWDSCopiableText.react","WAWebWDSMenuItems.react","WAWebWDSText.react","asyncToGeneratorRuntime","react","useWAWebABPropConfigValue","useWAWebLexicalSearchModelQuery"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function j(a){var b=a.abProp,c=a.highlightText,e=a.onEdit,f=a.onSelect,g=a.onToggle;a=d("useWAWebABPropConfigValue").useABPropConfigValue(b.name);c=i.jsx(d("WAWebWDSCopiableText.react").WDSCopiableText,{text:b.name,showOnHover:!0,children:Boolean(c)?i.jsx(d("WAWebHighlightedText.react").HighlightedStreaks,{highlightText:c,sourceText:b.name}):b.name});return b.type==="bool"?i.jsx(d("WAWebWDSMenuItems.react").SwitchMenuItem,{optionId:b.name,initialState:Boolean(a),primary:c,onSelect:function(a){f==null?void 0:f(b),g==null?void 0:g(b,a)}}):i.jsx(d("WAWebWDSMenuItems.react").ActionMenuItem,{optionId:b.name,primary:c,secondary:String(a),onSelect:function(){f==null?void 0:f(b),e==null?void 0:e(b)},detailRight:i.jsx(d("WAWebPencilIcon").PencilIcon,{})})}j.displayName=j.name+" [from "+f.id+"]";function k(a){var e=a.abProp,f=d("WAWebCommandPaletteController").useCommandPalette(),g=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield c("WAWebDebug").overrideABProp(e.name,a),f.popPlugin()});return function(b){return a.apply(this,arguments)}}();a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield c("WAWebDebug").resetABProp(e.name),f.popPlugin()});return function(){return a.apply(this,arguments)}}();return i.jsx(d("WAWebLexicalWDSMenu.react").LexicalWDSMenu,{children:i.jsxs(d("WAWebFlex.react").FlexColumn,{padding:[0,16,16,16],children:[i.jsx(d("WAWebWDSCell.react").WDSCell,{primary:i.jsx(d("WAWebWDSText.react").WDSTextTitle,{children:e.name}),secondary:e.value,interactive:!1,colorScheme:"lighter",size:"medium"}),i.jsx(d("WAWebWDSMenuItems.react").ActionMenuItem,{optionId:"edit",primary:"New Value",secondary:f.input||"Type your new value into the command palette",detailLeft:i.jsx(d("WAWebPencilIcon").PencilIcon,{}),onSelect:function(){return g(f.input)}}),e.overridden===!0&&i.jsx(d("WAWebWDSMenuItems.react").ActionMenuItem,{optionId:"reset",primary:"Reset",secondary:i.jsxs("span",{children:["Set the value back to ",e.originalValue]}),detailLeft:i.jsx(d("WAWebRefreshIcon").RefreshIcon,{}),onSelect:a})]})})}k.displayName=k.name+" [from "+f.id+"]";function l(a){var b=a.colorScheme,c=a.onEdit,e=a.onSelect,f=a.onToggle;a=d("useWAWebLexicalSearchModelQuery").useLexicalSearchModelQuery(function(){return new(d("WAWebABPropSearchModel").ABPropSearch)({maxPageLength:8})});var g=a.results,h=a.next;a=a.previous;return g==null||g.results.length===0?null:i.jsxs(d("WAWebLexicalWDSMenu.react").LexicalWDSMenu,{colorScheme:b,children:[g.results.map(function(a){return i.jsx(j,{abProp:a.data,onSelect:e,onToggle:f,onEdit:c,highlightText:g.query.searchText},a.id)}),g.pagination!=null&&i.jsx(d("WAWebLexicalMenuPaginationFooter").LexicalMenuPaginationFooter,{page:g.pagination.page,totalPages:g.pagination.totalPages,onDown:g.pagination.next?h:null,onUp:g.pagination.previous?a:null})]})}l.displayName=l.name+" [from "+f.id+"]";function a(){var a=d("WAWebCommandPaletteController").useCommandPalette(),b=function(b){a.pushPlugin({id:"ABPropEditAction",placeholder:"Enter new value",shortName:b.name,forceMenuSelection:!0,Component:function(){return i.jsx(k,{abProp:b})}})},e=function(a,b){c("WAWebDebug").overrideABProp(a.name,b)["catch"](c("WAWebNoop"))};return i.jsx(l,{onEdit:b,onToggle:e})}a.displayName=a.name+" [from "+f.id+"]";e={plugin:{id:"ABPropCommandPaletteAction",placeholder:"Search AB Props",shortName:i.jsx(d("WAWebExperimentIcon").ExperimentIcon,{width:16,height:16}),Component:a,restoreInputOnBack:!0},trigger:"/ab",doc:{isDevOnly:!0,name:"AB Props",description:"Filter through and edit development AB Props"}};g.ABPropMenuItem=j;g.ABPropPlugin=e}),98);
__d("WAWebDebugCommandGetters",["WAWebGetters"],(function(a,b,c,d,e,f,g){a=d("WAWebGetters").createGetterFactories();b=a.field;c=a.computed;e=b("funcName");f=b("displayName");d=b("keywords");a=b("params");b=b("doc");e=c(function(a){var b=a[0];a=a[1];return b!=null&&b!==""?b:a},[f,e]);var h=c(function(a){a=a[0];return a.toLowerCase()},[e]),i=c(function(a){a=a[0];return a.toLowerCase()},[b]);c=c(function(a){a=a[0];return a.map(function(a){return a.toLowerCase()})},[d]);g.getDisplayName=f;g.getParams=a;g.getDoc=b;g.getName=e;g.getNameNormalized=h;g.getDocNormalized=i;g.getKeywordsNormalized=c}),98);
__d("WAWebDebugCommandModel",["WAWebBaseModel"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.id=d("WAWebBaseModel").prop(),c.funcName=d("WAWebBaseModel").prop(),c.doc=d("WAWebBaseModel").prop(),c.params=d("WAWebBaseModel").prop(),c.paramsToExecute=d("WAWebBaseModel").prop(),c.keywords=d("WAWebBaseModel").prop(),c.displayName=d("WAWebBaseModel").prop(),c.func=d("WAWebBaseModel").prop(),b)||babelHelpers.assertThisInitialized(c)}return b}(d("WAWebBaseModel").BaseModel);a.Proxy="debugCommand";b=d("WAWebBaseModel").defineModel(a);g["default"]=b}),98);
__d("WAWebDebugCommandCollection",["WATypeUtils","WAWebBaseCollection","WAWebDebug","WAWebDebugCommandGetters","WAWebDebugCommandModel","WAWebFuzzySearch"],(function(a,b,c,d,e,f,g){var h=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,i=/([^\s,]+)/g;function j(a){a=a.toString().replace(h,"");a=a.slice(a.indexOf("(")+1,a.indexOf(")")).match(i);return a==null?[]:a}function k(a,b){var c=d("WAWebDebugCommandGetters").getNameNormalized(a),e=d("WAWebDebugCommandGetters").getKeywordsNormalized(a);a=d("WAWebDebugCommandGetters").getDocNormalized(a);var f=d("WAWebFuzzySearch").fuzzySearch(b,c);e=e.some(function(a){return d("WAWebFuzzySearch").fuzzySearch(b,a)});c=c.includes(b);a=a.includes(b);c=c?1e3:0;a=a?50:0;f=f?100:0;e=e?20:0;return f+e+c+a}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;b=a.call(this)||this;b.addCommandsFromDebug();return b}var e=b.prototype;e.query=function(a){var b=a.toLowerCase();return this.filter(function(a){var c=d("WAWebDebugCommandGetters").getNameNormalized(a),e=d("WAWebDebugCommandGetters").getDocNormalized(a),f=d("WAWebDebugCommandGetters").getKeywordsNormalized(a);c=d("WAWebFuzzySearch").fuzzySearch(b,c);a=d("WAWebFuzzySearch").fuzzySearch(b,a.funcName);e=e.includes(b);f=f.some(function(a){return d("WAWebFuzzySearch").fuzzySearch(b,a)});return c||a||e||f}).sort(function(a,c){return k(a,b)<=k(c,b)?1:-1})};e.addCommandsFromDebug=function(){var a=this;Object.keys(c("WAWebDebug")).forEach(function(b){var e=c("WAWebDebug")[b];if(e==null||!d("WATypeUtils").isFunction(e)||e.doc==null)return;a.add({id:b,funcName:b,doc:e.doc,params:j(e),paramsToExecute:e.paramsToExecute||null,keywords:[],displayName:e.displayName||null,func:e})})};return b}(d("WAWebBaseCollection").BaseCollection);a.model=c("WAWebDebugCommandModel");a.comparator=function(a,b){return d("WAWebDebugCommandGetters").getNameNormalized(a).localeCompare(d("WAWebDebugCommandGetters").getNameNormalized(b))};b=new a();g["default"]=b}),98);
__d("useWAWebDebugCommandValues",["WAWebDebugCommandCollection","useWAWebCollectionValues"],(function(a,b,c,d,e,f,g){function a(a,b){return d("useWAWebCollectionValues").useCollectionValues(c("WAWebDebugCommandCollection"),a,b)}g.useDebugCommandValues=a}),98);
__d("WAWebChatDebugCommand.react",["WAWebDebugCommandGetters","WAWebEmojiText.react","WAWebFlex.react","WAWebFlexItem.react","WAWebHighlightedText.react","WAWebKeyboardHotKeys.react","WAWebStateUtils","WAWebUISpacing","WAWebUnstyledButton.react","react","useWAWebActiveSelection","useWAWebDebugCommandValues"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j={button:{width:"xh8yej3",backgroundColor:"x150wa6m",$$css:!0},container:{height:"xdiz9cm",fontSize:"x1jchvi3",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",borderTopWidth:"x178xt8z",borderTopStyle:"x13fuv20",borderTopColor:"xyj1x25",textAlign:"x1yc453h",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},inactive:{":hover_backgroundColor":"x1z0qo99",$$css:!0},active:{backgroundColor:"xairv4b",$$css:!0},name:{fontSize:"x1jchvi3",$$css:!0},doc:{fontSize:"x1f6kntn",lineHeight:"x1fc57z9",color:"xraqfvc",display:"x1lliihq",$$css:!0}};function a(a){var b=a.debugCommand,e=b.id,f=d("useWAWebDebugCommandValues").useDebugCommandValues(e,[d("WAWebDebugCommandGetters").getDoc,d("WAWebDebugCommandGetters").getName]),g=f[0];f=f[1];var h=a.onClick;e=c("useWAWebActiveSelection")(a.active,e);var k=e[0];e=e[1];var l=function(a){h(a,d("WAWebStateUtils").unproxy(b))},m=function(a){a.stopPropagation(),a.preventDefault()},n={enter:l,space:l};return i.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{ref:k,onFocus:m,handlers:n,children:i.jsx(c("WAWebUnstyledButton.react"),{xstyle:[j.button,d("WAWebUISpacing").uiPadding.start30,e&&j.active,!e&&j.inactive],testid:void 0,onClick:l,children:i.jsxs(d("WAWebFlex.react").FlexColumn,{justify:"center",align:"stretch",xstyle:[j.container,d("WAWebUISpacing").uiPadding.end30],children:[i.jsx(c("WAWebFlexItem.react"),{children:i.jsx(d("WAWebHighlightedText.react").HighlightedText,{text:f,xstyle:[j.name,d("WAWebUISpacing").uiPadding.bottom5],searchQuery:a.searchQuery})}),i.jsx(c("WAWebFlexItem.react"),{children:i.jsx(d("WAWebEmojiText.react").EmojiText,{xstyle:j.doc,text:g,ellipsify:!0})})]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebChatInfoDevToolsSection.react",["fbt","WALogger","WANullthrows","WAWebChatCollection","WAWebChatInfoDrawerSection.react","WAWebContactGetters","WAWebCopyPasteSelectable.react","WAWebDevOnlyBadge.react","WAWebExternalLink.react","WAWebLidAwareContactsDB","WAWebToast.react","WAWebToastManager","WAWebURLUtils","WAWebWDSText.react","WAWebWid","WAWebWidFormat","react"],(function(a,b,c,d,e,f,g,h){var i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[useLidsForPhoneNumber] Failed to fetch contacts for phone number"]);k=function(){return a};return a}b=j||d("react");var l=i||(i=c("react")),m=b.useEffect,n=b.useState;function o(a){var b=n([]),e=b[0],f=b[1];m(function(){c("WAWebLidAwareContactsDB").equals(["phoneNumber"],a.toString()).then(function(a){f(a.filter(function(a){return c("WAWebWid").isLid(a.id)}).map(function(a){a=a.id;return a}))})["catch"](function(){d("WALogger").ERROR(k()).devConsole(a.toString())})},[a]);return e}function p(a){a=a.phoneNumber;var b=o(a);b=b.length===0?null:l.jsxs(d("WAWebWDSText.react").WDSTextMuted,{children:["LID",b.length===1?"":"s",": ",b.join(", ")]});var e="https://www.internalfb.com/intern/bunny/?q=waflb+"+a.user,f=c("WAWebURLUtils").build("https://www.internalfb.com/intern/whatsapp/admin/user_info",{phone:a.user}),g=a.isFbidBot()?"https://wa.me/ais/"+a.user:"https://wa.me/"+a.user;return l.jsxs(l.Fragment,{children:[l.jsxs(d("WAWebWDSText.react").WDSTextMuted,{children:[!a.isFbidBot()&&l.jsxs(l.Fragment,{children:[l.jsx(d("WAWebExternalLink.react").ExternalLink,{href:f,children:"Admin Tool"})," / ",l.jsx(d("WAWebExternalLink.react").ExternalLink,{href:e,children:"Crashlogs"})," / "]}),l.jsx(d("WAWebExternalLink.react").ExternalLink,{href:g,onClick:function(){window.navigator.clipboard.writeText(g).then(function(){d("WAWebToastManager").ToastManager.open(l.jsx(d("WAWebToast.react").Toast,{msg:h._("__JHASH__84GNAOxxNnu__JHASH__")}))})["catch"](function(){d("WAWebToastManager").ToastManager.open(l.jsx(d("WAWebToast.react").Toast,{msg:h._("__JHASH__b8i57yvPeuv__JHASH__")}))})},children:"wa.me"})]}),l.jsxs(d("WAWebCopyPasteSelectable.react").SelectableDiv,{selectable:!0,children:[l.jsxs(d("WAWebWDSText.react").WDSTextMuted,{children:["ChatId: ",a.toString()]}),b]})]})}p.displayName=p.name+" [from "+f.id+"]";function q(a){var b=a.lid;a=a.phoneNumber;var e=c("WAWebURLUtils").build("https://www.internalfb.com/intern/whatsapp/admin/user_info",{lid:c("WANullthrows")(c("WAWebWid").user(b))}),f=d("WAWebChatCollection").ChatCollection.getActive();a=a!=null?d("WAWebWidFormat").widToFormattedUser(c("WAWebWid").user(a)):"N/A";return l.jsxs(l.Fragment,{children:[l.jsx(d("WAWebWDSText.react").WDSTextMuted,{children:l.jsx(d("WAWebExternalLink.react").ExternalLink,{href:e,children:"Admin Tool"})}),l.jsxs(d("WAWebCopyPasteSelectable.react").SelectableDiv,{selectable:!0,children:[l.jsxs(d("WAWebWDSText.react").WDSTextMuted,{children:["ChatId: ",b]}),l.jsxs(d("WAWebWDSText.react").WDSTextMuted,{children:["ChatOrigin:"," ",(f==null?void 0:f.lidOriginType)==null?"ctwa":f==null?void 0:f.lidOriginType]}),l.jsxs(d("WAWebWDSText.react").WDSTextMuted,{children:["PhoneNumber: ",a]})]})]})}q.displayName=q.name+" [from "+f.id+"]";function r(a){a=a.contact;if(d("WAWebContactGetters").getIsUser(a)){var b;return a.id.isLid()?l.jsx(q,{lid:a.id.toString(),phoneNumber:(b=a.phoneNumber)==null?void 0:b.toString()}):l.jsx(p,{phoneNumber:a.id})}return}r.displayName=r.name+" [from "+f.id+"]";function a(a){a=a.contact;return l.jsx(d("WAWebChatInfoDrawerSection.react").ChatInfoDrawerSection,{title:l.jsx(d("WAWebDevOnlyBadge.react").DevOnlyBadge,{label:"Developer Section"}),children:l.jsx(r,{contact:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebCompression",["JSResourceForInteraction","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b===void 0&&(b={});var a=(yield c("JSResourceForInteraction")("WAGzip").__setRef("WAWebCompression").load());return a.createDeflate(b)});return h.apply(this,arguments)}g.createDeflate=a}),98);
__d("WAWebConvertHtmlString",["Lexical","LexicalCode","LexicalHtml","LexicalLink","LexicalList","LexicalRichText","WAWebNoop"],(function(a,b,c,d,e,f,g){var h;function i(){h||(h=d("Lexical").createEditor({namespace:"headless-editor",onError:c("WAWebNoop"),nodes:[d("LexicalRichText").HeadingNode,d("LexicalList").ListNode,d("LexicalList").ListItemNode,d("LexicalRichText").QuoteNode,d("LexicalCode").CodeNode,d("LexicalLink").AutoLinkNode,d("LexicalLink").LinkNode]}));return h}function a(a){try{var b=new DOMParser(),c=b.parseFromString(a,"text/html"),e=[],f=i();f.update(function(){var a=d("LexicalHtml").$generateNodesFromDOM(f,c).reverse(),b=null;while(a.length){var g=a.pop();if(!l(g)){var h;b=(h=b)!=null?h:[];b.push(g);continue}b&&(e.push(j(b)),b=null);if(d("Lexical").$isParagraphNode(g))e.push(j(g.getChildren())),e.push("");else if(d("LexicalRichText").$isHeadingNode(g))e.push("*"+g.getTextContent()+"*"),e.push("");else if(d("LexicalRichText").$isQuoteNode(g))e.push(">"+g.getTextContent()),e.push("");else if(d("LexicalList").$isListNode(g)){h=g.getListType()==="bullet";var i=g.getListType()==="number",k="";h?k="* ":i&&(k="1. ");for(var h=g.getChildren(),g=Array.isArray(h),m=0,h=g?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var n;if(g){if(m>=h.length)break;n=h[m++]}else{m=h.next();if(m.done)break;n=m.value}n=n;e.push(""+k+j(n.getChildren()));i&&(k=parseInt(k,10)+1+". ")}e.push("")}}b&&e.push(j(b))});return e.join("\n")}catch(a){return null}}function j(a){var b=[];for(var c=0;c<a.length;c++){var e=a[c];if(d("Lexical").$isTextNode(e))b.push(k(e));else if(d("LexicalLink").$isLinkNode(e)){var f=e.getTextContent(),g=e.getURL();f===g?b.push(g):b.push(f+" ("+g+")")}else b.push(e.getTextContent())}return b.join("")}function k(a){var b=a.getTextContent();a.hasFormat("italic")&&(b="_"+b+"_");a.hasFormat("bold")&&(b="*"+b+"*");a.hasFormat("strikethrough")&&(b="~"+b+"~");a.hasFormat("code")&&(b="`"+b+"`");return b}function l(a){return d("Lexical").$isParagraphNode(a)||d("LexicalRichText").$isHeadingNode(a)||d("LexicalRichText").$isQuoteNode(a)||d("LexicalList").$isListNode(a)}g["default"]=a}),98);
__d("WAWebDebugCommandSearchModel",["WAWebDebugCommandCollection","WAWebSearchModel","WAWebSearchUtils"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.commands=c("WAWebDebugCommandCollection"),b)||babelHelpers.assertThisInitialized(d)}var e=b.prototype;e.queryFn=function(a){a=this.commands.query(d("WAWebSearchUtils").normalizeString(a)).map(function(a){return{id:a.id,type:"debug-command",data:a}});return{results:a,type:"debug-command"}};return b}(d("WAWebSearchModel").Search);g.DebugCommandSearch=a}),98);
__d("WAWebDevStore",["WAWebCollections","WAWebConnModel","WAWebDebugCommandCollection","WAWebHistorySyncProgressModel","WAWebNoticeModel","WAWebPrimaryFeaturesModel","WAWebPttPrefs","WAWebServerPropsModel","WAWebSettingsModel","WAWebStreamModel","WAWebWidStore"],(function(a,b,c,d,e,f,g){a=babelHelpers["extends"]({Conn:d("WAWebConnModel").Conn,DebugCommand:c("WAWebDebugCommandCollection"),Notice:c("WAWebNoticeModel"),PttPrefs:d("WAWebPttPrefs").PttPrefs,Settings:c("WAWebSettingsModel"),ServerProps:d("WAWebServerPropsModel").ServerProps,Stream:d("WAWebStreamModel").Stream,WidStore:c("WAWebWidStore"),PrimaryFeatures:d("WAWebPrimaryFeaturesModel").PrimaryFeatures,getHistorySyncProgressModel:d("WAWebHistorySyncProgressModel").getHistorySyncProgressModel},c("WAWebCollections"));g["default"]=a}),98);
__d("WAWebDeveloperMenuDeveloperFlowLoadable.react",["JSResourceForInteraction","WAWebLazyLoadedRetriable","WAWebLoadable","WAWebLoadingDrawer.react","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");a=c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebDeveloperMenuDeveloperFlow.react").__setRef("WAWebDeveloperMenuDeveloperFlowLoadable.react").load());return a}),"DeveloperFlow");d=c("WAWebLoadable")({loader:a,loading:function(a){return i.jsx(c("WAWebLoadingDrawer.react"),{error:Boolean(a.error)})}});e=d;g["default"]=e}),98);
__d("WAWebDeveloperMenuUtils",["Promise","WATypeUtils","WAWebDebugCommandGetters","WAWebLexicalUtils","WAWebToast.react","WAWebToastManager","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react");function k(a,b,c,e){e===void 0&&(e=!1),navigator.clipboard?(void navigator.clipboard.writeText(a),d("WAWebToastManager").ToastManager.open(j.jsx(d("WAWebToast.react").Toast,{msg:e===!0?"Result copied to clipboard.":b}))):(d("WAWebToastManager").ToastManager.open(j.jsx(d("WAWebToast.react").Toast,{msg:"Clipboard API not supported."})),c==null?void 0:c.update(function(b){b=d("WAWebLexicalUtils").$getRangeSelection();a&&b&&b.insertText(a)}))}function a(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=a.paramsToExecute,f=!1;if(e!=null){e=(yield (h||(h=b("Promise"))).resolve(a.func.apply(a,e)));e=d("WATypeUtils").isString(e)?e:JSON.stringify(e,null,2);f=!0;d("WAWebToastManager").ToastManager.open(j.jsx(d("WAWebToast.react").Toast,{msg:"Command was executed."}))}else e="Debug."+d("WAWebDebugCommandGetters").getName(a);e&&k(e,"Command copied to clipboard",c,f)});return l.apply(this,arguments)}e={copyToClipboard:k,executeDebugCommand:a};g["default"]=e}),98);
__d("WAWebDownloadWebLogs",["Promise","WAWebCompression","WAWebFileSaver","WAWebFileSaverTypes","WAWebLoggerImpl","WAWebPrimaryVersion","WAWebToast.react","WAWebToastManager","WAWebUserPrefsGeneral","WAWebUserPrefsMeUser","asyncToGeneratorRuntime","gkx","react"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=1e6;function a(){d("WAWebToastManager").ToastManager.open(j.jsx(d("WAWebToast.react").Toast,{msg:"The download process has started. It might take longer for larger web log files."}));var a=new Date().toISOString().replace(/:/g,"-"),e="web_client_log_"+a;(h||(h=b("Promise"))).all([d("WAWebLoggerImpl").Logger.getLogs(),d("WAWebPrimaryVersion").getPrimaryCurrentVersion()]).then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a[0];a=a[1];if(a!=null){a="Primary app version: "+a;e.unshift(a)}a="Web log for device : "+((a=(a=d("WAWebUserPrefsMeUser").getMe())==null?void 0:a.toString())!=null?a:"")+", lid : "+((a=(a=d("WAWebUserPrefsMeUser").getMaybeMeLid())==null?void 0:a.toString())!=null?a:"")+", time: "+new Date().toString();var f=(yield d("WAWebUserPrefsGeneral").getWhatsAppWebExternalBetaJoinedIdb()),g;c("gkx")("26259")?g="Environment : INTERN "+(f?", AB Props : DEBUG (joined beta)":""):g="Environment : DEV "+(f?", AB Props : RELEASE (joined beta)":"");e.unshift(a,g);f=e.join("\n");return(h||(h=b("Promise"))).all([d("WAWebCompression").createDeflate(),f])});return function(b){return a.apply(this,arguments)}}()).then(function(a){var b=a[0];a=a[1];var c=new Blob([a],{type:"text/plain"});if(c.size>10*k){b.push(a,!0);a=new Blob([b.result()],{type:"application/zip"});return a}return c}).then(function(a){d("WAWebFileSaver").FileSaver.downloadData(a,a.type==="text/plain"?e:e+".txt",a.type==="text/plain"?d("WAWebFileSaverTypes").AllowedFileExtensions.TXT:d("WAWebFileSaverTypes").AllowedFileExtensions.ZIP)})}g.createDownloadDataForMdWebLogs=a}),98);
__d("WAWebEmojiPanelContentEmojiSearchEmpty.react",["fbt","$InternalEnum","WAWebEmptyState.react","WAWebFbtCommon","WAWebUISpacing","bx","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react"),l=c("bx").getURL(c("bx")("9550")),m=b("$InternalEnum").Mirrored(["DEFAULT","SHORTCUT_TIP"]),n={emptySearchDefault:{fontSize:"x1f6kntn",color:"x40yjcy",$$css:!0}};function a(a){a=a.emojiSearchEmptyType;a=a===void 0?m.DEFAULT:a;if(a===m.DEFAULT)return k.jsx("div",{className:(j||(j=c("stylex")))(n.emptySearchDefault,d("WAWebUISpacing").uiMargin.vert0,d("WAWebUISpacing").uiMargin.horiz14),children:c("WAWebFbtCommon")("No results found")});a=k.jsx("div",{className:"x1n2onr6 x1okw0bk xja02kk x41k7rp xhsvlbd xod5an3 x6ikm8r x10wlt62 xuuw4wc x178xt8z xm81vs4 xso031l xy80clv x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi x1sdoubt x1dd5ecb x18f41lf xt80zch x14yjl9h xudhj91 x18nykt9 xww2gxu",style:{backgroundImage:"url("+l+")"},children:k.jsxs("div",{className:"x10l6tqk x1t2f1v x1fk9kbr x1f6kntn x1epju1n",children:[":",h._("__JHASH__tfcwvkg8cKL__JHASH__")]})});return k.jsx(d("WAWebEmptyState.react").Empty,{icon:a,text:h._("__JHASH__Mf1v9fskIUp__JHASH__"),theme:"compact"})}a.displayName=a.name+" [from "+f.id+"]";e={EmojiSearchEmpty:a,EmojiSearchEmptyType:m};g["default"]=e}),226);
__d("WAWebGroupInfoDevToolsSection.react",["WAWebChatInfoDrawerSection.react","WAWebCopyPasteSelectable.react","WAWebDevOnlyBadge.react","WAWebExternalLink.react","WAWebUISpacing","WAWebURLUtils","WAWebWDSText.react","react","useWAWebModelValues"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function j(a){var b=a.groupMetadata;a=a.isCommunity;b=d("useWAWebModelValues").useModelValues(b,["id","isLidAddressingMode"]);var e=b.id;b=b.isLidAddressingMode;var f="";a===!0?f=c("WAWebURLUtils").build("https://www.internalfb.com/intern/whatsapp/admin/community_info",{gid:e.user}):f=c("WAWebURLUtils").build("https://www.internalfb.com/intern/whatsapp/admin/group_info/",{id:e.user,type:"GROUP"});b=b===!0?"LID":"PN";return i.jsxs(d("WAWebCopyPasteSelectable.react").SelectableDiv,{selectable:!0,children:[i.jsx(d("WAWebWDSText.react").WDSTextMuted,{xstyle:d("WAWebUISpacing").uiMargin.top8,children:i.jsxs(d("WAWebExternalLink.react").ExternalLink,{href:f,children:["Admin Tool - ",a===!0?"Community":"Group"," Info"]})}),i.jsxs(d("WAWebWDSText.react").WDSTextMuted,{xstyle:d("WAWebUISpacing").uiMargin.top8,children:["Group Id: ",e.toString()]}),i.jsxs(d("WAWebWDSText.react").WDSTextMuted,{xstyle:d("WAWebUISpacing").uiMargin.top8,children:["Addressing Mode - ",b]})]})}j.displayName=j.name+" [from "+f.id+"]";function a(a){var b=a.groupMetadata;a=a.isCommunity;a=a===void 0?!1:a;if(b==null)return;return i.jsx(d("WAWebChatInfoDrawerSection.react").ChatInfoDrawerSection,{title:i.jsx(d("WAWebDevOnlyBadge.react").DevOnlyBadge,{label:"Developer Section"}),children:i.jsx(j,{groupMetadata:b,isCommunity:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebIgnoreNonDirectGroupMsgToggle.react",["fbt","WAWebMuteCollection","WAWebSettingsCheckList.react","WAWebWDSText.react","react","useWAWebToggle"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(){var a=c("useWAWebToggle")(function(){return d("WAWebMuteCollection").MuteCollection.getIgnoreNondirectGroupMsg()},function(a){return d("WAWebMuteCollection").MuteCollection.setIgnoreNondirectGroupMsg(a)}),b=a[0];a=a[1];var e=h._("__JHASH__z2PY-JVW4PR__JHASH__");return j.jsxs(d("WAWebSettingsCheckList.react").SettingsCheckListItem,{testid:void 0,id:"nondirect-group-msg-notif",checked:b,checkboxRightAligned:!0,onChange:a,children:[e,j.jsx(d("WAWebWDSText.react").WDSTextMuted,{children:h._("__JHASH__UenuyuQrjTO__JHASH__")})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebMessageViewOnceSurprise",["WANullthrows","WAWebClassnames","WAWebEmoji","WAWebEmojiConst","WAWebFlex.react","WAWebMessageLargeEmoji.react","react","useWAWebListener"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useState;function a(a){var b=a.isPeeking,e=a.onAnimationEnd;a=k(null);var f=a[0];a=a[1];d("useWAWebListener").useListener(f,"animationend",function(){e()});return j.jsx(d("WAWebFlex.react").FlexRow,{className:"x10l6tqk xepu288 xa1v5g2 xh8yej3 x90ne7k xm77wn2 x6ikm8r x10wlt62 xd2xkou x47corl",align:"center",justify:"center",children:j.jsx("div",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((f={},f["xy6z7qb xxkxylk x1hs1qyz xuij49y xpz12be"]=b,f["x1n2onr6 xs7f9wi"]=!0,f)),ref:a,"aria-hidden":"true",children:j.jsx(d("WAWebMessageLargeEmoji.react").LargeEmoji,{emoji:c("WANullthrows")(d("WAWebEmoji").EmojiUtil.normalizeEmojiFromString("\ud83e\udd2b")),selectable:!1,size:d("WAWebEmojiConst").LargeEmojiSize.LARGE})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebMutedChatsBar.react",["WAWebKeyboardHotKeys.react","react","useWAWebListener","useWAWebPrevious"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useCallback,l=b.useEffect,m=b.useState;function a(a){var b=a.mutedChats,e=a.mutedChatsCollapsed,f=a.onClick,g=c("useWAWebPrevious")(b);a=m(function(){return n(b)});var h=a[0],i=a[1],o=k(function(){i(n(b))},[b]);d("useWAWebListener").useListeners(b.map(function(a){return{source:a,eventOrEvents:"change:unreadCount",callback:o}}));l(function(){(g==null?void 0:g.length)!==b.length&&o()},[o,b,g]);a=function(a){a.preventDefault(),a.stopPropagation(),f()};var p=b.length;a={enter:a};return j.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{handlers:a,children:j.jsx("div",{className:"x78zum5 xdt5ytf x6s0dn4 xl56j7k x1gnnpzl x14uny0o xvpee5o x1q7yeco x1277o0a",onClick:f,children:j.jsxs("div",{className:"x78zum5 x1q0g3np x1qughib x1nxh6w3 x40yjcy xe612lr",children:[j.jsx("span",{children:e?"Show "+p+" Muted Chats":"Hide "+p+" Muted Chats"}),h>0?j.jsx("span",{className:"x10l6tqk x1atx4j1 x1ntpj0o x1tsellj x1xaadd7 x682dto x1e01kqd xpqt37d x9bpaai x1pg5gke xk50ysn xtqhoxe x40yjcy x2b8uid x150wa6m x1sbl2l xy9co9w x5r174s x7h3shv",children:Math.min(h,99)}):null]})})})}a.displayName=a.name+" [from "+f.id+"]";function n(a){return a.reduce(function(a,b){return a+b.unreadCount},0)}g["default"]=a}),98);
__d("WAWebNewsletterInfoDevToolsSection.react",["WAWebChatInfoDrawerSection.react","WAWebDevOnlyBadge.react","WAWebExternalLink.react","WAWebUISpacing","WAWebURLUtils","WAWebWDSText.react","WAWebWid","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){a=a.chat;a=c("WAWebWid").user(a.id)||"";a=c("WAWebURLUtils").build("https://www.internalfb.com/intern/whatsapp/admin/channel_info",{cid:a});return i.jsx(d("WAWebChatInfoDrawerSection.react").ChatInfoDrawerSection,{title:i.jsx(d("WAWebDevOnlyBadge.react").DevOnlyBadge,{label:"Developer Section"}),xstyle:d("WAWebUISpacing").uiMargin.top10,children:i.jsx(d("WAWebWDSText.react").WDSTextTitle,{as:"span",children:i.jsx(d("WAWebExternalLink.react").ExternalLink,{href:a,children:"Admin Tool - Channel Info"})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebScanDbModal.react",["fbt","WALogger","WAWebCmd","WAWebConfirmPopup.react","WAWebDbUsageApiConst","WAWebDbUsageEstimateIndexeddbUsageJob","WAWebExternalLink.react","WAWebModalManager","WAWebUserPrefsGeneral","react"],(function(a,b,c,d,e,f,g,h){var i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to get IndexedDB estimated storage"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["IndexedDB estimated snapshot:\n",""],["IndexedDB estimated snapshot:\\n",""]);k=function(){return a};return a}var l=i||c("react"),m="https://www.internalfb.com/intern/wiki/WhatsApp/Eng/Client/Web/Product_Infra_Team/DB_Usage_Scan/";function a(a){var b=a.isHighQuotaExceeded,e=function(){d("WAWebModalManager").ModalManager.close();var a=d("WAWebUserPrefsGeneral").getStorageDismissState();b?(a.highQuotaDismissed=!0,d("WAWebUserPrefsGeneral").setStorageDismissState(a)):(a.lowQuotaDismissed=!0,d("WAWebUserPrefsGeneral").setStorageDismissState(a));d("WAWebUserPrefsGeneral").setStorageAlert(d("WAWebDbUsageApiConst").StorageAlertType.NO_ALERT);d("WAWebCmd").Cmd.triggerStorageAlert()};a=function(){e(),c("WAWebDbUsageEstimateIndexeddbUsageJob").getEstimatedIndexedDbUsageJob(!0,1).then(function(a){d("WALogger").LOG(k(),a.output).tags("idb-storage").sendLogs("user_idb_storage_exceeded")})["catch"](function(){d("WALogger").LOG(j()).tags("idb-storage").sendLogs("user_idb_storage_exceeded_scan_failed")})};var f=l.jsx(d("WAWebExternalLink.react").ExternalLink,{href:m,children:h._("__JHASH__ofSKbj4p0iW__JHASH__")});return l.jsxs(d("WAWebConfirmPopup.react").ConfirmPopup,{title:"Scan Database Usage",onOK:a,okText:"OK",onCancel:e,cancelText:"Cancel",children:["[Internal Only] Can we scan your db usage for future optimization?\xa0",f]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebSchemaVersionOverrideButterbar.react",["WAWebButterbar.react","WAWebUIRefreshGatingUtils","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");b=i.forwardRef(a);function a(a,b){a=a.onDismissNotice;return i.jsx(c("WAWebButterbar.react"),{ref:b,useWDS:d("WAWebUIRefreshGatingUtils").materialRefreshEnabled(),type:"generalAlert",title:"[DEV ONLY] Database Version Override",text:"You are overriding the database schema version. Make sure to test a new client without the override. More info: https://fburl.com/wa_wc_db_rollout",onDismiss:a},"schema_override_bbar")}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),98);
__d("WAWebStorageWarningButterbar.react",["WAWebActionLinkButterbar.react","WAWebButterbar.react","WAWebDbUsageApiConst","WAWebModalManager","WAWebScanDbModal.react","WAWebUIRefreshGatingUtils","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");b=i.forwardRef(a);function a(a,b){a=a.alertType;if(a==null)return null;var e=null,f=null;switch(a){case d("WAWebDbUsageApiConst").StorageAlertType.NO_ALERT:return null;case d("WAWebDbUsageApiConst").StorageAlertType.LOW_QUOTA_EXCEEDED:e=function(){d("WAWebModalManager").ModalManager.open(i.jsx(c("WAWebScanDbModal.react"),{isHighQuotaExceeded:!1}))};f="More than 1GB storage usage detected. This is unusually big storage consumption.";break;case d("WAWebDbUsageApiConst").StorageAlertType.HIGH_QUOTA_EXCEEDED:e=function(){d("WAWebModalManager").ModalManager.open(i.jsx(c("WAWebScanDbModal.react"),{isHighQuotaExceeded:!0}))};f="More than 1.5GB excess storage usage detected. This is unusually big storage consumption.";break}if(e==null||f==null)return null;a=i.jsxs(i.Fragment,{children:[f,i.jsx(c("WAWebActionLinkButterbar.react"),{action:e,children:"Scan Database Usage"})]});return i.jsx(c("WAWebButterbar.react"),{ref:b,useWDS:d("WAWebUIRefreshGatingUtils").materialRefreshEnabled(),type:"generalAlert",title:"[INTERNAL] Unexpected storage consumption detected",text:a,action:e},"bbar")}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),98);